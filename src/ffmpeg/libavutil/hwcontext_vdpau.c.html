<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>hwcontext_vdpau.c source code [ffmpeg/libavutil/hwcontext_vdpau.c] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="VDPAUDeviceContext,VDPAUDevicePriv,VDPAUFramesContext,VDPAUPixFmtMap "/>
<link rel="stylesheet" href="../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'ffmpeg/libavutil/hwcontext_vdpau.c'; var root_path = '../..'; var data_path = '../../../data';</script>
<script src='../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>ffmpeg</a>/<a href='./'>libavutil</a>/<a href='hwcontext_vdpau.c.html'>hwcontext_vdpau.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * This file is part of FFmpeg.</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * FFmpeg is free software; you can redistribute it and/or</i></td></tr>
<tr><th id="5">5</th><td><i> * modify it under the terms of the GNU Lesser General Public</i></td></tr>
<tr><th id="6">6</th><td><i> * License as published by the Free Software Foundation; either</i></td></tr>
<tr><th id="7">7</th><td><i> * version 2.1 of the License, or (at your option) any later version.</i></td></tr>
<tr><th id="8">8</th><td><i> *</i></td></tr>
<tr><th id="9">9</th><td><i> * FFmpeg is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="10">10</th><td><i> * but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="11">11</th><td><i> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</i></td></tr>
<tr><th id="12">12</th><td><i> * Lesser General Public License for more details.</i></td></tr>
<tr><th id="13">13</th><td><i> *</i></td></tr>
<tr><th id="14">14</th><td><i> * You should have received a copy of the GNU Lesser General Public</i></td></tr>
<tr><th id="15">15</th><td><i> * License along with FFmpeg; if not, write to the Free Software</i></td></tr>
<tr><th id="16">16</th><td><i> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</i></td></tr>
<tr><th id="17">17</th><td><i> */</i></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../config.h.html">"config.h"</a></u></td></tr>
<tr><th id="20">20</th><td></td></tr>
<tr><th id="21">21</th><td><u>#include &lt;stdint.h&gt;</u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../include/string.h.html">&lt;string.h&gt;</a></u></td></tr>
<tr><th id="23">23</th><td></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../../include/vdpau/vdpau.h.html">&lt;vdpau/vdpau.h&gt;</a></u></td></tr>
<tr><th id="25">25</th><td></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="buffer.h.html">"buffer.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="common.h.html">"common.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="hwcontext.h.html">"hwcontext.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="hwcontext_internal.h.html">"hwcontext_internal.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="hwcontext_vdpau.h.html">"hwcontext_vdpau.h"</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="mem.h.html">"mem.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="pixfmt.h.html">"pixfmt.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="pixdesc.h.html">"pixdesc.h"</a></u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="VDPAUDeviceContext" title='VDPAUDeviceContext' data-ref="VDPAUDeviceContext"><a class="type" href="#VDPAUDeviceContext" title='VDPAUDeviceContext' data-ref="VDPAUDeviceContext">VDPAUDeviceContext</a></dfn> {</td></tr>
<tr><th id="36">36</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurfaceQueryGetPutBitsYCbCrCapabilities" title='VdpVideoSurfaceQueryGetPutBitsYCbCrCapabilities' data-type='VdpStatus (VdpDevice, VdpChromaType, VdpYCbCrFormat, VdpBool *)' data-ref="VdpVideoSurfaceQueryGetPutBitsYCbCrCapabilities">VdpVideoSurfaceQueryGetPutBitsYCbCrCapabilities</a> *<dfn class="tu decl" id="VDPAUDeviceContext::get_transfer_caps" title='VDPAUDeviceContext::get_transfer_caps' data-type='VdpVideoSurfaceQueryGetPutBitsYCbCrCapabilities *' data-ref="VDPAUDeviceContext::get_transfer_caps">get_transfer_caps</dfn>;</td></tr>
<tr><th id="37">37</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurfaceGetBitsYCbCr" title='VdpVideoSurfaceGetBitsYCbCr' data-type='VdpStatus (VdpVideoSurface, VdpYCbCrFormat, void *const *, const uint32_t *)' data-ref="VdpVideoSurfaceGetBitsYCbCr">VdpVideoSurfaceGetBitsYCbCr</a>                     *<dfn class="tu decl" id="VDPAUDeviceContext::get_data" title='VDPAUDeviceContext::get_data' data-type='VdpVideoSurfaceGetBitsYCbCr *' data-ref="VDPAUDeviceContext::get_data">get_data</dfn>;</td></tr>
<tr><th id="38">38</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurfacePutBitsYCbCr" title='VdpVideoSurfacePutBitsYCbCr' data-type='VdpStatus (VdpVideoSurface, VdpYCbCrFormat, const void *const *, const uint32_t *)' data-ref="VdpVideoSurfacePutBitsYCbCr">VdpVideoSurfacePutBitsYCbCr</a>                     *<dfn class="tu decl" id="VDPAUDeviceContext::put_data" title='VDPAUDeviceContext::put_data' data-type='VdpVideoSurfacePutBitsYCbCr *' data-ref="VDPAUDeviceContext::put_data">put_data</dfn>;</td></tr>
<tr><th id="39">39</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurfaceCreate" title='VdpVideoSurfaceCreate' data-type='VdpStatus (VdpDevice, VdpChromaType, uint32_t, uint32_t, VdpVideoSurface *)' data-ref="VdpVideoSurfaceCreate">VdpVideoSurfaceCreate</a>                           *<dfn class="tu decl" id="VDPAUDeviceContext::surf_create" title='VDPAUDeviceContext::surf_create' data-type='VdpVideoSurfaceCreate *' data-ref="VDPAUDeviceContext::surf_create">surf_create</dfn>;</td></tr>
<tr><th id="40">40</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurfaceDestroy" title='VdpVideoSurfaceDestroy' data-type='VdpStatus (VdpVideoSurface)' data-ref="VdpVideoSurfaceDestroy">VdpVideoSurfaceDestroy</a>                          *<dfn class="tu decl" id="VDPAUDeviceContext::surf_destroy" title='VDPAUDeviceContext::surf_destroy' data-type='VdpVideoSurfaceDestroy *' data-ref="VDPAUDeviceContext::surf_destroy">surf_destroy</dfn>;</td></tr>
<tr><th id="41">41</th><td></td></tr>
<tr><th id="42">42</th><td>    <b>enum</b> <a class="type" href="pixfmt.h.html#AVPixelFormat" title='AVPixelFormat' data-ref="AVPixelFormat">AVPixelFormat</a> *<dfn class="tu decl" id="VDPAUDeviceContext::pix_fmts" title='VDPAUDeviceContext::pix_fmts' data-type='enum AVPixelFormat *[3]' data-ref="VDPAUDeviceContext::pix_fmts">pix_fmts</dfn>[<var>3</var>];</td></tr>
<tr><th id="43">43</th><td>    <em>int</em>              <dfn class="tu decl" id="VDPAUDeviceContext::nb_pix_fmts" title='VDPAUDeviceContext::nb_pix_fmts' data-type='int [3]' data-ref="VDPAUDeviceContext::nb_pix_fmts">nb_pix_fmts</dfn>[<var>3</var>];</td></tr>
<tr><th id="44">44</th><td>} <dfn class="typedef" id="VDPAUDeviceContext" title='VDPAUDeviceContext' data-type='struct VDPAUDeviceContext' data-ref="VDPAUDeviceContext">VDPAUDeviceContext</dfn>;</td></tr>
<tr><th id="45">45</th><td></td></tr>
<tr><th id="46">46</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="VDPAUFramesContext" title='VDPAUFramesContext' data-ref="VDPAUFramesContext"><a class="type" href="#VDPAUFramesContext" title='VDPAUFramesContext' data-ref="VDPAUFramesContext">VDPAUFramesContext</a></dfn> {</td></tr>
<tr><th id="47">47</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurfaceGetBitsYCbCr" title='VdpVideoSurfaceGetBitsYCbCr' data-type='VdpStatus (VdpVideoSurface, VdpYCbCrFormat, void *const *, const uint32_t *)' data-ref="VdpVideoSurfaceGetBitsYCbCr">VdpVideoSurfaceGetBitsYCbCr</a> *<dfn class="tu decl" id="VDPAUFramesContext::get_data" title='VDPAUFramesContext::get_data' data-type='VdpVideoSurfaceGetBitsYCbCr *' data-ref="VDPAUFramesContext::get_data">get_data</dfn>;</td></tr>
<tr><th id="48">48</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurfacePutBitsYCbCr" title='VdpVideoSurfacePutBitsYCbCr' data-type='VdpStatus (VdpVideoSurface, VdpYCbCrFormat, const void *const *, const uint32_t *)' data-ref="VdpVideoSurfacePutBitsYCbCr">VdpVideoSurfacePutBitsYCbCr</a> *<dfn class="tu decl" id="VDPAUFramesContext::put_data" title='VDPAUFramesContext::put_data' data-type='VdpVideoSurfacePutBitsYCbCr *' data-ref="VDPAUFramesContext::put_data">put_data</dfn>;</td></tr>
<tr><th id="49">49</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpChromaType" title='VdpChromaType' data-type='uint32_t' data-ref="VdpChromaType">VdpChromaType</a> <dfn class="tu decl" id="VDPAUFramesContext::chroma_type" title='VDPAUFramesContext::chroma_type' data-type='VdpChromaType' data-ref="VDPAUFramesContext::chroma_type">chroma_type</dfn>;</td></tr>
<tr><th id="50">50</th><td>    <em>int</em> <dfn class="tu decl" id="VDPAUFramesContext::chroma_idx" title='VDPAUFramesContext::chroma_idx' data-type='int' data-ref="VDPAUFramesContext::chroma_idx">chroma_idx</dfn>;</td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td>    <em>const</em> <b>enum</b> <a class="type" href="pixfmt.h.html#AVPixelFormat" title='AVPixelFormat' data-ref="AVPixelFormat">AVPixelFormat</a> *<dfn class="tu decl" id="VDPAUFramesContext::pix_fmts" title='VDPAUFramesContext::pix_fmts' data-type='const enum AVPixelFormat *' data-ref="VDPAUFramesContext::pix_fmts">pix_fmts</dfn>;</td></tr>
<tr><th id="53">53</th><td>    <em>int</em>                       <dfn class="tu decl" id="VDPAUFramesContext::nb_pix_fmts" title='VDPAUFramesContext::nb_pix_fmts' data-type='int' data-ref="VDPAUFramesContext::nb_pix_fmts">nb_pix_fmts</dfn>;</td></tr>
<tr><th id="54">54</th><td>} <dfn class="typedef" id="VDPAUFramesContext" title='VDPAUFramesContext' data-type='struct VDPAUFramesContext' data-ref="VDPAUFramesContext">VDPAUFramesContext</dfn>;</td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="VDPAUPixFmtMap" title='VDPAUPixFmtMap' data-ref="VDPAUPixFmtMap"><a class="type" href="#VDPAUPixFmtMap" title='VDPAUPixFmtMap' data-ref="VDPAUPixFmtMap">VDPAUPixFmtMap</a></dfn> {</td></tr>
<tr><th id="57">57</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpYCbCrFormat" title='VdpYCbCrFormat' data-type='uint32_t' data-ref="VdpYCbCrFormat">VdpYCbCrFormat</a> <dfn class="tu decl" id="VDPAUPixFmtMap::vdpau_fmt" title='VDPAUPixFmtMap::vdpau_fmt' data-type='VdpYCbCrFormat' data-ref="VDPAUPixFmtMap::vdpau_fmt">vdpau_fmt</dfn>;</td></tr>
<tr><th id="58">58</th><td>    <b>enum</b> <a class="type" href="pixfmt.h.html#AVPixelFormat" title='AVPixelFormat' data-ref="AVPixelFormat">AVPixelFormat</a> <dfn class="tu decl" id="VDPAUPixFmtMap::pix_fmt" title='VDPAUPixFmtMap::pix_fmt' data-type='enum AVPixelFormat' data-ref="VDPAUPixFmtMap::pix_fmt">pix_fmt</dfn>;</td></tr>
<tr><th id="59">59</th><td>} <dfn class="typedef" id="VDPAUPixFmtMap" title='VDPAUPixFmtMap' data-type='struct VDPAUPixFmtMap' data-ref="VDPAUPixFmtMap">VDPAUPixFmtMap</dfn>;</td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td><em>static</em> <em>const</em> <a class="typedef" href="#VDPAUPixFmtMap" title='VDPAUPixFmtMap' data-type='struct VDPAUPixFmtMap' data-ref="VDPAUPixFmtMap">VDPAUPixFmtMap</a> <dfn class="tu decl def" id="pix_fmts_420" title='pix_fmts_420' data-type='const VDPAUPixFmtMap [3]' data-ref="pix_fmts_420">pix_fmts_420</dfn>[] = {</td></tr>
<tr><th id="62">62</th><td>    { <a class="macro" href="../../include/vdpau/vdpau.h.html#831" title="(VdpYCbCrFormat)0" data-ref="_M/VDP_YCBCR_FORMAT_NV12">VDP_YCBCR_FORMAT_NV12</a>, <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NV12" title='AVPixelFormat::AV_PIX_FMT_NV12' data-ref="AVPixelFormat::AV_PIX_FMT_NV12">AV_PIX_FMT_NV12</a>    },</td></tr>
<tr><th id="63">63</th><td>    { <a class="macro" href="../../include/vdpau/vdpau.h.html#843" title="(VdpYCbCrFormat)1" data-ref="_M/VDP_YCBCR_FORMAT_YV12">VDP_YCBCR_FORMAT_YV12</a>, <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_YUV420P" title='AVPixelFormat::AV_PIX_FMT_YUV420P' data-ref="AVPixelFormat::AV_PIX_FMT_YUV420P">AV_PIX_FMT_YUV420P</a> },</td></tr>
<tr><th id="64">64</th><td>    { <var>0</var>,                     <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NONE" title='AVPixelFormat::AV_PIX_FMT_NONE' data-ref="AVPixelFormat::AV_PIX_FMT_NONE">AV_PIX_FMT_NONE</a>,   },</td></tr>
<tr><th id="65">65</th><td>};</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td><em>static</em> <em>const</em> <a class="typedef" href="#VDPAUPixFmtMap" title='VDPAUPixFmtMap' data-type='struct VDPAUPixFmtMap' data-ref="VDPAUPixFmtMap">VDPAUPixFmtMap</a> <dfn class="tu decl def" id="pix_fmts_422" title='pix_fmts_422' data-type='const VDPAUPixFmtMap [5]' data-ref="pix_fmts_422">pix_fmts_422</dfn>[] = {</td></tr>
<tr><th id="68">68</th><td>    { <a class="macro" href="../../include/vdpau/vdpau.h.html#831" title="(VdpYCbCrFormat)0" data-ref="_M/VDP_YCBCR_FORMAT_NV12">VDP_YCBCR_FORMAT_NV12</a>, <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NV16" title='AVPixelFormat::AV_PIX_FMT_NV16' data-ref="AVPixelFormat::AV_PIX_FMT_NV16">AV_PIX_FMT_NV16</a>    },</td></tr>
<tr><th id="69">69</th><td>    { <a class="macro" href="../../include/vdpau/vdpau.h.html#843" title="(VdpYCbCrFormat)1" data-ref="_M/VDP_YCBCR_FORMAT_YV12">VDP_YCBCR_FORMAT_YV12</a>, <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_YUV422P" title='AVPixelFormat::AV_PIX_FMT_YUV422P' data-ref="AVPixelFormat::AV_PIX_FMT_YUV422P">AV_PIX_FMT_YUV422P</a> },</td></tr>
<tr><th id="70">70</th><td>    { <a class="macro" href="../../include/vdpau/vdpau.h.html#857" title="(VdpYCbCrFormat)2" data-ref="_M/VDP_YCBCR_FORMAT_UYVY">VDP_YCBCR_FORMAT_UYVY</a>, <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_UYVY422" title='AVPixelFormat::AV_PIX_FMT_UYVY422' data-ref="AVPixelFormat::AV_PIX_FMT_UYVY422">AV_PIX_FMT_UYVY422</a> },</td></tr>
<tr><th id="71">71</th><td>    { <a class="macro" href="../../include/vdpau/vdpau.h.html#871" title="(VdpYCbCrFormat)3" data-ref="_M/VDP_YCBCR_FORMAT_YUYV">VDP_YCBCR_FORMAT_YUYV</a>, <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_YUYV422" title='AVPixelFormat::AV_PIX_FMT_YUYV422' data-ref="AVPixelFormat::AV_PIX_FMT_YUYV422">AV_PIX_FMT_YUYV422</a> },</td></tr>
<tr><th id="72">72</th><td>    { <var>0</var>,                     <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NONE" title='AVPixelFormat::AV_PIX_FMT_NONE' data-ref="AVPixelFormat::AV_PIX_FMT_NONE">AV_PIX_FMT_NONE</a>,   },</td></tr>
<tr><th id="73">73</th><td>};</td></tr>
<tr><th id="74">74</th><td></td></tr>
<tr><th id="75">75</th><td><em>static</em> <em>const</em> <a class="typedef" href="#VDPAUPixFmtMap" title='VDPAUPixFmtMap' data-type='struct VDPAUPixFmtMap' data-ref="VDPAUPixFmtMap">VDPAUPixFmtMap</a> <dfn class="tu decl def" id="pix_fmts_444" title='pix_fmts_444' data-type='const VDPAUPixFmtMap [2]' data-ref="pix_fmts_444">pix_fmts_444</dfn>[] = {</td></tr>
<tr><th id="76">76</th><td>    { <a class="macro" href="../../include/vdpau/vdpau.h.html#843" title="(VdpYCbCrFormat)1" data-ref="_M/VDP_YCBCR_FORMAT_YV12">VDP_YCBCR_FORMAT_YV12</a>, <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_YUV444P" title='AVPixelFormat::AV_PIX_FMT_YUV444P' data-ref="AVPixelFormat::AV_PIX_FMT_YUV444P">AV_PIX_FMT_YUV444P</a> },</td></tr>
<tr><th id="77">77</th><td>    { <var>0</var>,                     <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NONE" title='AVPixelFormat::AV_PIX_FMT_NONE' data-ref="AVPixelFormat::AV_PIX_FMT_NONE">AV_PIX_FMT_NONE</a>,   },</td></tr>
<tr><th id="78">78</th><td>};</td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td><em>static</em> <em>const</em> <b>struct</b> {</td></tr>
<tr><th id="81">81</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpChromaType" title='VdpChromaType' data-type='uint32_t' data-ref="VdpChromaType">VdpChromaType</a> <dfn class="local col1 decl" id="1chroma_type" title='chroma_type' data-type='VdpChromaType' data-ref="1chroma_type">chroma_type</dfn>;</td></tr>
<tr><th id="82">82</th><td>    <em>const</em> <a class="typedef" href="#VDPAUPixFmtMap" title='VDPAUPixFmtMap' data-type='struct VDPAUPixFmtMap' data-ref="VDPAUPixFmtMap">VDPAUPixFmtMap</a> *<dfn class="local col2 decl" id="2map" title='map' data-type='const VDPAUPixFmtMap *' data-ref="2map">map</dfn>;</td></tr>
<tr><th id="83">83</th><td>} <dfn class="tu decl def" id="vdpau_pix_fmts" title='vdpau_pix_fmts' data-type='const struct &lt;anonymous struct at /usr/local/google/home/robertshih/ffmpeg/src/ffmpeg/libavutil/hwcontext_vdpau.c:80:14&gt; [3]' data-ref="vdpau_pix_fmts">vdpau_pix_fmts</dfn>[] = {</td></tr>
<tr><th id="84">84</th><td>    { <a class="macro" href="../../include/vdpau/vdpau.h.html#807" title="(VdpChromaType)0" data-ref="_M/VDP_CHROMA_TYPE_420">VDP_CHROMA_TYPE_420</a>, <a class="tu ref" href="#pix_fmts_420" title='pix_fmts_420' data-ref="pix_fmts_420">pix_fmts_420</a> },</td></tr>
<tr><th id="85">85</th><td>    { <a class="macro" href="../../include/vdpau/vdpau.h.html#809" title="(VdpChromaType)1" data-ref="_M/VDP_CHROMA_TYPE_422">VDP_CHROMA_TYPE_422</a>, <a class="tu ref" href="#pix_fmts_422" title='pix_fmts_422' data-ref="pix_fmts_422">pix_fmts_422</a> },</td></tr>
<tr><th id="86">86</th><td>    { <a class="macro" href="../../include/vdpau/vdpau.h.html#811" title="(VdpChromaType)2" data-ref="_M/VDP_CHROMA_TYPE_444">VDP_CHROMA_TYPE_444</a>, <a class="tu ref" href="#pix_fmts_444" title='pix_fmts_444' data-ref="pix_fmts_444">pix_fmts_444</a> },</td></tr>
<tr><th id="87">87</th><td>};</td></tr>
<tr><th id="88">88</th><td></td></tr>
<tr><th id="89">89</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="count_pixfmts" title='count_pixfmts' data-type='int count_pixfmts(const VDPAUPixFmtMap * map)' data-ref="count_pixfmts">count_pixfmts</dfn>(<em>const</em> <a class="typedef" href="#VDPAUPixFmtMap" title='VDPAUPixFmtMap' data-type='struct VDPAUPixFmtMap' data-ref="VDPAUPixFmtMap">VDPAUPixFmtMap</a> *<dfn class="local col3 decl" id="3map" title='map' data-type='const VDPAUPixFmtMap *' data-ref="3map">map</dfn>)</td></tr>
<tr><th id="90">90</th><td>{</td></tr>
<tr><th id="91">91</th><td>    <em>int</em> <dfn class="local col4 decl" id="4count" title='count' data-type='int' data-ref="4count">count</dfn> = <var>0</var>;</td></tr>
<tr><th id="92">92</th><td>    <b>while</b> (<a class="local col3 ref" href="#3map" title='map' data-ref="3map">map</a>-&gt;<a class="tu ref" href="#VDPAUPixFmtMap::pix_fmt" title='VDPAUPixFmtMap::pix_fmt' data-use='r' data-ref="VDPAUPixFmtMap::pix_fmt">pix_fmt</a> != <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NONE" title='AVPixelFormat::AV_PIX_FMT_NONE' data-ref="AVPixelFormat::AV_PIX_FMT_NONE">AV_PIX_FMT_NONE</a>) {</td></tr>
<tr><th id="93">93</th><td>        <a class="local col3 ref" href="#3map" title='map' data-ref="3map">map</a>++;</td></tr>
<tr><th id="94">94</th><td>        <a class="local col4 ref" href="#4count" title='count' data-ref="4count">count</a>++;</td></tr>
<tr><th id="95">95</th><td>    }</td></tr>
<tr><th id="96">96</th><td>    <b>return</b> <a class="local col4 ref" href="#4count" title='count' data-ref="4count">count</a>;</td></tr>
<tr><th id="97">97</th><td>}</td></tr>
<tr><th id="98">98</th><td></td></tr>
<tr><th id="99">99</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="vdpau_init_pixmfts" title='vdpau_init_pixmfts' data-type='int vdpau_init_pixmfts(AVHWDeviceContext * ctx)' data-ref="vdpau_init_pixmfts">vdpau_init_pixmfts</dfn>(<a class="typedef" href="hwcontext.h.html#AVHWDeviceContext" title='AVHWDeviceContext' data-type='struct AVHWDeviceContext' data-ref="AVHWDeviceContext">AVHWDeviceContext</a> *<dfn class="local col5 decl" id="5ctx" title='ctx' data-type='AVHWDeviceContext *' data-ref="5ctx">ctx</dfn>)</td></tr>
<tr><th id="100">100</th><td>{</td></tr>
<tr><th id="101">101</th><td>    <a class="typedef" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext" title='AVVDPAUDeviceContext' data-type='struct AVVDPAUDeviceContext' data-ref="AVVDPAUDeviceContext">AVVDPAUDeviceContext</a> *<dfn class="local col6 decl" id="6hwctx" title='hwctx' data-type='AVVDPAUDeviceContext *' data-ref="6hwctx">hwctx</dfn> = <a class="local col5 ref" href="#5ctx" title='ctx' data-ref="5ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::hwctx" title='AVHWDeviceContext::hwctx' data-ref="AVHWDeviceContext::hwctx">hwctx</a>;</td></tr>
<tr><th id="102">102</th><td>    <a class="typedef" href="#VDPAUDeviceContext" title='VDPAUDeviceContext' data-type='struct VDPAUDeviceContext' data-ref="VDPAUDeviceContext">VDPAUDeviceContext</a>    *<dfn class="local col7 decl" id="7priv" title='priv' data-type='VDPAUDeviceContext *' data-ref="7priv">priv</dfn> = <a class="local col5 ref" href="#5ctx" title='ctx' data-ref="5ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::internal" title='AVHWDeviceContext::internal' data-ref="AVHWDeviceContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWDeviceInternal::priv" title='AVHWDeviceInternal::priv' data-ref="AVHWDeviceInternal::priv">priv</a>;</td></tr>
<tr><th id="103">103</th><td>    <em>int</em> <dfn class="local col8 decl" id="8i" title='i' data-type='int' data-ref="8i">i</dfn>;</td></tr>
<tr><th id="104">104</th><td></td></tr>
<tr><th id="105">105</th><td>    <b>for</b> (<a class="local col8 ref" href="#8i" title='i' data-ref="8i">i</a> = <var>0</var>; <a class="local col8 ref" href="#8i" title='i' data-ref="8i">i</a> &lt; <a class="macro" href="common.h.html#100" title="(sizeof(priv-&gt;pix_fmts) / sizeof((priv-&gt;pix_fmts)[0]))" data-ref="_M/FF_ARRAY_ELEMS">FF_ARRAY_ELEMS</a>(<a class="local col7 ref" href="#7priv" title='priv' data-ref="7priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::pix_fmts" title='VDPAUDeviceContext::pix_fmts' data-use='r' data-ref="VDPAUDeviceContext::pix_fmts">pix_fmts</a>); <a class="local col8 ref" href="#8i" title='i' data-ref="8i">i</a>++) {</td></tr>
<tr><th id="106">106</th><td>        <em>const</em> <a class="typedef" href="#VDPAUPixFmtMap" title='VDPAUPixFmtMap' data-type='struct VDPAUPixFmtMap' data-ref="VDPAUPixFmtMap">VDPAUPixFmtMap</a> *<dfn class="local col9 decl" id="9map" title='map' data-type='const VDPAUPixFmtMap *' data-ref="9map">map</dfn> = <a class="tu ref" href="#vdpau_pix_fmts" title='vdpau_pix_fmts' data-use='m' data-ref="vdpau_pix_fmts">vdpau_pix_fmts</a>[<a class="local col8 ref" href="#8i" title='i' data-ref="8i">i</a>].<a class="local col2 ref" href="#2map" title='map' data-ref="2map">map</a>;</td></tr>
<tr><th id="107">107</th><td>        <em>int</em> <dfn class="local col0 decl" id="10nb_pix_fmts" title='nb_pix_fmts' data-type='int' data-ref="10nb_pix_fmts">nb_pix_fmts</dfn>;</td></tr>
<tr><th id="108">108</th><td></td></tr>
<tr><th id="109">109</th><td>        <a class="local col0 ref" href="#10nb_pix_fmts" title='nb_pix_fmts' data-ref="10nb_pix_fmts">nb_pix_fmts</a> = <a class="tu ref" href="#count_pixfmts" title='count_pixfmts' data-use='c' data-ref="count_pixfmts">count_pixfmts</a>(<a class="local col9 ref" href="#9map" title='map' data-ref="9map">map</a>);</td></tr>
<tr><th id="110">110</th><td>        <a class="local col7 ref" href="#7priv" title='priv' data-ref="7priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::pix_fmts" title='VDPAUDeviceContext::pix_fmts' data-use='w' data-ref="VDPAUDeviceContext::pix_fmts">pix_fmts</a>[<a class="local col8 ref" href="#8i" title='i' data-ref="8i">i</a>] = <a class="ref" href="mem.h.html#av_malloc_array" title='av_malloc_array' data-ref="av_malloc_array">av_malloc_array</a>(<a class="local col0 ref" href="#10nb_pix_fmts" title='nb_pix_fmts' data-ref="10nb_pix_fmts">nb_pix_fmts</a> + <var>1</var>, <b>sizeof</b>(*<a class="local col7 ref" href="#7priv" title='priv' data-ref="7priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::pix_fmts" title='VDPAUDeviceContext::pix_fmts' data-use='r' data-ref="VDPAUDeviceContext::pix_fmts">pix_fmts</a>[<a class="local col8 ref" href="#8i" title='i' data-ref="8i">i</a>]));</td></tr>
<tr><th id="111">111</th><td>        <b>if</b> (!<a class="local col7 ref" href="#7priv" title='priv' data-ref="7priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::pix_fmts" title='VDPAUDeviceContext::pix_fmts' data-use='r' data-ref="VDPAUDeviceContext::pix_fmts">pix_fmts</a>[<a class="local col8 ref" href="#8i" title='i' data-ref="8i">i</a>])</td></tr>
<tr><th id="112">112</th><td>            <b>return</b> <a class="macro" href="error.h.html#39" title="(-(12))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno-base.h.html#15" title="12" data-ref="_M/ENOMEM">ENOMEM</a>);</td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td>        <a class="local col0 ref" href="#10nb_pix_fmts" title='nb_pix_fmts' data-ref="10nb_pix_fmts">nb_pix_fmts</a> = <var>0</var>;</td></tr>
<tr><th id="115">115</th><td>        <b>while</b> (<a class="local col9 ref" href="#9map" title='map' data-ref="9map">map</a>-&gt;<a class="tu ref" href="#VDPAUPixFmtMap::pix_fmt" title='VDPAUPixFmtMap::pix_fmt' data-use='r' data-ref="VDPAUPixFmtMap::pix_fmt">pix_fmt</a> != <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NONE" title='AVPixelFormat::AV_PIX_FMT_NONE' data-ref="AVPixelFormat::AV_PIX_FMT_NONE">AV_PIX_FMT_NONE</a>) {</td></tr>
<tr><th id="116">116</th><td>            <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpBool" title='VdpBool' data-type='int' data-ref="VdpBool">VdpBool</a> <dfn class="local col1 decl" id="11supported" title='supported' data-type='VdpBool' data-ref="11supported">supported</dfn>;</td></tr>
<tr><th id="117">117</th><td>            <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpStatus" title='VdpStatus' data-type='enum VdpStatus' data-ref="VdpStatus">VdpStatus</a> <dfn class="local col2 decl" id="12err" title='err' data-type='VdpStatus' data-ref="12err">err</dfn> = <a class="local col7 ref" href="#7priv" title='priv' data-ref="7priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::get_transfer_caps" title='VDPAUDeviceContext::get_transfer_caps' data-use='r' data-ref="VDPAUDeviceContext::get_transfer_caps">get_transfer_caps</a>(<a class="local col6 ref" href="#6hwctx" title='hwctx' data-ref="6hwctx">hwctx</a>-&gt;<a class="ref" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext::device" title='AVVDPAUDeviceContext::device' data-ref="AVVDPAUDeviceContext::device">device</a>, <a class="tu ref" href="#vdpau_pix_fmts" title='vdpau_pix_fmts' data-use='m' data-ref="vdpau_pix_fmts">vdpau_pix_fmts</a>[<a class="local col8 ref" href="#8i" title='i' data-ref="8i">i</a>].<a class="local col1 ref" href="#1chroma_type" title='chroma_type' data-ref="1chroma_type">chroma_type</a>,</td></tr>
<tr><th id="118">118</th><td>                                                    <a class="local col9 ref" href="#9map" title='map' data-ref="9map">map</a>-&gt;<a class="tu ref" href="#VDPAUPixFmtMap::vdpau_fmt" title='VDPAUPixFmtMap::vdpau_fmt' data-use='r' data-ref="VDPAUPixFmtMap::vdpau_fmt">vdpau_fmt</a>, &amp;<a class="local col1 ref" href="#11supported" title='supported' data-ref="11supported">supported</a>);</td></tr>
<tr><th id="119">119</th><td>            <b>if</b> (<a class="local col2 ref" href="#12err" title='err' data-ref="12err">err</a> == <a class="enum" href="../../include/vdpau/vdpau.h.html#::VDP_STATUS_OK" title='::VDP_STATUS_OK' data-ref="::VDP_STATUS_OK">VDP_STATUS_OK</a> &amp;&amp; <a class="local col1 ref" href="#11supported" title='supported' data-ref="11supported">supported</a>)</td></tr>
<tr><th id="120">120</th><td>                <a class="local col7 ref" href="#7priv" title='priv' data-ref="7priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::pix_fmts" title='VDPAUDeviceContext::pix_fmts' data-use='r' data-ref="VDPAUDeviceContext::pix_fmts">pix_fmts</a>[<a class="local col8 ref" href="#8i" title='i' data-ref="8i">i</a>][<a class="local col0 ref" href="#10nb_pix_fmts" title='nb_pix_fmts' data-ref="10nb_pix_fmts">nb_pix_fmts</a>++] = <a class="local col9 ref" href="#9map" title='map' data-ref="9map">map</a>-&gt;<a class="tu ref" href="#VDPAUPixFmtMap::pix_fmt" title='VDPAUPixFmtMap::pix_fmt' data-use='r' data-ref="VDPAUPixFmtMap::pix_fmt">pix_fmt</a>;</td></tr>
<tr><th id="121">121</th><td>            <a class="local col9 ref" href="#9map" title='map' data-ref="9map">map</a>++;</td></tr>
<tr><th id="122">122</th><td>        }</td></tr>
<tr><th id="123">123</th><td>        <a class="local col7 ref" href="#7priv" title='priv' data-ref="7priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::pix_fmts" title='VDPAUDeviceContext::pix_fmts' data-use='r' data-ref="VDPAUDeviceContext::pix_fmts">pix_fmts</a>[<a class="local col8 ref" href="#8i" title='i' data-ref="8i">i</a>][<a class="local col0 ref" href="#10nb_pix_fmts" title='nb_pix_fmts' data-ref="10nb_pix_fmts">nb_pix_fmts</a>++] = <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NONE" title='AVPixelFormat::AV_PIX_FMT_NONE' data-ref="AVPixelFormat::AV_PIX_FMT_NONE">AV_PIX_FMT_NONE</a>;</td></tr>
<tr><th id="124">124</th><td>        <a class="local col7 ref" href="#7priv" title='priv' data-ref="7priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::nb_pix_fmts" title='VDPAUDeviceContext::nb_pix_fmts' data-use='w' data-ref="VDPAUDeviceContext::nb_pix_fmts">nb_pix_fmts</a>[<a class="local col8 ref" href="#8i" title='i' data-ref="8i">i</a>]             = <a class="local col0 ref" href="#10nb_pix_fmts" title='nb_pix_fmts' data-ref="10nb_pix_fmts">nb_pix_fmts</a>;</td></tr>
<tr><th id="125">125</th><td>    }</td></tr>
<tr><th id="126">126</th><td></td></tr>
<tr><th id="127">127</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="128">128</th><td>}</td></tr>
<tr><th id="129">129</th><td></td></tr>
<tr><th id="130">130</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="vdpau_device_init" title='vdpau_device_init' data-type='int vdpau_device_init(AVHWDeviceContext * ctx)' data-ref="vdpau_device_init">vdpau_device_init</dfn>(<a class="typedef" href="hwcontext.h.html#AVHWDeviceContext" title='AVHWDeviceContext' data-type='struct AVHWDeviceContext' data-ref="AVHWDeviceContext">AVHWDeviceContext</a> *<dfn class="local col3 decl" id="13ctx" title='ctx' data-type='AVHWDeviceContext *' data-ref="13ctx">ctx</dfn>)</td></tr>
<tr><th id="131">131</th><td>{</td></tr>
<tr><th id="132">132</th><td>    <a class="typedef" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext" title='AVVDPAUDeviceContext' data-type='struct AVVDPAUDeviceContext' data-ref="AVVDPAUDeviceContext">AVVDPAUDeviceContext</a> *<dfn class="local col4 decl" id="14hwctx" title='hwctx' data-type='AVVDPAUDeviceContext *' data-ref="14hwctx">hwctx</dfn> = <a class="local col3 ref" href="#13ctx" title='ctx' data-ref="13ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::hwctx" title='AVHWDeviceContext::hwctx' data-ref="AVHWDeviceContext::hwctx">hwctx</a>;</td></tr>
<tr><th id="133">133</th><td>    <a class="typedef" href="#VDPAUDeviceContext" title='VDPAUDeviceContext' data-type='struct VDPAUDeviceContext' data-ref="VDPAUDeviceContext">VDPAUDeviceContext</a>   *<dfn class="local col5 decl" id="15priv" title='priv' data-type='VDPAUDeviceContext *' data-ref="15priv">priv</dfn>  = <a class="local col3 ref" href="#13ctx" title='ctx' data-ref="13ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::internal" title='AVHWDeviceContext::internal' data-ref="AVHWDeviceContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWDeviceInternal::priv" title='AVHWDeviceInternal::priv' data-ref="AVHWDeviceInternal::priv">priv</a>;</td></tr>
<tr><th id="134">134</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpStatus" title='VdpStatus' data-type='enum VdpStatus' data-ref="VdpStatus">VdpStatus</a>             <dfn class="local col6 decl" id="16err" title='err' data-type='VdpStatus' data-ref="16err">err</dfn>;</td></tr>
<tr><th id="135">135</th><td>    <em>int</em>                   <dfn class="local col7 decl" id="17ret" title='ret' data-type='int' data-ref="17ret">ret</dfn>;</td></tr>
<tr><th id="136">136</th><td></td></tr>
<tr><th id="137">137</th><td><u>#define <dfn class="macro" id="_M/GET_CALLBACK" data-ref="_M/GET_CALLBACK">GET_CALLBACK</dfn>(id, result)                                                \</u></td></tr>
<tr><th id="138">138</th><td><u>do {                                                                            \</u></td></tr>
<tr><th id="139">139</th><td><u>    void *<dfn class="local col8 decl" id="18tmp" title='tmp' data-type='void *' data-ref="18tmp"><dfn class="local col9 decl" id="19tmp" title='tmp' data-type='void *' data-ref="19tmp"><dfn class="local col0 decl" id="20tmp" title='tmp' data-type='void *' data-ref="20tmp"><dfn class="local col1 decl" id="21tmp" title='tmp' data-type='void *' data-ref="21tmp"><dfn class="local col2 decl" id="22tmp" title='tmp' data-type='void *' data-ref="22tmp">tmp</dfn></dfn></dfn></dfn></dfn>;                                                                  \</u></td></tr>
<tr><th id="140">140</th><td><u>    <a class="local col6 ref" href="#16err" title='err' data-ref="16err">err</a> = <a class="local col4 ref" href="#14hwctx" title='hwctx' data-ref="14hwctx">hwctx</a>-&gt;<a class="ref" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext::get_proc_address" title='AVVDPAUDeviceContext::get_proc_address' data-ref="AVVDPAUDeviceContext::get_proc_address">get_proc_address</a>(<a class="local col4 ref" href="#14hwctx" title='hwctx' data-ref="14hwctx">hwctx</a>-&gt;<a class="ref" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext::device" title='AVVDPAUDeviceContext::device' data-ref="AVVDPAUDeviceContext::device">device</a>, id, &amp;<a class="local col8 ref" href="#148" title='tmp' data-ref="18tmp"><a class="local col9 ref" href="#150" title='tmp' data-ref="19tmp"><a class="local col0 ref" href="#151" title='tmp' data-ref="20tmp"><a class="local col1 ref" href="#152" title='tmp' data-ref="21tmp"><a class="local col2 ref" href="#153" title='tmp' data-ref="22tmp">tmp</a></a></a></a></a>);                     \</u></td></tr>
<tr><th id="141">141</th><td><u>    if (<a class="local col6 ref" href="#16err" title='err' data-ref="16err">err</a> != <a class="enum" href="../../include/vdpau/vdpau.h.html#::VDP_STATUS_OK" title='::VDP_STATUS_OK' data-ref="::VDP_STATUS_OK">VDP_STATUS_OK</a>) {                                                 \</u></td></tr>
<tr><th id="142">142</th><td><u>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col3 ref" href="#13ctx" title='ctx' data-ref="13ctx">ctx</a>, AV_LOG_ERROR, "Error getting the " #id " callback.\n");     \</u></td></tr>
<tr><th id="143">143</th><td><u>        return AVERROR_UNKNOWN;                                                 \</u></td></tr>
<tr><th id="144">144</th><td><u>    }                                                                           \</u></td></tr>
<tr><th id="145">145</th><td><u>    <a class="local col5 ref" href="#15priv" title='priv' data-ref="15priv">priv</a>-&gt;result = <a class="local col8 ref" href="#148" title='tmp' data-ref="18tmp"><a class="local col9 ref" href="#150" title='tmp' data-ref="19tmp"><a class="local col0 ref" href="#151" title='tmp' data-ref="20tmp"><a class="local col1 ref" href="#152" title='tmp' data-ref="21tmp"><a class="local col2 ref" href="#153" title='tmp' data-ref="22tmp">tmp</a></a></a></a></a>;                                                         \</u></td></tr>
<tr><th id="146">146</th><td><u>} while (0)</u></td></tr>
<tr><th id="147">147</th><td></td></tr>
<tr><th id="148">148</th><td>    <a class="macro" href="#137" title="do { void *tmp; err = hwctx-&gt;get_proc_address(hwctx-&gt;device, (VdpFuncId)8, &amp;tmp); if (err != VDP_STATUS_OK) { av_log(ctx, 16, &quot;Error getting the &quot; &quot;VDP_FUNC_ID_VIDEO_SURFACE_QUERY_GET_PUT_BITS_Y_CB_CR_CAPABILITIES&quot; &quot; callback.\n&quot;); return (-(int)((&apos;U&apos;) | ((&apos;N&apos;) &lt;&lt; 8) | ((&apos;K&apos;) &lt;&lt; 16) | ((unsigned)(&apos;N&apos;) &lt;&lt; 24))); } priv-&gt;get_transfer_caps = tmp; } while (0)" data-ref="_M/GET_CALLBACK">GET_CALLBACK</a>(<a class="macro" href="../../include/vdpau/vdpau.h.html#4180" title="(VdpFuncId)8" data-ref="_M/VDP_FUNC_ID_VIDEO_SURFACE_QUERY_GET_PUT_BITS_Y_CB_CR_CAPABILITIES">VDP_FUNC_ID_VIDEO_SURFACE_QUERY_GET_PUT_BITS_Y_CB_CR_CAPABILITIES</a>,</td></tr>
<tr><th id="149">149</th><td>                 <a class="tu ref" href="#VDPAUDeviceContext::get_transfer_caps" title='VDPAUDeviceContext::get_transfer_caps' data-use='w' data-ref="VDPAUDeviceContext::get_transfer_caps">get_transfer_caps</a>);</td></tr>
<tr><th id="150">150</th><td>    <a class="macro" href="#137" title="do { void *tmp; err = hwctx-&gt;get_proc_address(hwctx-&gt;device, (VdpFuncId)12, &amp;tmp); if (err != VDP_STATUS_OK) { av_log(ctx, 16, &quot;Error getting the &quot; &quot;VDP_FUNC_ID_VIDEO_SURFACE_GET_BITS_Y_CB_CR&quot; &quot; callback.\n&quot;); return (-(int)((&apos;U&apos;) | ((&apos;N&apos;) &lt;&lt; 8) | ((&apos;K&apos;) &lt;&lt; 16) | ((unsigned)(&apos;N&apos;) &lt;&lt; 24))); } priv-&gt;get_data = tmp; } while (0)" data-ref="_M/GET_CALLBACK">GET_CALLBACK</a>(<a class="macro" href="../../include/vdpau/vdpau.h.html#4188" title="(VdpFuncId)12" data-ref="_M/VDP_FUNC_ID_VIDEO_SURFACE_GET_BITS_Y_CB_CR">VDP_FUNC_ID_VIDEO_SURFACE_GET_BITS_Y_CB_CR</a>, <a class="tu ref" href="#VDPAUDeviceContext::get_data" title='VDPAUDeviceContext::get_data' data-use='w' data-ref="VDPAUDeviceContext::get_data">get_data</a>);</td></tr>
<tr><th id="151">151</th><td>    <a class="macro" href="#137" title="do { void *tmp; err = hwctx-&gt;get_proc_address(hwctx-&gt;device, (VdpFuncId)13, &amp;tmp); if (err != VDP_STATUS_OK) { av_log(ctx, 16, &quot;Error getting the &quot; &quot;VDP_FUNC_ID_VIDEO_SURFACE_PUT_BITS_Y_CB_CR&quot; &quot; callback.\n&quot;); return (-(int)((&apos;U&apos;) | ((&apos;N&apos;) &lt;&lt; 8) | ((&apos;K&apos;) &lt;&lt; 16) | ((unsigned)(&apos;N&apos;) &lt;&lt; 24))); } priv-&gt;put_data = tmp; } while (0)" data-ref="_M/GET_CALLBACK">GET_CALLBACK</a>(<a class="macro" href="../../include/vdpau/vdpau.h.html#4190" title="(VdpFuncId)13" data-ref="_M/VDP_FUNC_ID_VIDEO_SURFACE_PUT_BITS_Y_CB_CR">VDP_FUNC_ID_VIDEO_SURFACE_PUT_BITS_Y_CB_CR</a>, <a class="tu ref" href="#VDPAUDeviceContext::put_data" title='VDPAUDeviceContext::put_data' data-use='w' data-ref="VDPAUDeviceContext::put_data">put_data</a>);</td></tr>
<tr><th id="152">152</th><td>    <a class="macro" href="#137" title="do { void *tmp; err = hwctx-&gt;get_proc_address(hwctx-&gt;device, (VdpFuncId)9, &amp;tmp); if (err != VDP_STATUS_OK) { av_log(ctx, 16, &quot;Error getting the &quot; &quot;VDP_FUNC_ID_VIDEO_SURFACE_CREATE&quot; &quot; callback.\n&quot;); return (-(int)((&apos;U&apos;) | ((&apos;N&apos;) &lt;&lt; 8) | ((&apos;K&apos;) &lt;&lt; 16) | ((unsigned)(&apos;N&apos;) &lt;&lt; 24))); } priv-&gt;surf_create = tmp; } while (0)" data-ref="_M/GET_CALLBACK">GET_CALLBACK</a>(<a class="macro" href="../../include/vdpau/vdpau.h.html#4182" title="(VdpFuncId)9" data-ref="_M/VDP_FUNC_ID_VIDEO_SURFACE_CREATE">VDP_FUNC_ID_VIDEO_SURFACE_CREATE</a>,           <a class="tu ref" href="#VDPAUDeviceContext::surf_create" title='VDPAUDeviceContext::surf_create' data-use='w' data-ref="VDPAUDeviceContext::surf_create">surf_create</a>);</td></tr>
<tr><th id="153">153</th><td>    <a class="macro" href="#137" title="do { void *tmp; err = hwctx-&gt;get_proc_address(hwctx-&gt;device, (VdpFuncId)10, &amp;tmp); if (err != VDP_STATUS_OK) { av_log(ctx, 16, &quot;Error getting the &quot; &quot;VDP_FUNC_ID_VIDEO_SURFACE_DESTROY&quot; &quot; callback.\n&quot;); return (-(int)((&apos;U&apos;) | ((&apos;N&apos;) &lt;&lt; 8) | ((&apos;K&apos;) &lt;&lt; 16) | ((unsigned)(&apos;N&apos;) &lt;&lt; 24))); } priv-&gt;surf_destroy = tmp; } while (0)" data-ref="_M/GET_CALLBACK">GET_CALLBACK</a>(<a class="macro" href="../../include/vdpau/vdpau.h.html#4184" title="(VdpFuncId)10" data-ref="_M/VDP_FUNC_ID_VIDEO_SURFACE_DESTROY">VDP_FUNC_ID_VIDEO_SURFACE_DESTROY</a>,          <a class="tu ref" href="#VDPAUDeviceContext::surf_destroy" title='VDPAUDeviceContext::surf_destroy' data-use='w' data-ref="VDPAUDeviceContext::surf_destroy">surf_destroy</a>);</td></tr>
<tr><th id="154">154</th><td></td></tr>
<tr><th id="155">155</th><td>    <a class="local col7 ref" href="#17ret" title='ret' data-ref="17ret">ret</a> = <a class="tu ref" href="#vdpau_init_pixmfts" title='vdpau_init_pixmfts' data-use='c' data-ref="vdpau_init_pixmfts">vdpau_init_pixmfts</a>(<a class="local col3 ref" href="#13ctx" title='ctx' data-ref="13ctx">ctx</a>);</td></tr>
<tr><th id="156">156</th><td>    <b>if</b> (<a class="local col7 ref" href="#17ret" title='ret' data-ref="17ret">ret</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="157">157</th><td>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col3 ref" href="#13ctx" title='ctx' data-ref="13ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>, <q>"Error querying the supported pixel formats\n"</q>);</td></tr>
<tr><th id="158">158</th><td>        <b>return</b> <a class="local col7 ref" href="#17ret" title='ret' data-ref="17ret">ret</a>;</td></tr>
<tr><th id="159">159</th><td>    }</td></tr>
<tr><th id="160">160</th><td></td></tr>
<tr><th id="161">161</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="162">162</th><td>}</td></tr>
<tr><th id="163">163</th><td><u>#undef <a class="macro" href="#137" data-ref="_M/GET_CALLBACK">GET_CALLBACK</a></u></td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vdpau_device_uninit" title='vdpau_device_uninit' data-type='void vdpau_device_uninit(AVHWDeviceContext * ctx)' data-ref="vdpau_device_uninit">vdpau_device_uninit</dfn>(<a class="typedef" href="hwcontext.h.html#AVHWDeviceContext" title='AVHWDeviceContext' data-type='struct AVHWDeviceContext' data-ref="AVHWDeviceContext">AVHWDeviceContext</a> *<dfn class="local col3 decl" id="23ctx" title='ctx' data-type='AVHWDeviceContext *' data-ref="23ctx">ctx</dfn>)</td></tr>
<tr><th id="166">166</th><td>{</td></tr>
<tr><th id="167">167</th><td>    <a class="typedef" href="#VDPAUDeviceContext" title='VDPAUDeviceContext' data-type='struct VDPAUDeviceContext' data-ref="VDPAUDeviceContext">VDPAUDeviceContext</a> *<dfn class="local col4 decl" id="24priv" title='priv' data-type='VDPAUDeviceContext *' data-ref="24priv">priv</dfn> = <a class="local col3 ref" href="#23ctx" title='ctx' data-ref="23ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::internal" title='AVHWDeviceContext::internal' data-ref="AVHWDeviceContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWDeviceInternal::priv" title='AVHWDeviceInternal::priv' data-ref="AVHWDeviceInternal::priv">priv</a>;</td></tr>
<tr><th id="168">168</th><td>    <em>int</em> <dfn class="local col5 decl" id="25i" title='i' data-type='int' data-ref="25i">i</dfn>;</td></tr>
<tr><th id="169">169</th><td></td></tr>
<tr><th id="170">170</th><td>    <b>for</b> (<a class="local col5 ref" href="#25i" title='i' data-ref="25i">i</a> = <var>0</var>; <a class="local col5 ref" href="#25i" title='i' data-ref="25i">i</a> &lt; <a class="macro" href="common.h.html#100" title="(sizeof(priv-&gt;pix_fmts) / sizeof((priv-&gt;pix_fmts)[0]))" data-ref="_M/FF_ARRAY_ELEMS">FF_ARRAY_ELEMS</a>(<a class="local col4 ref" href="#24priv" title='priv' data-ref="24priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::pix_fmts" title='VDPAUDeviceContext::pix_fmts' data-use='r' data-ref="VDPAUDeviceContext::pix_fmts">pix_fmts</a>); <a class="local col5 ref" href="#25i" title='i' data-ref="25i">i</a>++)</td></tr>
<tr><th id="171">171</th><td>        <a class="ref" href="mem.h.html#av_freep" title='av_freep' data-ref="av_freep">av_freep</a>(&amp;<a class="local col4 ref" href="#24priv" title='priv' data-ref="24priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::pix_fmts" title='VDPAUDeviceContext::pix_fmts' data-use='a' data-ref="VDPAUDeviceContext::pix_fmts">pix_fmts</a>[<a class="local col5 ref" href="#25i" title='i' data-ref="25i">i</a>]);</td></tr>
<tr><th id="172">172</th><td>}</td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vdpau_buffer_free" title='vdpau_buffer_free' data-type='void vdpau_buffer_free(void * opaque, uint8_t * data)' data-ref="vdpau_buffer_free">vdpau_buffer_free</dfn>(<em>void</em> *<dfn class="local col6 decl" id="26opaque" title='opaque' data-type='void *' data-ref="26opaque">opaque</dfn>, <a class="typedef" href="../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> *<dfn class="local col7 decl" id="27data" title='data' data-type='uint8_t *' data-ref="27data">data</dfn>)</td></tr>
<tr><th id="175">175</th><td>{</td></tr>
<tr><th id="176">176</th><td>    <a class="typedef" href="hwcontext.h.html#AVHWFramesContext" title='AVHWFramesContext' data-type='struct AVHWFramesContext' data-ref="AVHWFramesContext">AVHWFramesContext</a>          *<dfn class="local col8 decl" id="28ctx" title='ctx' data-type='AVHWFramesContext *' data-ref="28ctx">ctx</dfn> = <a class="local col6 ref" href="#26opaque" title='opaque' data-ref="26opaque">opaque</a>;</td></tr>
<tr><th id="177">177</th><td>    <a class="typedef" href="#VDPAUDeviceContext" title='VDPAUDeviceContext' data-type='struct VDPAUDeviceContext' data-ref="VDPAUDeviceContext">VDPAUDeviceContext</a> *<dfn class="local col9 decl" id="29device_priv" title='device_priv' data-type='VDPAUDeviceContext *' data-ref="29device_priv">device_priv</dfn> = <a class="local col8 ref" href="#28ctx" title='ctx' data-ref="28ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::device_ctx" title='AVHWFramesContext::device_ctx' data-ref="AVHWFramesContext::device_ctx">device_ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::internal" title='AVHWDeviceContext::internal' data-ref="AVHWDeviceContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWDeviceInternal::priv" title='AVHWDeviceInternal::priv' data-ref="AVHWDeviceInternal::priv">priv</a>;</td></tr>
<tr><th id="178">178</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurface" title='VdpVideoSurface' data-type='uint32_t' data-ref="VdpVideoSurface">VdpVideoSurface</a>            <dfn class="local col0 decl" id="30surf" title='surf' data-type='VdpVideoSurface' data-ref="30surf">surf</dfn> = (<a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurface" title='VdpVideoSurface' data-type='uint32_t' data-ref="VdpVideoSurface">VdpVideoSurface</a>)(<a class="typedef" href="../../include/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t">uintptr_t</a>)<a class="local col7 ref" href="#27data" title='data' data-ref="27data">data</a>;</td></tr>
<tr><th id="179">179</th><td></td></tr>
<tr><th id="180">180</th><td>    <a class="local col9 ref" href="#29device_priv" title='device_priv' data-ref="29device_priv">device_priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::surf_destroy" title='VDPAUDeviceContext::surf_destroy' data-use='r' data-ref="VDPAUDeviceContext::surf_destroy">surf_destroy</a>(<a class="local col0 ref" href="#30surf" title='surf' data-ref="30surf">surf</a>);</td></tr>
<tr><th id="181">181</th><td>}</td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td><em>static</em> <a class="typedef" href="buffer.h.html#AVBufferRef" title='AVBufferRef' data-type='struct AVBufferRef' data-ref="AVBufferRef">AVBufferRef</a> *<dfn class="tu decl def" id="vdpau_pool_alloc" title='vdpau_pool_alloc' data-type='AVBufferRef * vdpau_pool_alloc(void * opaque, int size)' data-ref="vdpau_pool_alloc">vdpau_pool_alloc</dfn>(<em>void</em> *<dfn class="local col1 decl" id="31opaque" title='opaque' data-type='void *' data-ref="31opaque">opaque</dfn>, <em>int</em> <dfn class="local col2 decl" id="32size" title='size' data-type='int' data-ref="32size">size</dfn>)</td></tr>
<tr><th id="184">184</th><td>{</td></tr>
<tr><th id="185">185</th><td>    <a class="typedef" href="hwcontext.h.html#AVHWFramesContext" title='AVHWFramesContext' data-type='struct AVHWFramesContext' data-ref="AVHWFramesContext">AVHWFramesContext</a>             *<dfn class="local col3 decl" id="33ctx" title='ctx' data-type='AVHWFramesContext *' data-ref="33ctx">ctx</dfn> = <a class="local col1 ref" href="#31opaque" title='opaque' data-ref="31opaque">opaque</a>;</td></tr>
<tr><th id="186">186</th><td>    <a class="typedef" href="#VDPAUFramesContext" title='VDPAUFramesContext' data-type='struct VDPAUFramesContext' data-ref="VDPAUFramesContext">VDPAUFramesContext</a>           *<dfn class="local col4 decl" id="34priv" title='priv' data-type='VDPAUFramesContext *' data-ref="34priv">priv</dfn> = <a class="local col3 ref" href="#33ctx" title='ctx' data-ref="33ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::internal" title='AVHWFramesContext::internal' data-ref="AVHWFramesContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWFramesInternal::priv" title='AVHWFramesInternal::priv' data-ref="AVHWFramesInternal::priv">priv</a>;</td></tr>
<tr><th id="187">187</th><td>    <a class="typedef" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext" title='AVVDPAUDeviceContext' data-type='struct AVVDPAUDeviceContext' data-ref="AVVDPAUDeviceContext">AVVDPAUDeviceContext</a> *<dfn class="local col5 decl" id="35device_hwctx" title='device_hwctx' data-type='AVVDPAUDeviceContext *' data-ref="35device_hwctx">device_hwctx</dfn> = <a class="local col3 ref" href="#33ctx" title='ctx' data-ref="33ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::device_ctx" title='AVHWFramesContext::device_ctx' data-ref="AVHWFramesContext::device_ctx">device_ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::hwctx" title='AVHWDeviceContext::hwctx' data-ref="AVHWDeviceContext::hwctx">hwctx</a>;</td></tr>
<tr><th id="188">188</th><td>    <a class="typedef" href="#VDPAUDeviceContext" title='VDPAUDeviceContext' data-type='struct VDPAUDeviceContext' data-ref="VDPAUDeviceContext">VDPAUDeviceContext</a>    *<dfn class="local col6 decl" id="36device_priv" title='device_priv' data-type='VDPAUDeviceContext *' data-ref="36device_priv">device_priv</dfn> = <a class="local col3 ref" href="#33ctx" title='ctx' data-ref="33ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::device_ctx" title='AVHWFramesContext::device_ctx' data-ref="AVHWFramesContext::device_ctx">device_ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::internal" title='AVHWDeviceContext::internal' data-ref="AVHWDeviceContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWDeviceInternal::priv" title='AVHWDeviceInternal::priv' data-ref="AVHWDeviceInternal::priv">priv</a>;</td></tr>
<tr><th id="189">189</th><td></td></tr>
<tr><th id="190">190</th><td>    <a class="typedef" href="buffer.h.html#AVBufferRef" title='AVBufferRef' data-type='struct AVBufferRef' data-ref="AVBufferRef">AVBufferRef</a> *<dfn class="local col7 decl" id="37ret" title='ret' data-type='AVBufferRef *' data-ref="37ret">ret</dfn>;</td></tr>
<tr><th id="191">191</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurface" title='VdpVideoSurface' data-type='uint32_t' data-ref="VdpVideoSurface">VdpVideoSurface</a> <dfn class="local col8 decl" id="38surf" title='surf' data-type='VdpVideoSurface' data-ref="38surf">surf</dfn>;</td></tr>
<tr><th id="192">192</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpStatus" title='VdpStatus' data-type='enum VdpStatus' data-ref="VdpStatus">VdpStatus</a> <dfn class="local col9 decl" id="39err" title='err' data-type='VdpStatus' data-ref="39err">err</dfn>;</td></tr>
<tr><th id="193">193</th><td></td></tr>
<tr><th id="194">194</th><td>    <a class="local col9 ref" href="#39err" title='err' data-ref="39err">err</a> = <a class="local col6 ref" href="#36device_priv" title='device_priv' data-ref="36device_priv">device_priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::surf_create" title='VDPAUDeviceContext::surf_create' data-use='r' data-ref="VDPAUDeviceContext::surf_create">surf_create</a>(<a class="local col5 ref" href="#35device_hwctx" title='device_hwctx' data-ref="35device_hwctx">device_hwctx</a>-&gt;<a class="ref" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext::device" title='AVVDPAUDeviceContext::device' data-ref="AVVDPAUDeviceContext::device">device</a>, <a class="local col4 ref" href="#34priv" title='priv' data-ref="34priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::chroma_type" title='VDPAUFramesContext::chroma_type' data-use='r' data-ref="VDPAUFramesContext::chroma_type">chroma_type</a>,</td></tr>
<tr><th id="195">195</th><td>                                   <a class="local col3 ref" href="#33ctx" title='ctx' data-ref="33ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::width" title='AVHWFramesContext::width' data-ref="AVHWFramesContext::width">width</a>, <a class="local col3 ref" href="#33ctx" title='ctx' data-ref="33ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::height" title='AVHWFramesContext::height' data-ref="AVHWFramesContext::height">height</a>, &amp;<a class="local col8 ref" href="#38surf" title='surf' data-ref="38surf">surf</a>);</td></tr>
<tr><th id="196">196</th><td>    <b>if</b> (<a class="local col9 ref" href="#39err" title='err' data-ref="39err">err</a> != <a class="enum" href="../../include/vdpau/vdpau.h.html#::VDP_STATUS_OK" title='::VDP_STATUS_OK' data-ref="::VDP_STATUS_OK">VDP_STATUS_OK</a>) {</td></tr>
<tr><th id="197">197</th><td>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col3 ref" href="#33ctx" title='ctx' data-ref="33ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>, <q>"Error allocating a VDPAU video surface\n"</q>);</td></tr>
<tr><th id="198">198</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="199">199</th><td>    }</td></tr>
<tr><th id="200">200</th><td></td></tr>
<tr><th id="201">201</th><td>    <a class="local col7 ref" href="#37ret" title='ret' data-ref="37ret">ret</a> = <a class="ref" href="buffer.h.html#av_buffer_create" title='av_buffer_create' data-ref="av_buffer_create">av_buffer_create</a>((<a class="typedef" href="../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a>*)(<a class="typedef" href="../../include/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t">uintptr_t</a>)<a class="local col8 ref" href="#38surf" title='surf' data-ref="38surf">surf</a>, <b>sizeof</b>(<a class="local col8 ref" href="#38surf" title='surf' data-ref="38surf">surf</a>),</td></tr>
<tr><th id="202">202</th><td>                           <a class="tu ref" href="#vdpau_buffer_free" title='vdpau_buffer_free' data-use='r' data-ref="vdpau_buffer_free">vdpau_buffer_free</a>, <a class="local col3 ref" href="#33ctx" title='ctx' data-ref="33ctx">ctx</a>, <a class="macro" href="buffer.h.html#113" title="(1 &lt;&lt; 0)" data-ref="_M/AV_BUFFER_FLAG_READONLY">AV_BUFFER_FLAG_READONLY</a>);</td></tr>
<tr><th id="203">203</th><td>    <b>if</b> (!<a class="local col7 ref" href="#37ret" title='ret' data-ref="37ret">ret</a>) {</td></tr>
<tr><th id="204">204</th><td>        <a class="local col6 ref" href="#36device_priv" title='device_priv' data-ref="36device_priv">device_priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::surf_destroy" title='VDPAUDeviceContext::surf_destroy' data-use='r' data-ref="VDPAUDeviceContext::surf_destroy">surf_destroy</a>(<a class="local col8 ref" href="#38surf" title='surf' data-ref="38surf">surf</a>);</td></tr>
<tr><th id="205">205</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="206">206</th><td>    }</td></tr>
<tr><th id="207">207</th><td></td></tr>
<tr><th id="208">208</th><td>    <b>return</b> <a class="local col7 ref" href="#37ret" title='ret' data-ref="37ret">ret</a>;</td></tr>
<tr><th id="209">209</th><td>}</td></tr>
<tr><th id="210">210</th><td></td></tr>
<tr><th id="211">211</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="vdpau_frames_init" title='vdpau_frames_init' data-type='int vdpau_frames_init(AVHWFramesContext * ctx)' data-ref="vdpau_frames_init">vdpau_frames_init</dfn>(<a class="typedef" href="hwcontext.h.html#AVHWFramesContext" title='AVHWFramesContext' data-type='struct AVHWFramesContext' data-ref="AVHWFramesContext">AVHWFramesContext</a> *<dfn class="local col0 decl" id="40ctx" title='ctx' data-type='AVHWFramesContext *' data-ref="40ctx">ctx</dfn>)</td></tr>
<tr><th id="212">212</th><td>{</td></tr>
<tr><th id="213">213</th><td>    <a class="typedef" href="#VDPAUDeviceContext" title='VDPAUDeviceContext' data-type='struct VDPAUDeviceContext' data-ref="VDPAUDeviceContext">VDPAUDeviceContext</a> *<dfn class="local col1 decl" id="41device_priv" title='device_priv' data-type='VDPAUDeviceContext *' data-ref="41device_priv">device_priv</dfn> = <a class="local col0 ref" href="#40ctx" title='ctx' data-ref="40ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::device_ctx" title='AVHWFramesContext::device_ctx' data-ref="AVHWFramesContext::device_ctx">device_ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::internal" title='AVHWDeviceContext::internal' data-ref="AVHWDeviceContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWDeviceInternal::priv" title='AVHWDeviceInternal::priv' data-ref="AVHWDeviceInternal::priv">priv</a>;</td></tr>
<tr><th id="214">214</th><td>    <a class="typedef" href="#VDPAUFramesContext" title='VDPAUFramesContext' data-type='struct VDPAUFramesContext' data-ref="VDPAUFramesContext">VDPAUFramesContext</a>        *<dfn class="local col2 decl" id="42priv" title='priv' data-type='VDPAUFramesContext *' data-ref="42priv">priv</dfn> = <a class="local col0 ref" href="#40ctx" title='ctx' data-ref="40ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::internal" title='AVHWFramesContext::internal' data-ref="AVHWFramesContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWFramesInternal::priv" title='AVHWFramesInternal::priv' data-ref="AVHWFramesInternal::priv">priv</a>;</td></tr>
<tr><th id="215">215</th><td></td></tr>
<tr><th id="216">216</th><td>    <em>int</em> <dfn class="local col3 decl" id="43i" title='i' data-type='int' data-ref="43i">i</dfn>;</td></tr>
<tr><th id="217">217</th><td></td></tr>
<tr><th id="218">218</th><td>    <b>switch</b> (<a class="local col0 ref" href="#40ctx" title='ctx' data-ref="40ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::sw_format" title='AVHWFramesContext::sw_format' data-ref="AVHWFramesContext::sw_format">sw_format</a>) {</td></tr>
<tr><th id="219">219</th><td>    <b>case</b> <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_YUV420P" title='AVPixelFormat::AV_PIX_FMT_YUV420P' data-ref="AVPixelFormat::AV_PIX_FMT_YUV420P">AV_PIX_FMT_YUV420P</a>: <a class="local col2 ref" href="#42priv" title='priv' data-ref="42priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::chroma_type" title='VDPAUFramesContext::chroma_type' data-use='w' data-ref="VDPAUFramesContext::chroma_type">chroma_type</a> = <a class="macro" href="../../include/vdpau/vdpau.h.html#807" title="(VdpChromaType)0" data-ref="_M/VDP_CHROMA_TYPE_420">VDP_CHROMA_TYPE_420</a>; <b>break</b>;</td></tr>
<tr><th id="220">220</th><td>    <b>case</b> <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_YUV422P" title='AVPixelFormat::AV_PIX_FMT_YUV422P' data-ref="AVPixelFormat::AV_PIX_FMT_YUV422P">AV_PIX_FMT_YUV422P</a>: <a class="local col2 ref" href="#42priv" title='priv' data-ref="42priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::chroma_type" title='VDPAUFramesContext::chroma_type' data-use='w' data-ref="VDPAUFramesContext::chroma_type">chroma_type</a> = <a class="macro" href="../../include/vdpau/vdpau.h.html#809" title="(VdpChromaType)1" data-ref="_M/VDP_CHROMA_TYPE_422">VDP_CHROMA_TYPE_422</a>; <b>break</b>;</td></tr>
<tr><th id="221">221</th><td>    <b>case</b> <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_YUV444P" title='AVPixelFormat::AV_PIX_FMT_YUV444P' data-ref="AVPixelFormat::AV_PIX_FMT_YUV444P">AV_PIX_FMT_YUV444P</a>: <a class="local col2 ref" href="#42priv" title='priv' data-ref="42priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::chroma_type" title='VDPAUFramesContext::chroma_type' data-use='w' data-ref="VDPAUFramesContext::chroma_type">chroma_type</a> = <a class="macro" href="../../include/vdpau/vdpau.h.html#811" title="(VdpChromaType)2" data-ref="_M/VDP_CHROMA_TYPE_444">VDP_CHROMA_TYPE_444</a>; <b>break</b>;</td></tr>
<tr><th id="222">222</th><td>    <b>default</b>:</td></tr>
<tr><th id="223">223</th><td>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col0 ref" href="#40ctx" title='ctx' data-ref="40ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>, <q>"Unsupported data layout: %s\n"</q>,</td></tr>
<tr><th id="224">224</th><td>               <a class="ref" href="pixdesc.h.html#av_get_pix_fmt_name" title='av_get_pix_fmt_name' data-ref="av_get_pix_fmt_name">av_get_pix_fmt_name</a>(<a class="local col0 ref" href="#40ctx" title='ctx' data-ref="40ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::sw_format" title='AVHWFramesContext::sw_format' data-ref="AVHWFramesContext::sw_format">sw_format</a>));</td></tr>
<tr><th id="225">225</th><td>        <b>return</b> <a class="macro" href="error.h.html#39" title="(-(38))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno.h.html#9" title="38" data-ref="_M/ENOSYS">ENOSYS</a>);</td></tr>
<tr><th id="226">226</th><td>    }</td></tr>
<tr><th id="227">227</th><td></td></tr>
<tr><th id="228">228</th><td>    <b>for</b> (<a class="local col3 ref" href="#43i" title='i' data-ref="43i">i</a> = <var>0</var>; <a class="local col3 ref" href="#43i" title='i' data-ref="43i">i</a> &lt; <a class="macro" href="common.h.html#100" title="(sizeof(vdpau_pix_fmts) / sizeof((vdpau_pix_fmts)[0]))" data-ref="_M/FF_ARRAY_ELEMS">FF_ARRAY_ELEMS</a>(<a class="tu ref" href="#vdpau_pix_fmts" title='vdpau_pix_fmts' data-use='r' data-ref="vdpau_pix_fmts">vdpau_pix_fmts</a>); <a class="local col3 ref" href="#43i" title='i' data-ref="43i">i</a>++) {</td></tr>
<tr><th id="229">229</th><td>        <b>if</b> (<a class="tu ref" href="#vdpau_pix_fmts" title='vdpau_pix_fmts' data-use='m' data-ref="vdpau_pix_fmts">vdpau_pix_fmts</a>[<a class="local col3 ref" href="#43i" title='i' data-ref="43i">i</a>].<a class="local col1 ref" href="#1chroma_type" title='chroma_type' data-ref="1chroma_type">chroma_type</a> == <a class="local col2 ref" href="#42priv" title='priv' data-ref="42priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::chroma_type" title='VDPAUFramesContext::chroma_type' data-use='r' data-ref="VDPAUFramesContext::chroma_type">chroma_type</a>) {</td></tr>
<tr><th id="230">230</th><td>            <a class="local col2 ref" href="#42priv" title='priv' data-ref="42priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::chroma_idx" title='VDPAUFramesContext::chroma_idx' data-use='w' data-ref="VDPAUFramesContext::chroma_idx">chroma_idx</a>  = <a class="local col3 ref" href="#43i" title='i' data-ref="43i">i</a>;</td></tr>
<tr><th id="231">231</th><td>            <a class="local col2 ref" href="#42priv" title='priv' data-ref="42priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::pix_fmts" title='VDPAUFramesContext::pix_fmts' data-use='w' data-ref="VDPAUFramesContext::pix_fmts">pix_fmts</a>    = <a class="local col1 ref" href="#41device_priv" title='device_priv' data-ref="41device_priv">device_priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::pix_fmts" title='VDPAUDeviceContext::pix_fmts' data-use='r' data-ref="VDPAUDeviceContext::pix_fmts">pix_fmts</a>[<a class="local col3 ref" href="#43i" title='i' data-ref="43i">i</a>];</td></tr>
<tr><th id="232">232</th><td>            <a class="local col2 ref" href="#42priv" title='priv' data-ref="42priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::nb_pix_fmts" title='VDPAUFramesContext::nb_pix_fmts' data-use='w' data-ref="VDPAUFramesContext::nb_pix_fmts">nb_pix_fmts</a> = <a class="local col1 ref" href="#41device_priv" title='device_priv' data-ref="41device_priv">device_priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::nb_pix_fmts" title='VDPAUDeviceContext::nb_pix_fmts' data-use='r' data-ref="VDPAUDeviceContext::nb_pix_fmts">nb_pix_fmts</a>[<a class="local col3 ref" href="#43i" title='i' data-ref="43i">i</a>];</td></tr>
<tr><th id="233">233</th><td>            <b>break</b>;</td></tr>
<tr><th id="234">234</th><td>        }</td></tr>
<tr><th id="235">235</th><td>    }</td></tr>
<tr><th id="236">236</th><td>    <b>if</b> (!<a class="local col2 ref" href="#42priv" title='priv' data-ref="42priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::pix_fmts" title='VDPAUFramesContext::pix_fmts' data-use='r' data-ref="VDPAUFramesContext::pix_fmts">pix_fmts</a>) {</td></tr>
<tr><th id="237">237</th><td>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col0 ref" href="#40ctx" title='ctx' data-ref="40ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>, <q>"Unsupported chroma type: %d\n"</q>, <a class="local col2 ref" href="#42priv" title='priv' data-ref="42priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::chroma_type" title='VDPAUFramesContext::chroma_type' data-use='r' data-ref="VDPAUFramesContext::chroma_type">chroma_type</a>);</td></tr>
<tr><th id="238">238</th><td>        <b>return</b> <a class="macro" href="error.h.html#39" title="(-(38))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno.h.html#9" title="38" data-ref="_M/ENOSYS">ENOSYS</a>);</td></tr>
<tr><th id="239">239</th><td>    }</td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td>    <b>if</b> (!<a class="local col0 ref" href="#40ctx" title='ctx' data-ref="40ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::pool" title='AVHWFramesContext::pool' data-ref="AVHWFramesContext::pool">pool</a>) {</td></tr>
<tr><th id="242">242</th><td>        <a class="local col0 ref" href="#40ctx" title='ctx' data-ref="40ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::internal" title='AVHWFramesContext::internal' data-ref="AVHWFramesContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWFramesInternal::pool_internal" title='AVHWFramesInternal::pool_internal' data-ref="AVHWFramesInternal::pool_internal">pool_internal</a> = <a class="ref" href="buffer.h.html#av_buffer_pool_init2" title='av_buffer_pool_init2' data-ref="av_buffer_pool_init2">av_buffer_pool_init2</a>(<b>sizeof</b>(<a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurface" title='VdpVideoSurface' data-type='uint32_t' data-ref="VdpVideoSurface">VdpVideoSurface</a>), <a class="local col0 ref" href="#40ctx" title='ctx' data-ref="40ctx">ctx</a>,</td></tr>
<tr><th id="243">243</th><td>                                                            <a class="tu ref" href="#vdpau_pool_alloc" title='vdpau_pool_alloc' data-use='r' data-ref="vdpau_pool_alloc">vdpau_pool_alloc</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="244">244</th><td>        <b>if</b> (!<a class="local col0 ref" href="#40ctx" title='ctx' data-ref="40ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::internal" title='AVHWFramesContext::internal' data-ref="AVHWFramesContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWFramesInternal::pool_internal" title='AVHWFramesInternal::pool_internal' data-ref="AVHWFramesInternal::pool_internal">pool_internal</a>)</td></tr>
<tr><th id="245">245</th><td>            <b>return</b> <a class="macro" href="error.h.html#39" title="(-(12))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno-base.h.html#15" title="12" data-ref="_M/ENOMEM">ENOMEM</a>);</td></tr>
<tr><th id="246">246</th><td>    }</td></tr>
<tr><th id="247">247</th><td></td></tr>
<tr><th id="248">248</th><td>    <a class="local col2 ref" href="#42priv" title='priv' data-ref="42priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::get_data" title='VDPAUFramesContext::get_data' data-use='w' data-ref="VDPAUFramesContext::get_data">get_data</a> = <a class="local col1 ref" href="#41device_priv" title='device_priv' data-ref="41device_priv">device_priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::get_data" title='VDPAUDeviceContext::get_data' data-use='r' data-ref="VDPAUDeviceContext::get_data">get_data</a>;</td></tr>
<tr><th id="249">249</th><td>    <a class="local col2 ref" href="#42priv" title='priv' data-ref="42priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::put_data" title='VDPAUFramesContext::put_data' data-use='w' data-ref="VDPAUFramesContext::put_data">put_data</a> = <a class="local col1 ref" href="#41device_priv" title='device_priv' data-ref="41device_priv">device_priv</a>-&gt;<a class="tu ref" href="#VDPAUDeviceContext::put_data" title='VDPAUDeviceContext::put_data' data-use='r' data-ref="VDPAUDeviceContext::put_data">put_data</a>;</td></tr>
<tr><th id="250">250</th><td></td></tr>
<tr><th id="251">251</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="252">252</th><td>}</td></tr>
<tr><th id="253">253</th><td></td></tr>
<tr><th id="254">254</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="vdpau_get_buffer" title='vdpau_get_buffer' data-type='int vdpau_get_buffer(AVHWFramesContext * ctx, AVFrame * frame)' data-ref="vdpau_get_buffer">vdpau_get_buffer</dfn>(<a class="typedef" href="hwcontext.h.html#AVHWFramesContext" title='AVHWFramesContext' data-type='struct AVHWFramesContext' data-ref="AVHWFramesContext">AVHWFramesContext</a> *<dfn class="local col4 decl" id="44ctx" title='ctx' data-type='AVHWFramesContext *' data-ref="44ctx">ctx</dfn>, <a class="typedef" href="frame.h.html#AVFrame" title='AVFrame' data-type='struct AVFrame' data-ref="AVFrame">AVFrame</a> *<dfn class="local col5 decl" id="45frame" title='frame' data-type='AVFrame *' data-ref="45frame">frame</dfn>)</td></tr>
<tr><th id="255">255</th><td>{</td></tr>
<tr><th id="256">256</th><td>    <a class="local col5 ref" href="#45frame" title='frame' data-ref="45frame">frame</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::buf" title='AVFrame::buf' data-ref="AVFrame::buf">buf</a>[<var>0</var>] = <a class="ref" href="buffer.h.html#av_buffer_pool_get" title='av_buffer_pool_get' data-ref="av_buffer_pool_get">av_buffer_pool_get</a>(<a class="local col4 ref" href="#44ctx" title='ctx' data-ref="44ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::pool" title='AVHWFramesContext::pool' data-ref="AVHWFramesContext::pool">pool</a>);</td></tr>
<tr><th id="257">257</th><td>    <b>if</b> (!<a class="local col5 ref" href="#45frame" title='frame' data-ref="45frame">frame</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::buf" title='AVFrame::buf' data-ref="AVFrame::buf">buf</a>[<var>0</var>])</td></tr>
<tr><th id="258">258</th><td>        <b>return</b> <a class="macro" href="error.h.html#39" title="(-(12))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno-base.h.html#15" title="12" data-ref="_M/ENOMEM">ENOMEM</a>);</td></tr>
<tr><th id="259">259</th><td></td></tr>
<tr><th id="260">260</th><td>    <a class="local col5 ref" href="#45frame" title='frame' data-ref="45frame">frame</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::data" title='AVFrame::data' data-ref="AVFrame::data">data</a>[<var>3</var>] = <a class="local col5 ref" href="#45frame" title='frame' data-ref="45frame">frame</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::buf" title='AVFrame::buf' data-ref="AVFrame::buf">buf</a>[<var>0</var>]-&gt;<a class="ref" href="buffer.h.html#AVBufferRef::data" title='AVBufferRef::data' data-ref="AVBufferRef::data">data</a>;</td></tr>
<tr><th id="261">261</th><td>    <a class="local col5 ref" href="#45frame" title='frame' data-ref="45frame">frame</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::format" title='AVFrame::format' data-ref="AVFrame::format">format</a>  = <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_VDPAU" title='AVPixelFormat::AV_PIX_FMT_VDPAU' data-ref="AVPixelFormat::AV_PIX_FMT_VDPAU">AV_PIX_FMT_VDPAU</a>;</td></tr>
<tr><th id="262">262</th><td>    <a class="local col5 ref" href="#45frame" title='frame' data-ref="45frame">frame</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::width" title='AVFrame::width' data-ref="AVFrame::width">width</a>   = <a class="local col4 ref" href="#44ctx" title='ctx' data-ref="44ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::width" title='AVHWFramesContext::width' data-ref="AVHWFramesContext::width">width</a>;</td></tr>
<tr><th id="263">263</th><td>    <a class="local col5 ref" href="#45frame" title='frame' data-ref="45frame">frame</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::height" title='AVFrame::height' data-ref="AVFrame::height">height</a>  = <a class="local col4 ref" href="#44ctx" title='ctx' data-ref="44ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::height" title='AVHWFramesContext::height' data-ref="AVHWFramesContext::height">height</a>;</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="266">266</th><td>}</td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="vdpau_transfer_get_formats" title='vdpau_transfer_get_formats' data-type='int vdpau_transfer_get_formats(AVHWFramesContext * ctx, enum AVHWFrameTransferDirection dir, enum AVPixelFormat ** formats)' data-ref="vdpau_transfer_get_formats">vdpau_transfer_get_formats</dfn>(<a class="typedef" href="hwcontext.h.html#AVHWFramesContext" title='AVHWFramesContext' data-type='struct AVHWFramesContext' data-ref="AVHWFramesContext">AVHWFramesContext</a> *<dfn class="local col6 decl" id="46ctx" title='ctx' data-type='AVHWFramesContext *' data-ref="46ctx">ctx</dfn>,</td></tr>
<tr><th id="269">269</th><td>                                      <b>enum</b> <a class="type" href="hwcontext.h.html#AVHWFrameTransferDirection" title='AVHWFrameTransferDirection' data-ref="AVHWFrameTransferDirection">AVHWFrameTransferDirection</a> <dfn class="local col7 decl" id="47dir" title='dir' data-type='enum AVHWFrameTransferDirection' data-ref="47dir">dir</dfn>,</td></tr>
<tr><th id="270">270</th><td>                                      <b>enum</b> <a class="type" href="pixfmt.h.html#AVPixelFormat" title='AVPixelFormat' data-ref="AVPixelFormat">AVPixelFormat</a> **<dfn class="local col8 decl" id="48formats" title='formats' data-type='enum AVPixelFormat **' data-ref="48formats">formats</dfn>)</td></tr>
<tr><th id="271">271</th><td>{</td></tr>
<tr><th id="272">272</th><td>    <a class="typedef" href="#VDPAUFramesContext" title='VDPAUFramesContext' data-type='struct VDPAUFramesContext' data-ref="VDPAUFramesContext">VDPAUFramesContext</a> *<dfn class="local col9 decl" id="49priv" title='priv' data-type='VDPAUFramesContext *' data-ref="49priv">priv</dfn>  = <a class="local col6 ref" href="#46ctx" title='ctx' data-ref="46ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::internal" title='AVHWFramesContext::internal' data-ref="AVHWFramesContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWFramesInternal::priv" title='AVHWFramesInternal::priv' data-ref="AVHWFramesInternal::priv">priv</a>;</td></tr>
<tr><th id="273">273</th><td></td></tr>
<tr><th id="274">274</th><td>    <b>enum</b> <a class="type" href="pixfmt.h.html#AVPixelFormat" title='AVPixelFormat' data-ref="AVPixelFormat">AVPixelFormat</a> *<dfn class="local col0 decl" id="50fmts" title='fmts' data-type='enum AVPixelFormat *' data-ref="50fmts">fmts</dfn>;</td></tr>
<tr><th id="275">275</th><td></td></tr>
<tr><th id="276">276</th><td>    <b>if</b> (<a class="local col9 ref" href="#49priv" title='priv' data-ref="49priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::nb_pix_fmts" title='VDPAUFramesContext::nb_pix_fmts' data-use='r' data-ref="VDPAUFramesContext::nb_pix_fmts">nb_pix_fmts</a> == <var>1</var>) {</td></tr>
<tr><th id="277">277</th><td>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col6 ref" href="#46ctx" title='ctx' data-ref="46ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>,</td></tr>
<tr><th id="278">278</th><td>               <q>"No target formats are supported for this chroma type\n"</q>);</td></tr>
<tr><th id="279">279</th><td>        <b>return</b> <a class="macro" href="error.h.html#39" title="(-(38))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno.h.html#9" title="38" data-ref="_M/ENOSYS">ENOSYS</a>);</td></tr>
<tr><th id="280">280</th><td>    }</td></tr>
<tr><th id="281">281</th><td></td></tr>
<tr><th id="282">282</th><td>    <a class="local col0 ref" href="#50fmts" title='fmts' data-ref="50fmts">fmts</a> = <a class="ref" href="mem.h.html#av_malloc_array" title='av_malloc_array' data-ref="av_malloc_array">av_malloc_array</a>(<a class="local col9 ref" href="#49priv" title='priv' data-ref="49priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::nb_pix_fmts" title='VDPAUFramesContext::nb_pix_fmts' data-use='r' data-ref="VDPAUFramesContext::nb_pix_fmts">nb_pix_fmts</a>, <b>sizeof</b>(*<a class="local col0 ref" href="#50fmts" title='fmts' data-ref="50fmts">fmts</a>));</td></tr>
<tr><th id="283">283</th><td>    <b>if</b> (!<a class="local col0 ref" href="#50fmts" title='fmts' data-ref="50fmts">fmts</a>)</td></tr>
<tr><th id="284">284</th><td>        <b>return</b> <a class="macro" href="error.h.html#39" title="(-(12))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno-base.h.html#15" title="12" data-ref="_M/ENOMEM">ENOMEM</a>);</td></tr>
<tr><th id="285">285</th><td></td></tr>
<tr><th id="286">286</th><td>    <a class="ref" href="../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(<a class="local col0 ref" href="#50fmts" title='fmts' data-ref="50fmts">fmts</a>, <a class="local col9 ref" href="#49priv" title='priv' data-ref="49priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::pix_fmts" title='VDPAUFramesContext::pix_fmts' data-use='r' data-ref="VDPAUFramesContext::pix_fmts">pix_fmts</a>, <b>sizeof</b>(*<a class="local col0 ref" href="#50fmts" title='fmts' data-ref="50fmts">fmts</a>) * (<a class="local col9 ref" href="#49priv" title='priv' data-ref="49priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::nb_pix_fmts" title='VDPAUFramesContext::nb_pix_fmts' data-use='r' data-ref="VDPAUFramesContext::nb_pix_fmts">nb_pix_fmts</a>));</td></tr>
<tr><th id="287">287</th><td>    *<a class="local col8 ref" href="#48formats" title='formats' data-ref="48formats">formats</a> = <a class="local col0 ref" href="#50fmts" title='fmts' data-ref="50fmts">fmts</a>;</td></tr>
<tr><th id="288">288</th><td></td></tr>
<tr><th id="289">289</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="290">290</th><td>}</td></tr>
<tr><th id="291">291</th><td></td></tr>
<tr><th id="292">292</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="vdpau_transfer_data_from" title='vdpau_transfer_data_from' data-type='int vdpau_transfer_data_from(AVHWFramesContext * ctx, AVFrame * dst, const AVFrame * src)' data-ref="vdpau_transfer_data_from">vdpau_transfer_data_from</dfn>(<a class="typedef" href="hwcontext.h.html#AVHWFramesContext" title='AVHWFramesContext' data-type='struct AVHWFramesContext' data-ref="AVHWFramesContext">AVHWFramesContext</a> *<dfn class="local col1 decl" id="51ctx" title='ctx' data-type='AVHWFramesContext *' data-ref="51ctx">ctx</dfn>, <a class="typedef" href="frame.h.html#AVFrame" title='AVFrame' data-type='struct AVFrame' data-ref="AVFrame">AVFrame</a> *<dfn class="local col2 decl" id="52dst" title='dst' data-type='AVFrame *' data-ref="52dst">dst</dfn>,</td></tr>
<tr><th id="293">293</th><td>                                    <em>const</em> <a class="typedef" href="frame.h.html#AVFrame" title='AVFrame' data-type='struct AVFrame' data-ref="AVFrame">AVFrame</a> *<dfn class="local col3 decl" id="53src" title='src' data-type='const AVFrame *' data-ref="53src">src</dfn>)</td></tr>
<tr><th id="294">294</th><td>{</td></tr>
<tr><th id="295">295</th><td>    <a class="typedef" href="#VDPAUFramesContext" title='VDPAUFramesContext' data-type='struct VDPAUFramesContext' data-ref="VDPAUFramesContext">VDPAUFramesContext</a> *<dfn class="local col4 decl" id="54priv" title='priv' data-type='VDPAUFramesContext *' data-ref="54priv">priv</dfn> = <a class="local col1 ref" href="#51ctx" title='ctx' data-ref="51ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::internal" title='AVHWFramesContext::internal' data-ref="AVHWFramesContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWFramesInternal::priv" title='AVHWFramesInternal::priv' data-ref="AVHWFramesInternal::priv">priv</a>;</td></tr>
<tr><th id="296">296</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurface" title='VdpVideoSurface' data-type='uint32_t' data-ref="VdpVideoSurface">VdpVideoSurface</a>     <dfn class="local col5 decl" id="55surf" title='surf' data-type='VdpVideoSurface' data-ref="55surf">surf</dfn> = (<a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurface" title='VdpVideoSurface' data-type='uint32_t' data-ref="VdpVideoSurface">VdpVideoSurface</a>)(<a class="typedef" href="../../include/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t">uintptr_t</a>)<a class="local col3 ref" href="#53src" title='src' data-ref="53src">src</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::data" title='AVFrame::data' data-ref="AVFrame::data">data</a>[<var>3</var>];</td></tr>
<tr><th id="297">297</th><td></td></tr>
<tr><th id="298">298</th><td>    <em>void</em> *<dfn class="local col6 decl" id="56data" title='data' data-type='void *[3]' data-ref="56data">data</dfn>[<var>3</var>];</td></tr>
<tr><th id="299">299</th><td>    <a class="typedef" href="../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="57linesize" title='linesize' data-type='uint32_t [3]' data-ref="57linesize">linesize</dfn>[<var>3</var>];</td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td>    <em>const</em> <a class="typedef" href="#VDPAUPixFmtMap" title='VDPAUPixFmtMap' data-type='struct VDPAUPixFmtMap' data-ref="VDPAUPixFmtMap">VDPAUPixFmtMap</a> *<dfn class="local col8 decl" id="58map" title='map' data-type='const VDPAUPixFmtMap *' data-ref="58map">map</dfn>;</td></tr>
<tr><th id="302">302</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpYCbCrFormat" title='VdpYCbCrFormat' data-type='uint32_t' data-ref="VdpYCbCrFormat">VdpYCbCrFormat</a> <dfn class="local col9 decl" id="59vdpau_format" title='vdpau_format' data-type='VdpYCbCrFormat' data-ref="59vdpau_format">vdpau_format</dfn>;</td></tr>
<tr><th id="303">303</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpStatus" title='VdpStatus' data-type='enum VdpStatus' data-ref="VdpStatus">VdpStatus</a> <dfn class="local col0 decl" id="60err" title='err' data-type='VdpStatus' data-ref="60err">err</dfn>;</td></tr>
<tr><th id="304">304</th><td>    <em>int</em> <dfn class="local col1 decl" id="61i" title='i' data-type='int' data-ref="61i">i</dfn>;</td></tr>
<tr><th id="305">305</th><td></td></tr>
<tr><th id="306">306</th><td>    <b>for</b> (<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a> = <var>0</var>; <a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>&lt; <a class="macro" href="common.h.html#100" title="(sizeof(data) / sizeof((data)[0]))" data-ref="_M/FF_ARRAY_ELEMS">FF_ARRAY_ELEMS</a>(<a class="local col6 ref" href="#56data" title='data' data-ref="56data">data</a>) &amp;&amp; <a class="local col2 ref" href="#52dst" title='dst' data-ref="52dst">dst</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::data" title='AVFrame::data' data-ref="AVFrame::data">data</a>[<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>]; <a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>++) {</td></tr>
<tr><th id="307">307</th><td>        <a class="local col6 ref" href="#56data" title='data' data-ref="56data">data</a>[<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>] = <a class="local col2 ref" href="#52dst" title='dst' data-ref="52dst">dst</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::data" title='AVFrame::data' data-ref="AVFrame::data">data</a>[<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>];</td></tr>
<tr><th id="308">308</th><td>        <b>if</b> (<a class="local col2 ref" href="#52dst" title='dst' data-ref="52dst">dst</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::linesize" title='AVFrame::linesize' data-ref="AVFrame::linesize">linesize</a>[<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>] &lt; <var>0</var> || (<a class="typedef" href="../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a>)<a class="local col2 ref" href="#52dst" title='dst' data-ref="52dst">dst</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::linesize" title='AVFrame::linesize' data-ref="AVFrame::linesize">linesize</a> &gt; <a class="macro" href="../../include/stdint.h.html#168" title="(4294967295U)" data-ref="_M/UINT32_MAX">UINT32_MAX</a>) {</td></tr>
<tr><th id="309">309</th><td>            <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col1 ref" href="#51ctx" title='ctx' data-ref="51ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>,</td></tr>
<tr><th id="310">310</th><td>                   <q>"The linesize %d cannot be represented as uint32\n"</q>,</td></tr>
<tr><th id="311">311</th><td>                   <a class="local col2 ref" href="#52dst" title='dst' data-ref="52dst">dst</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::linesize" title='AVFrame::linesize' data-ref="AVFrame::linesize">linesize</a>[<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>]);</td></tr>
<tr><th id="312">312</th><td>            <b>return</b> <a class="macro" href="error.h.html#39" title="(-(34))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>);</td></tr>
<tr><th id="313">313</th><td>        }</td></tr>
<tr><th id="314">314</th><td>        <a class="local col7 ref" href="#57linesize" title='linesize' data-ref="57linesize">linesize</a>[<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>] = <a class="local col2 ref" href="#52dst" title='dst' data-ref="52dst">dst</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::linesize" title='AVFrame::linesize' data-ref="AVFrame::linesize">linesize</a>[<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>];</td></tr>
<tr><th id="315">315</th><td>    }</td></tr>
<tr><th id="316">316</th><td></td></tr>
<tr><th id="317">317</th><td>    <a class="local col8 ref" href="#58map" title='map' data-ref="58map">map</a> = <a class="tu ref" href="#vdpau_pix_fmts" title='vdpau_pix_fmts' data-use='m' data-ref="vdpau_pix_fmts">vdpau_pix_fmts</a>[<a class="local col4 ref" href="#54priv" title='priv' data-ref="54priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::chroma_idx" title='VDPAUFramesContext::chroma_idx' data-use='r' data-ref="VDPAUFramesContext::chroma_idx">chroma_idx</a>].<a class="local col2 ref" href="#2map" title='map' data-ref="2map">map</a>;</td></tr>
<tr><th id="318">318</th><td>    <b>for</b> (<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a> = <var>0</var>; <a class="local col8 ref" href="#58map" title='map' data-ref="58map">map</a>[<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>].<a class="tu ref" href="#VDPAUPixFmtMap::pix_fmt" title='VDPAUPixFmtMap::pix_fmt' data-use='r' data-ref="VDPAUPixFmtMap::pix_fmt">pix_fmt</a> != <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NONE" title='AVPixelFormat::AV_PIX_FMT_NONE' data-ref="AVPixelFormat::AV_PIX_FMT_NONE">AV_PIX_FMT_NONE</a>; <a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>++) {</td></tr>
<tr><th id="319">319</th><td>        <b>if</b> (<a class="local col8 ref" href="#58map" title='map' data-ref="58map">map</a>[<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>].<a class="tu ref" href="#VDPAUPixFmtMap::pix_fmt" title='VDPAUPixFmtMap::pix_fmt' data-use='r' data-ref="VDPAUPixFmtMap::pix_fmt">pix_fmt</a> == <a class="local col2 ref" href="#52dst" title='dst' data-ref="52dst">dst</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::format" title='AVFrame::format' data-ref="AVFrame::format">format</a>) {</td></tr>
<tr><th id="320">320</th><td>            <a class="local col9 ref" href="#59vdpau_format" title='vdpau_format' data-ref="59vdpau_format">vdpau_format</a> = <a class="local col8 ref" href="#58map" title='map' data-ref="58map">map</a>[<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>].<a class="tu ref" href="#VDPAUPixFmtMap::vdpau_fmt" title='VDPAUPixFmtMap::vdpau_fmt' data-use='r' data-ref="VDPAUPixFmtMap::vdpau_fmt">vdpau_fmt</a>;</td></tr>
<tr><th id="321">321</th><td>            <b>break</b>;</td></tr>
<tr><th id="322">322</th><td>        }</td></tr>
<tr><th id="323">323</th><td>    }</td></tr>
<tr><th id="324">324</th><td>    <b>if</b> (<a class="local col8 ref" href="#58map" title='map' data-ref="58map">map</a>[<a class="local col1 ref" href="#61i" title='i' data-ref="61i">i</a>].<a class="tu ref" href="#VDPAUPixFmtMap::pix_fmt" title='VDPAUPixFmtMap::pix_fmt' data-use='r' data-ref="VDPAUPixFmtMap::pix_fmt">pix_fmt</a> == <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NONE" title='AVPixelFormat::AV_PIX_FMT_NONE' data-ref="AVPixelFormat::AV_PIX_FMT_NONE">AV_PIX_FMT_NONE</a>) {</td></tr>
<tr><th id="325">325</th><td>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col1 ref" href="#51ctx" title='ctx' data-ref="51ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>,</td></tr>
<tr><th id="326">326</th><td>               <q>"Unsupported target pixel format: %s\n"</q>,</td></tr>
<tr><th id="327">327</th><td>               <a class="ref" href="pixdesc.h.html#av_get_pix_fmt_name" title='av_get_pix_fmt_name' data-ref="av_get_pix_fmt_name">av_get_pix_fmt_name</a>(<a class="local col2 ref" href="#52dst" title='dst' data-ref="52dst">dst</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::format" title='AVFrame::format' data-ref="AVFrame::format">format</a>));</td></tr>
<tr><th id="328">328</th><td>        <b>return</b> <a class="macro" href="error.h.html#39" title="(-(22))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno-base.h.html#25" title="22" data-ref="_M/EINVAL">EINVAL</a>);</td></tr>
<tr><th id="329">329</th><td>    }</td></tr>
<tr><th id="330">330</th><td></td></tr>
<tr><th id="331">331</th><td>    <b>if</b> (<a class="local col9 ref" href="#59vdpau_format" title='vdpau_format' data-ref="59vdpau_format">vdpau_format</a> == <a class="macro" href="../../include/vdpau/vdpau.h.html#843" title="(VdpYCbCrFormat)1" data-ref="_M/VDP_YCBCR_FORMAT_YV12">VDP_YCBCR_FORMAT_YV12</a>)</td></tr>
<tr><th id="332">332</th><td>        <a class="macro" href="common.h.html#99" title="do{void* SWAP_tmp= data[2]; data[2]= data[1]; data[1]= SWAP_tmp;}while(0)" data-ref="_M/FFSWAP">FFSWAP</a>(<em>void</em>*, <a class="local col6 ref" href="#56data" title='data' data-ref="56data">data</a>[<var>1</var>], <a class="local col6 ref" href="#56data" title='data' data-ref="56data">data</a>[<var>2</var>]);</td></tr>
<tr><th id="333">333</th><td></td></tr>
<tr><th id="334">334</th><td>    <a class="local col0 ref" href="#60err" title='err' data-ref="60err">err</a> = <a class="local col4 ref" href="#54priv" title='priv' data-ref="54priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::get_data" title='VDPAUFramesContext::get_data' data-use='r' data-ref="VDPAUFramesContext::get_data">get_data</a>(<a class="local col5 ref" href="#55surf" title='surf' data-ref="55surf">surf</a>, <a class="local col9 ref" href="#59vdpau_format" title='vdpau_format' data-ref="59vdpau_format">vdpau_format</a>, <a class="local col6 ref" href="#56data" title='data' data-ref="56data">data</a>, <a class="local col7 ref" href="#57linesize" title='linesize' data-ref="57linesize">linesize</a>);</td></tr>
<tr><th id="335">335</th><td>    <b>if</b> (<a class="local col0 ref" href="#60err" title='err' data-ref="60err">err</a> != <a class="enum" href="../../include/vdpau/vdpau.h.html#::VDP_STATUS_OK" title='::VDP_STATUS_OK' data-ref="::VDP_STATUS_OK">VDP_STATUS_OK</a>) {</td></tr>
<tr><th id="336">336</th><td>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col1 ref" href="#51ctx" title='ctx' data-ref="51ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>, <q>"Error retrieving the data from a VDPAU surface\n"</q>);</td></tr>
<tr><th id="337">337</th><td>        <b>return</b> <a class="macro" href="error.h.html#71" title="(-(int)((&apos;U&apos;) | ((&apos;N&apos;) &lt;&lt; 8) | ((&apos;K&apos;) &lt;&lt; 16) | ((unsigned)(&apos;N&apos;) &lt;&lt; 24)))" data-ref="_M/AVERROR_UNKNOWN">AVERROR_UNKNOWN</a>;</td></tr>
<tr><th id="338">338</th><td>    }</td></tr>
<tr><th id="339">339</th><td></td></tr>
<tr><th id="340">340</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="341">341</th><td>}</td></tr>
<tr><th id="342">342</th><td></td></tr>
<tr><th id="343">343</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="vdpau_transfer_data_to" title='vdpau_transfer_data_to' data-type='int vdpau_transfer_data_to(AVHWFramesContext * ctx, AVFrame * dst, const AVFrame * src)' data-ref="vdpau_transfer_data_to">vdpau_transfer_data_to</dfn>(<a class="typedef" href="hwcontext.h.html#AVHWFramesContext" title='AVHWFramesContext' data-type='struct AVHWFramesContext' data-ref="AVHWFramesContext">AVHWFramesContext</a> *<dfn class="local col2 decl" id="62ctx" title='ctx' data-type='AVHWFramesContext *' data-ref="62ctx">ctx</dfn>, <a class="typedef" href="frame.h.html#AVFrame" title='AVFrame' data-type='struct AVFrame' data-ref="AVFrame">AVFrame</a> *<dfn class="local col3 decl" id="63dst" title='dst' data-type='AVFrame *' data-ref="63dst">dst</dfn>,</td></tr>
<tr><th id="344">344</th><td>                                  <em>const</em> <a class="typedef" href="frame.h.html#AVFrame" title='AVFrame' data-type='struct AVFrame' data-ref="AVFrame">AVFrame</a> *<dfn class="local col4 decl" id="64src" title='src' data-type='const AVFrame *' data-ref="64src">src</dfn>)</td></tr>
<tr><th id="345">345</th><td>{</td></tr>
<tr><th id="346">346</th><td>    <a class="typedef" href="#VDPAUFramesContext" title='VDPAUFramesContext' data-type='struct VDPAUFramesContext' data-ref="VDPAUFramesContext">VDPAUFramesContext</a> *<dfn class="local col5 decl" id="65priv" title='priv' data-type='VDPAUFramesContext *' data-ref="65priv">priv</dfn> = <a class="local col2 ref" href="#62ctx" title='ctx' data-ref="62ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWFramesContext::internal" title='AVHWFramesContext::internal' data-ref="AVHWFramesContext::internal">internal</a>-&gt;<a class="ref" href="hwcontext_internal.h.html#AVHWFramesInternal::priv" title='AVHWFramesInternal::priv' data-ref="AVHWFramesInternal::priv">priv</a>;</td></tr>
<tr><th id="347">347</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurface" title='VdpVideoSurface' data-type='uint32_t' data-ref="VdpVideoSurface">VdpVideoSurface</a>     <dfn class="local col6 decl" id="66surf" title='surf' data-type='VdpVideoSurface' data-ref="66surf">surf</dfn> = (<a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpVideoSurface" title='VdpVideoSurface' data-type='uint32_t' data-ref="VdpVideoSurface">VdpVideoSurface</a>)(<a class="typedef" href="../../include/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t">uintptr_t</a>)<a class="local col3 ref" href="#63dst" title='dst' data-ref="63dst">dst</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::data" title='AVFrame::data' data-ref="AVFrame::data">data</a>[<var>3</var>];</td></tr>
<tr><th id="348">348</th><td></td></tr>
<tr><th id="349">349</th><td>    <em>const</em> <em>void</em> *<dfn class="local col7 decl" id="67data" title='data' data-type='const void *[3]' data-ref="67data">data</dfn>[<var>3</var>];</td></tr>
<tr><th id="350">350</th><td>    <a class="typedef" href="../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="68linesize" title='linesize' data-type='uint32_t [3]' data-ref="68linesize">linesize</dfn>[<var>3</var>];</td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td>    <em>const</em> <a class="typedef" href="#VDPAUPixFmtMap" title='VDPAUPixFmtMap' data-type='struct VDPAUPixFmtMap' data-ref="VDPAUPixFmtMap">VDPAUPixFmtMap</a> *<dfn class="local col9 decl" id="69map" title='map' data-type='const VDPAUPixFmtMap *' data-ref="69map">map</dfn>;</td></tr>
<tr><th id="353">353</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpYCbCrFormat" title='VdpYCbCrFormat' data-type='uint32_t' data-ref="VdpYCbCrFormat">VdpYCbCrFormat</a> <dfn class="local col0 decl" id="70vdpau_format" title='vdpau_format' data-type='VdpYCbCrFormat' data-ref="70vdpau_format">vdpau_format</dfn>;</td></tr>
<tr><th id="354">354</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpStatus" title='VdpStatus' data-type='enum VdpStatus' data-ref="VdpStatus">VdpStatus</a> <dfn class="local col1 decl" id="71err" title='err' data-type='VdpStatus' data-ref="71err">err</dfn>;</td></tr>
<tr><th id="355">355</th><td>    <em>int</em> <dfn class="local col2 decl" id="72i" title='i' data-type='int' data-ref="72i">i</dfn>;</td></tr>
<tr><th id="356">356</th><td></td></tr>
<tr><th id="357">357</th><td>    <b>for</b> (<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a> = <var>0</var>; <a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>&lt; <a class="macro" href="common.h.html#100" title="(sizeof(data) / sizeof((data)[0]))" data-ref="_M/FF_ARRAY_ELEMS">FF_ARRAY_ELEMS</a>(<a class="local col7 ref" href="#67data" title='data' data-ref="67data">data</a>) &amp;&amp; <a class="local col4 ref" href="#64src" title='src' data-ref="64src">src</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::data" title='AVFrame::data' data-ref="AVFrame::data">data</a>[<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>]; <a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>++) {</td></tr>
<tr><th id="358">358</th><td>        <a class="local col7 ref" href="#67data" title='data' data-ref="67data">data</a>[<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>] = <a class="local col4 ref" href="#64src" title='src' data-ref="64src">src</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::data" title='AVFrame::data' data-ref="AVFrame::data">data</a>[<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>];</td></tr>
<tr><th id="359">359</th><td>        <b>if</b> (<a class="local col4 ref" href="#64src" title='src' data-ref="64src">src</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::linesize" title='AVFrame::linesize' data-ref="AVFrame::linesize">linesize</a>[<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>] &lt; <var>0</var> || (<a class="typedef" href="../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a>)<a class="local col4 ref" href="#64src" title='src' data-ref="64src">src</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::linesize" title='AVFrame::linesize' data-ref="AVFrame::linesize">linesize</a> &gt; <a class="macro" href="../../include/stdint.h.html#168" title="(4294967295U)" data-ref="_M/UINT32_MAX">UINT32_MAX</a>) {</td></tr>
<tr><th id="360">360</th><td>            <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col2 ref" href="#62ctx" title='ctx' data-ref="62ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>,</td></tr>
<tr><th id="361">361</th><td>                   <q>"The linesize %d cannot be represented as uint32\n"</q>,</td></tr>
<tr><th id="362">362</th><td>                   <a class="local col4 ref" href="#64src" title='src' data-ref="64src">src</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::linesize" title='AVFrame::linesize' data-ref="AVFrame::linesize">linesize</a>[<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>]);</td></tr>
<tr><th id="363">363</th><td>            <b>return</b> <a class="macro" href="error.h.html#39" title="(-(34))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno-base.h.html#37" title="34" data-ref="_M/ERANGE">ERANGE</a>);</td></tr>
<tr><th id="364">364</th><td>        }</td></tr>
<tr><th id="365">365</th><td>        <a class="local col8 ref" href="#68linesize" title='linesize' data-ref="68linesize">linesize</a>[<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>] = <a class="local col4 ref" href="#64src" title='src' data-ref="64src">src</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::linesize" title='AVFrame::linesize' data-ref="AVFrame::linesize">linesize</a>[<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>];</td></tr>
<tr><th id="366">366</th><td>    }</td></tr>
<tr><th id="367">367</th><td></td></tr>
<tr><th id="368">368</th><td>    <a class="local col9 ref" href="#69map" title='map' data-ref="69map">map</a> = <a class="tu ref" href="#vdpau_pix_fmts" title='vdpau_pix_fmts' data-use='m' data-ref="vdpau_pix_fmts">vdpau_pix_fmts</a>[<a class="local col5 ref" href="#65priv" title='priv' data-ref="65priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::chroma_idx" title='VDPAUFramesContext::chroma_idx' data-use='r' data-ref="VDPAUFramesContext::chroma_idx">chroma_idx</a>].<a class="local col2 ref" href="#2map" title='map' data-ref="2map">map</a>;</td></tr>
<tr><th id="369">369</th><td>    <b>for</b> (<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a> = <var>0</var>; <a class="local col9 ref" href="#69map" title='map' data-ref="69map">map</a>[<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>].<a class="tu ref" href="#VDPAUPixFmtMap::pix_fmt" title='VDPAUPixFmtMap::pix_fmt' data-use='r' data-ref="VDPAUPixFmtMap::pix_fmt">pix_fmt</a> != <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NONE" title='AVPixelFormat::AV_PIX_FMT_NONE' data-ref="AVPixelFormat::AV_PIX_FMT_NONE">AV_PIX_FMT_NONE</a>; <a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>++) {</td></tr>
<tr><th id="370">370</th><td>        <b>if</b> (<a class="local col9 ref" href="#69map" title='map' data-ref="69map">map</a>[<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>].<a class="tu ref" href="#VDPAUPixFmtMap::pix_fmt" title='VDPAUPixFmtMap::pix_fmt' data-use='r' data-ref="VDPAUPixFmtMap::pix_fmt">pix_fmt</a> == <a class="local col4 ref" href="#64src" title='src' data-ref="64src">src</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::format" title='AVFrame::format' data-ref="AVFrame::format">format</a>) {</td></tr>
<tr><th id="371">371</th><td>            <a class="local col0 ref" href="#70vdpau_format" title='vdpau_format' data-ref="70vdpau_format">vdpau_format</a> = <a class="local col9 ref" href="#69map" title='map' data-ref="69map">map</a>[<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>].<a class="tu ref" href="#VDPAUPixFmtMap::vdpau_fmt" title='VDPAUPixFmtMap::vdpau_fmt' data-use='r' data-ref="VDPAUPixFmtMap::vdpau_fmt">vdpau_fmt</a>;</td></tr>
<tr><th id="372">372</th><td>            <b>break</b>;</td></tr>
<tr><th id="373">373</th><td>        }</td></tr>
<tr><th id="374">374</th><td>    }</td></tr>
<tr><th id="375">375</th><td>    <b>if</b> (<a class="local col9 ref" href="#69map" title='map' data-ref="69map">map</a>[<a class="local col2 ref" href="#72i" title='i' data-ref="72i">i</a>].<a class="tu ref" href="#VDPAUPixFmtMap::pix_fmt" title='VDPAUPixFmtMap::pix_fmt' data-use='r' data-ref="VDPAUPixFmtMap::pix_fmt">pix_fmt</a> == <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NONE" title='AVPixelFormat::AV_PIX_FMT_NONE' data-ref="AVPixelFormat::AV_PIX_FMT_NONE">AV_PIX_FMT_NONE</a>) {</td></tr>
<tr><th id="376">376</th><td>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col2 ref" href="#62ctx" title='ctx' data-ref="62ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>,</td></tr>
<tr><th id="377">377</th><td>               <q>"Unsupported source pixel format: %s\n"</q>,</td></tr>
<tr><th id="378">378</th><td>               <a class="ref" href="pixdesc.h.html#av_get_pix_fmt_name" title='av_get_pix_fmt_name' data-ref="av_get_pix_fmt_name">av_get_pix_fmt_name</a>(<a class="local col4 ref" href="#64src" title='src' data-ref="64src">src</a>-&gt;<a class="ref" href="frame.h.html#AVFrame::format" title='AVFrame::format' data-ref="AVFrame::format">format</a>));</td></tr>
<tr><th id="379">379</th><td>        <b>return</b> <a class="macro" href="error.h.html#39" title="(-(22))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno-base.h.html#25" title="22" data-ref="_M/EINVAL">EINVAL</a>);</td></tr>
<tr><th id="380">380</th><td>    }</td></tr>
<tr><th id="381">381</th><td></td></tr>
<tr><th id="382">382</th><td>    <b>if</b> (<a class="local col0 ref" href="#70vdpau_format" title='vdpau_format' data-ref="70vdpau_format">vdpau_format</a> == <a class="macro" href="../../include/vdpau/vdpau.h.html#843" title="(VdpYCbCrFormat)1" data-ref="_M/VDP_YCBCR_FORMAT_YV12">VDP_YCBCR_FORMAT_YV12</a>)</td></tr>
<tr><th id="383">383</th><td>        <a class="macro" href="common.h.html#99" title="do{const void* SWAP_tmp= data[2]; data[2]= data[1]; data[1]= SWAP_tmp;}while(0)" data-ref="_M/FFSWAP">FFSWAP</a>(<em>const</em> <em>void</em>*, <a class="local col7 ref" href="#67data" title='data' data-ref="67data">data</a>[<var>1</var>], <a class="local col7 ref" href="#67data" title='data' data-ref="67data">data</a>[<var>2</var>]);</td></tr>
<tr><th id="384">384</th><td></td></tr>
<tr><th id="385">385</th><td>    <a class="local col1 ref" href="#71err" title='err' data-ref="71err">err</a> = <a class="local col5 ref" href="#65priv" title='priv' data-ref="65priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUFramesContext::put_data" title='VDPAUFramesContext::put_data' data-use='r' data-ref="VDPAUFramesContext::put_data">put_data</a>(<a class="local col6 ref" href="#66surf" title='surf' data-ref="66surf">surf</a>, <a class="local col0 ref" href="#70vdpau_format" title='vdpau_format' data-ref="70vdpau_format">vdpau_format</a>, <a class="local col7 ref" href="#67data" title='data' data-ref="67data">data</a>, <a class="local col8 ref" href="#68linesize" title='linesize' data-ref="68linesize">linesize</a>);</td></tr>
<tr><th id="386">386</th><td>    <b>if</b> (<a class="local col1 ref" href="#71err" title='err' data-ref="71err">err</a> != <a class="enum" href="../../include/vdpau/vdpau.h.html#::VDP_STATUS_OK" title='::VDP_STATUS_OK' data-ref="::VDP_STATUS_OK">VDP_STATUS_OK</a>) {</td></tr>
<tr><th id="387">387</th><td>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col2 ref" href="#62ctx" title='ctx' data-ref="62ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>, <q>"Error uploading the data to a VDPAU surface\n"</q>);</td></tr>
<tr><th id="388">388</th><td>        <b>return</b> <a class="macro" href="error.h.html#71" title="(-(int)((&apos;U&apos;) | ((&apos;N&apos;) &lt;&lt; 8) | ((&apos;K&apos;) &lt;&lt; 16) | ((unsigned)(&apos;N&apos;) &lt;&lt; 24)))" data-ref="_M/AVERROR_UNKNOWN">AVERROR_UNKNOWN</a>;</td></tr>
<tr><th id="389">389</th><td>    }</td></tr>
<tr><th id="390">390</th><td></td></tr>
<tr><th id="391">391</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="392">392</th><td>}</td></tr>
<tr><th id="393">393</th><td></td></tr>
<tr><th id="394">394</th><td><u>#<span data-ppcond="394">if</span> <a class="macro" href="../config.h.html#389" title="1" data-ref="_M/HAVE_VDPAU_X11">HAVE_VDPAU_X11</a></u></td></tr>
<tr><th id="395">395</th><td><u>#include <a href="../../include/vdpau/vdpau_x11.h.html">&lt;vdpau/vdpau_x11.h&gt;</a></u></td></tr>
<tr><th id="396">396</th><td><u>#include <a href="../../include/X11/Xlib.h.html">&lt;X11/Xlib.h&gt;</a></u></td></tr>
<tr><th id="397">397</th><td></td></tr>
<tr><th id="398">398</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="VDPAUDevicePriv" title='VDPAUDevicePriv' data-ref="VDPAUDevicePriv"><a class="type" href="#VDPAUDevicePriv" title='VDPAUDevicePriv' data-ref="VDPAUDevicePriv">VDPAUDevicePriv</a></dfn> {</td></tr>
<tr><th id="399">399</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpDeviceDestroy" title='VdpDeviceDestroy' data-type='VdpStatus (VdpDevice)' data-ref="VdpDeviceDestroy">VdpDeviceDestroy</a> *<dfn class="tu decl" id="VDPAUDevicePriv::device_destroy" title='VDPAUDevicePriv::device_destroy' data-type='VdpDeviceDestroy *' data-ref="VDPAUDevicePriv::device_destroy">device_destroy</dfn>;</td></tr>
<tr><th id="400">400</th><td>    <a class="typedef" href="../../include/X11/Xlib.h.html#Display" title='Display' data-type='struct _XDisplay' data-ref="Display">Display</a> *<dfn class="tu decl" id="VDPAUDevicePriv::dpy" title='VDPAUDevicePriv::dpy' data-type='Display *' data-ref="VDPAUDevicePriv::dpy">dpy</dfn>;</td></tr>
<tr><th id="401">401</th><td>} <dfn class="typedef" id="VDPAUDevicePriv" title='VDPAUDevicePriv' data-type='struct VDPAUDevicePriv' data-ref="VDPAUDevicePriv">VDPAUDevicePriv</dfn>;</td></tr>
<tr><th id="402">402</th><td></td></tr>
<tr><th id="403">403</th><td><em>static</em> <em>void</em> <dfn class="tu decl def" id="vdpau_device_free" title='vdpau_device_free' data-type='void vdpau_device_free(AVHWDeviceContext * ctx)' data-ref="vdpau_device_free">vdpau_device_free</dfn>(<a class="typedef" href="hwcontext.h.html#AVHWDeviceContext" title='AVHWDeviceContext' data-type='struct AVHWDeviceContext' data-ref="AVHWDeviceContext">AVHWDeviceContext</a> *<dfn class="local col3 decl" id="73ctx" title='ctx' data-type='AVHWDeviceContext *' data-ref="73ctx">ctx</dfn>)</td></tr>
<tr><th id="404">404</th><td>{</td></tr>
<tr><th id="405">405</th><td>    <a class="typedef" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext" title='AVVDPAUDeviceContext' data-type='struct AVVDPAUDeviceContext' data-ref="AVVDPAUDeviceContext">AVVDPAUDeviceContext</a> *<dfn class="local col4 decl" id="74hwctx" title='hwctx' data-type='AVVDPAUDeviceContext *' data-ref="74hwctx">hwctx</dfn> = <a class="local col3 ref" href="#73ctx" title='ctx' data-ref="73ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::hwctx" title='AVHWDeviceContext::hwctx' data-ref="AVHWDeviceContext::hwctx">hwctx</a>;</td></tr>
<tr><th id="406">406</th><td>    <a class="typedef" href="#VDPAUDevicePriv" title='VDPAUDevicePriv' data-type='struct VDPAUDevicePriv' data-ref="VDPAUDevicePriv">VDPAUDevicePriv</a>       *<dfn class="local col5 decl" id="75priv" title='priv' data-type='VDPAUDevicePriv *' data-ref="75priv">priv</dfn> = <a class="local col3 ref" href="#73ctx" title='ctx' data-ref="73ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::user_opaque" title='AVHWDeviceContext::user_opaque' data-ref="AVHWDeviceContext::user_opaque">user_opaque</a>;</td></tr>
<tr><th id="407">407</th><td></td></tr>
<tr><th id="408">408</th><td>    <b>if</b> (<a class="local col5 ref" href="#75priv" title='priv' data-ref="75priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDevicePriv::device_destroy" title='VDPAUDevicePriv::device_destroy' data-use='r' data-ref="VDPAUDevicePriv::device_destroy">device_destroy</a>)</td></tr>
<tr><th id="409">409</th><td>        <a class="local col5 ref" href="#75priv" title='priv' data-ref="75priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDevicePriv::device_destroy" title='VDPAUDevicePriv::device_destroy' data-use='r' data-ref="VDPAUDevicePriv::device_destroy">device_destroy</a>(<a class="local col4 ref" href="#74hwctx" title='hwctx' data-ref="74hwctx">hwctx</a>-&gt;<a class="ref" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext::device" title='AVVDPAUDeviceContext::device' data-ref="AVVDPAUDeviceContext::device">device</a>);</td></tr>
<tr><th id="410">410</th><td>    <b>if</b> (<a class="local col5 ref" href="#75priv" title='priv' data-ref="75priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDevicePriv::dpy" title='VDPAUDevicePriv::dpy' data-use='r' data-ref="VDPAUDevicePriv::dpy">dpy</a>)</td></tr>
<tr><th id="411">411</th><td>        <a class="ref" href="../../include/X11/Xlib.h.html#XCloseDisplay" title='XCloseDisplay' data-ref="XCloseDisplay">XCloseDisplay</a>(<a class="local col5 ref" href="#75priv" title='priv' data-ref="75priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDevicePriv::dpy" title='VDPAUDevicePriv::dpy' data-use='r' data-ref="VDPAUDevicePriv::dpy">dpy</a>);</td></tr>
<tr><th id="412">412</th><td>    <a class="ref" href="mem.h.html#av_freep" title='av_freep' data-ref="av_freep">av_freep</a>(&amp;<a class="local col5 ref" href="#75priv" title='priv' data-ref="75priv">priv</a>);</td></tr>
<tr><th id="413">413</th><td>}</td></tr>
<tr><th id="414">414</th><td></td></tr>
<tr><th id="415">415</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="vdpau_device_create" title='vdpau_device_create' data-type='int vdpau_device_create(AVHWDeviceContext * ctx, const char * device, AVDictionary * opts, int flags)' data-ref="vdpau_device_create">vdpau_device_create</dfn>(<a class="typedef" href="hwcontext.h.html#AVHWDeviceContext" title='AVHWDeviceContext' data-type='struct AVHWDeviceContext' data-ref="AVHWDeviceContext">AVHWDeviceContext</a> *<dfn class="local col6 decl" id="76ctx" title='ctx' data-type='AVHWDeviceContext *' data-ref="76ctx">ctx</dfn>, <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="77device" title='device' data-type='const char *' data-ref="77device">device</dfn>,</td></tr>
<tr><th id="416">416</th><td>                               <a class="typedef" href="dict.h.html#AVDictionary" title='AVDictionary' data-type='struct AVDictionary' data-ref="AVDictionary">AVDictionary</a> *<dfn class="local col8 decl" id="78opts" title='opts' data-type='AVDictionary *' data-ref="78opts">opts</dfn>, <em>int</em> <dfn class="local col9 decl" id="79flags" title='flags' data-type='int' data-ref="79flags">flags</dfn>)</td></tr>
<tr><th id="417">417</th><td>{</td></tr>
<tr><th id="418">418</th><td>    <a class="typedef" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext" title='AVVDPAUDeviceContext' data-type='struct AVVDPAUDeviceContext' data-ref="AVVDPAUDeviceContext">AVVDPAUDeviceContext</a> *<dfn class="local col0 decl" id="80hwctx" title='hwctx' data-type='AVVDPAUDeviceContext *' data-ref="80hwctx">hwctx</dfn> = <a class="local col6 ref" href="#76ctx" title='ctx' data-ref="76ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::hwctx" title='AVHWDeviceContext::hwctx' data-ref="AVHWDeviceContext::hwctx">hwctx</a>;</td></tr>
<tr><th id="419">419</th><td></td></tr>
<tr><th id="420">420</th><td>    <a class="typedef" href="#VDPAUDevicePriv" title='VDPAUDevicePriv' data-type='struct VDPAUDevicePriv' data-ref="VDPAUDevicePriv">VDPAUDevicePriv</a> *<dfn class="local col1 decl" id="81priv" title='priv' data-type='VDPAUDevicePriv *' data-ref="81priv">priv</dfn>;</td></tr>
<tr><th id="421">421</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpStatus" title='VdpStatus' data-type='enum VdpStatus' data-ref="VdpStatus">VdpStatus</a> <dfn class="local col2 decl" id="82err" title='err' data-type='VdpStatus' data-ref="82err">err</dfn>;</td></tr>
<tr><th id="422">422</th><td>    <a class="typedef" href="../../include/vdpau/vdpau.h.html#VdpGetInformationString" title='VdpGetInformationString' data-type='VdpStatus (const char **)' data-ref="VdpGetInformationString">VdpGetInformationString</a> *<dfn class="local col3 decl" id="83get_information_string" title='get_information_string' data-type='VdpGetInformationString *' data-ref="83get_information_string">get_information_string</dfn>;</td></tr>
<tr><th id="423">423</th><td>    <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="84display" title='display' data-type='const char *' data-ref="84display">display</dfn>, *<dfn class="local col5 decl" id="85vendor" title='vendor' data-type='const char *' data-ref="85vendor">vendor</dfn>;</td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td>    <a class="local col1 ref" href="#81priv" title='priv' data-ref="81priv">priv</a> = <a class="ref" href="mem.h.html#av_mallocz" title='av_mallocz' data-ref="av_mallocz">av_mallocz</a>(<b>sizeof</b>(*<a class="local col1 ref" href="#81priv" title='priv' data-ref="81priv">priv</a>));</td></tr>
<tr><th id="426">426</th><td>    <b>if</b> (!<a class="local col1 ref" href="#81priv" title='priv' data-ref="81priv">priv</a>)</td></tr>
<tr><th id="427">427</th><td>        <b>return</b> <a class="macro" href="error.h.html#39" title="(-(12))" data-ref="_M/AVERROR">AVERROR</a>(<a class="macro" href="../../include/asm-generic/errno-base.h.html#15" title="12" data-ref="_M/ENOMEM">ENOMEM</a>);</td></tr>
<tr><th id="428">428</th><td></td></tr>
<tr><th id="429">429</th><td>    <a class="local col6 ref" href="#76ctx" title='ctx' data-ref="76ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::user_opaque" title='AVHWDeviceContext::user_opaque' data-ref="AVHWDeviceContext::user_opaque">user_opaque</a> = <a class="local col1 ref" href="#81priv" title='priv' data-ref="81priv">priv</a>;</td></tr>
<tr><th id="430">430</th><td>    <a class="local col6 ref" href="#76ctx" title='ctx' data-ref="76ctx">ctx</a>-&gt;<a class="ref" href="hwcontext.h.html#AVHWDeviceContext::free" title='AVHWDeviceContext::free' data-ref="AVHWDeviceContext::free">free</a>        = <a class="tu ref" href="#vdpau_device_free" title='vdpau_device_free' data-use='r' data-ref="vdpau_device_free">vdpau_device_free</a>;</td></tr>
<tr><th id="431">431</th><td></td></tr>
<tr><th id="432">432</th><td>    <a class="local col1 ref" href="#81priv" title='priv' data-ref="81priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDevicePriv::dpy" title='VDPAUDevicePriv::dpy' data-use='w' data-ref="VDPAUDevicePriv::dpy">dpy</a> = <a class="ref" href="../../include/X11/Xlib.h.html#XOpenDisplay" title='XOpenDisplay' data-ref="XOpenDisplay">XOpenDisplay</a>(<a class="local col7 ref" href="#77device" title='device' data-ref="77device">device</a>);</td></tr>
<tr><th id="433">433</th><td>    <b>if</b> (!<a class="local col1 ref" href="#81priv" title='priv' data-ref="81priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDevicePriv::dpy" title='VDPAUDevicePriv::dpy' data-use='r' data-ref="VDPAUDevicePriv::dpy">dpy</a>) {</td></tr>
<tr><th id="434">434</th><td>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col6 ref" href="#76ctx" title='ctx' data-ref="76ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>, <q>"Cannot open the X11 display %s.\n"</q>,</td></tr>
<tr><th id="435">435</th><td>               <a class="ref" href="../../include/X11/Xlib.h.html#XDisplayName" title='XDisplayName' data-ref="XDisplayName">XDisplayName</a>(<a class="local col7 ref" href="#77device" title='device' data-ref="77device">device</a>));</td></tr>
<tr><th id="436">436</th><td>        <b>return</b> <a class="macro" href="error.h.html#71" title="(-(int)((&apos;U&apos;) | ((&apos;N&apos;) &lt;&lt; 8) | ((&apos;K&apos;) &lt;&lt; 16) | ((unsigned)(&apos;N&apos;) &lt;&lt; 24)))" data-ref="_M/AVERROR_UNKNOWN">AVERROR_UNKNOWN</a>;</td></tr>
<tr><th id="437">437</th><td>    }</td></tr>
<tr><th id="438">438</th><td>    <a class="local col4 ref" href="#84display" title='display' data-ref="84display">display</a> = <a class="ref" href="../../include/X11/Xlib.h.html#XDisplayString" title='XDisplayString' data-ref="XDisplayString">XDisplayString</a>(<a class="local col1 ref" href="#81priv" title='priv' data-ref="81priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDevicePriv::dpy" title='VDPAUDevicePriv::dpy' data-use='r' data-ref="VDPAUDevicePriv::dpy">dpy</a>);</td></tr>
<tr><th id="439">439</th><td></td></tr>
<tr><th id="440">440</th><td>    <a class="local col2 ref" href="#82err" title='err' data-ref="82err">err</a> = <a class="ref" href="../../include/vdpau/vdpau_x11.h.html#vdp_device_create_x11" title='vdp_device_create_x11' data-ref="vdp_device_create_x11">vdp_device_create_x11</a>(<a class="local col1 ref" href="#81priv" title='priv' data-ref="81priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDevicePriv::dpy" title='VDPAUDevicePriv::dpy' data-use='r' data-ref="VDPAUDevicePriv::dpy">dpy</a>, <a class="ref" href="../../include/X11/Xlib.h.html#XDefaultScreen" title='XDefaultScreen' data-ref="XDefaultScreen">XDefaultScreen</a>(<a class="local col1 ref" href="#81priv" title='priv' data-ref="81priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDevicePriv::dpy" title='VDPAUDevicePriv::dpy' data-use='r' data-ref="VDPAUDevicePriv::dpy">dpy</a>),</td></tr>
<tr><th id="441">441</th><td>                                &amp;<a class="local col0 ref" href="#80hwctx" title='hwctx' data-ref="80hwctx">hwctx</a>-&gt;<a class="ref" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext::device" title='AVVDPAUDeviceContext::device' data-ref="AVVDPAUDeviceContext::device">device</a>, &amp;<a class="local col0 ref" href="#80hwctx" title='hwctx' data-ref="80hwctx">hwctx</a>-&gt;<a class="ref" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext::get_proc_address" title='AVVDPAUDeviceContext::get_proc_address' data-ref="AVVDPAUDeviceContext::get_proc_address">get_proc_address</a>);</td></tr>
<tr><th id="442">442</th><td>    <b>if</b> (<a class="local col2 ref" href="#82err" title='err' data-ref="82err">err</a> != <a class="enum" href="../../include/vdpau/vdpau.h.html#::VDP_STATUS_OK" title='::VDP_STATUS_OK' data-ref="::VDP_STATUS_OK">VDP_STATUS_OK</a>) {</td></tr>
<tr><th id="443">443</th><td>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col6 ref" href="#76ctx" title='ctx' data-ref="76ctx">ctx</a>, <a class="macro" href="log.h.html#176" title="16" data-ref="_M/AV_LOG_ERROR">AV_LOG_ERROR</a>, <q>"VDPAU device creation on X11 display %s failed.\n"</q>,</td></tr>
<tr><th id="444">444</th><td>               <a class="local col4 ref" href="#84display" title='display' data-ref="84display">display</a>);</td></tr>
<tr><th id="445">445</th><td>        <b>return</b> <a class="macro" href="error.h.html#71" title="(-(int)((&apos;U&apos;) | ((&apos;N&apos;) &lt;&lt; 8) | ((&apos;K&apos;) &lt;&lt; 16) | ((unsigned)(&apos;N&apos;) &lt;&lt; 24)))" data-ref="_M/AVERROR_UNKNOWN">AVERROR_UNKNOWN</a>;</td></tr>
<tr><th id="446">446</th><td>    }</td></tr>
<tr><th id="447">447</th><td></td></tr>
<tr><th id="448">448</th><td><u>#define <dfn class="macro" id="_M/GET_CALLBACK" data-ref="_M/GET_CALLBACK">GET_CALLBACK</dfn>(id, result)                                                \</u></td></tr>
<tr><th id="449">449</th><td><u>do {                                                                            \</u></td></tr>
<tr><th id="450">450</th><td><u>    void *<dfn class="local col6 decl" id="86tmp" title='tmp' data-type='void *' data-ref="86tmp"><dfn class="local col7 decl" id="87tmp" title='tmp' data-type='void *' data-ref="87tmp">tmp</dfn></dfn>;                                                                  \</u></td></tr>
<tr><th id="451">451</th><td><u>    <a class="local col2 ref" href="#82err" title='err' data-ref="82err">err</a> = <a class="local col0 ref" href="#80hwctx" title='hwctx' data-ref="80hwctx">hwctx</a>-&gt;<a class="ref" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext::get_proc_address" title='AVVDPAUDeviceContext::get_proc_address' data-ref="AVVDPAUDeviceContext::get_proc_address">get_proc_address</a>(<a class="local col0 ref" href="#80hwctx" title='hwctx' data-ref="80hwctx">hwctx</a>-&gt;<a class="ref" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext::device" title='AVVDPAUDeviceContext::device' data-ref="AVVDPAUDeviceContext::device">device</a>, id, &amp;<a class="local col6 ref" href="#459" title='tmp' data-ref="86tmp"><a class="local col7 ref" href="#460" title='tmp' data-ref="87tmp">tmp</a></a>);                     \</u></td></tr>
<tr><th id="452">452</th><td><u>    if (<a class="local col2 ref" href="#82err" title='err' data-ref="82err">err</a> != <a class="enum" href="../../include/vdpau/vdpau.h.html#::VDP_STATUS_OK" title='::VDP_STATUS_OK' data-ref="::VDP_STATUS_OK">VDP_STATUS_OK</a>) {                                                 \</u></td></tr>
<tr><th id="453">453</th><td><u>        <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col6 ref" href="#76ctx" title='ctx' data-ref="76ctx">ctx</a>, AV_LOG_ERROR, "Error getting the " #id " callback.\n");     \</u></td></tr>
<tr><th id="454">454</th><td><u>        return AVERROR_UNKNOWN;                                                 \</u></td></tr>
<tr><th id="455">455</th><td><u>    }                                                                           \</u></td></tr>
<tr><th id="456">456</th><td><u>    result = <a class="local col6 ref" href="#459" title='tmp' data-ref="86tmp"><a class="local col7 ref" href="#460" title='tmp' data-ref="87tmp">tmp</a></a>;                                                               \</u></td></tr>
<tr><th id="457">457</th><td><u>} while (0)</u></td></tr>
<tr><th id="458">458</th><td></td></tr>
<tr><th id="459">459</th><td>    <a class="macro" href="#448" title="do { void *tmp; err = hwctx-&gt;get_proc_address(hwctx-&gt;device, (VdpFuncId)4, &amp;tmp); if (err != VDP_STATUS_OK) { av_log(ctx, 16, &quot;Error getting the &quot; &quot;VDP_FUNC_ID_GET_INFORMATION_STRING&quot; &quot; callback.\n&quot;); return (-(int)((&apos;U&apos;) | ((&apos;N&apos;) &lt;&lt; 8) | ((&apos;K&apos;) &lt;&lt; 16) | ((unsigned)(&apos;N&apos;) &lt;&lt; 24))); } get_information_string = tmp; } while (0)" data-ref="_M/GET_CALLBACK">GET_CALLBACK</a>(<a class="macro" href="../../include/vdpau/vdpau.h.html#4172" title="(VdpFuncId)4" data-ref="_M/VDP_FUNC_ID_GET_INFORMATION_STRING">VDP_FUNC_ID_GET_INFORMATION_STRING</a>, <a class="local col3 ref" href="#83get_information_string" title='get_information_string' data-ref="83get_information_string">get_information_string</a>);</td></tr>
<tr><th id="460">460</th><td>    <a class="macro" href="#448" title="do { void *tmp; err = hwctx-&gt;get_proc_address(hwctx-&gt;device, (VdpFuncId)5, &amp;tmp); if (err != VDP_STATUS_OK) { av_log(ctx, 16, &quot;Error getting the &quot; &quot;VDP_FUNC_ID_DEVICE_DESTROY&quot; &quot; callback.\n&quot;); return (-(int)((&apos;U&apos;) | ((&apos;N&apos;) &lt;&lt; 8) | ((&apos;K&apos;) &lt;&lt; 16) | ((unsigned)(&apos;N&apos;) &lt;&lt; 24))); } priv-&gt;device_destroy = tmp; } while (0)" data-ref="_M/GET_CALLBACK">GET_CALLBACK</a>(<a class="macro" href="../../include/vdpau/vdpau.h.html#4174" title="(VdpFuncId)5" data-ref="_M/VDP_FUNC_ID_DEVICE_DESTROY">VDP_FUNC_ID_DEVICE_DESTROY</a>,         <a class="local col1 ref" href="#81priv" title='priv' data-ref="81priv">priv</a>-&gt;<a class="tu ref" href="#VDPAUDevicePriv::device_destroy" title='VDPAUDevicePriv::device_destroy' data-use='w' data-ref="VDPAUDevicePriv::device_destroy">device_destroy</a>);</td></tr>
<tr><th id="461">461</th><td></td></tr>
<tr><th id="462">462</th><td>    <a class="local col3 ref" href="#83get_information_string" title='get_information_string' data-ref="83get_information_string">get_information_string</a>(&amp;<a class="local col5 ref" href="#85vendor" title='vendor' data-ref="85vendor">vendor</a>);</td></tr>
<tr><th id="463">463</th><td>    <a class="ref" href="log.h.html#av_log" title='av_log' data-ref="av_log">av_log</a>(<a class="local col6 ref" href="#76ctx" title='ctx' data-ref="76ctx">ctx</a>, <a class="macro" href="log.h.html#192" title="40" data-ref="_M/AV_LOG_VERBOSE">AV_LOG_VERBOSE</a>, <q>"Successfully created a VDPAU device (%s) on "</q></td></tr>
<tr><th id="464">464</th><td>           <q>"X11 display %s\n"</q>, <a class="local col5 ref" href="#85vendor" title='vendor' data-ref="85vendor">vendor</a>, <a class="local col4 ref" href="#84display" title='display' data-ref="84display">display</a>);</td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="467">467</th><td>}</td></tr>
<tr><th id="468">468</th><td><u>#<span data-ppcond="394">endif</span></u></td></tr>
<tr><th id="469">469</th><td></td></tr>
<tr><th id="470">470</th><td><em>const</em> <a class="typedef" href="hwcontext_internal.h.html#HWContextType" title='HWContextType' data-type='struct HWContextType' data-ref="HWContextType">HWContextType</a> <dfn class="decl def" id="ff_hwcontext_type_vdpau" title='ff_hwcontext_type_vdpau' data-ref="ff_hwcontext_type_vdpau">ff_hwcontext_type_vdpau</dfn> = {</td></tr>
<tr><th id="471">471</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::type" title='HWContextType::type' data-ref="HWContextType::type">type</a>                 = <a class="enum" href="hwcontext.h.html#AVHWDeviceType::AV_HWDEVICE_TYPE_VDPAU" title='AVHWDeviceType::AV_HWDEVICE_TYPE_VDPAU' data-ref="AVHWDeviceType::AV_HWDEVICE_TYPE_VDPAU">AV_HWDEVICE_TYPE_VDPAU</a>,</td></tr>
<tr><th id="472">472</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::name" title='HWContextType::name' data-ref="HWContextType::name">name</a>                 = <q>"VDPAU"</q>,</td></tr>
<tr><th id="473">473</th><td></td></tr>
<tr><th id="474">474</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::device_hwctx_size" title='HWContextType::device_hwctx_size' data-ref="HWContextType::device_hwctx_size">device_hwctx_size</a>    = <b>sizeof</b>(<a class="typedef" href="hwcontext_vdpau.h.html#AVVDPAUDeviceContext" title='AVVDPAUDeviceContext' data-type='struct AVVDPAUDeviceContext' data-ref="AVVDPAUDeviceContext">AVVDPAUDeviceContext</a>),</td></tr>
<tr><th id="475">475</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::device_priv_size" title='HWContextType::device_priv_size' data-ref="HWContextType::device_priv_size">device_priv_size</a>     = <b>sizeof</b>(<a class="typedef" href="#VDPAUDeviceContext" title='VDPAUDeviceContext' data-type='struct VDPAUDeviceContext' data-ref="VDPAUDeviceContext">VDPAUDeviceContext</a>),</td></tr>
<tr><th id="476">476</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::frames_priv_size" title='HWContextType::frames_priv_size' data-ref="HWContextType::frames_priv_size">frames_priv_size</a>     = <b>sizeof</b>(<a class="typedef" href="#VDPAUFramesContext" title='VDPAUFramesContext' data-type='struct VDPAUFramesContext' data-ref="VDPAUFramesContext">VDPAUFramesContext</a>),</td></tr>
<tr><th id="477">477</th><td></td></tr>
<tr><th id="478">478</th><td><u>#<span data-ppcond="478">if</span> <a class="macro" href="../config.h.html#389" title="1" data-ref="_M/HAVE_VDPAU_X11">HAVE_VDPAU_X11</a></u></td></tr>
<tr><th id="479">479</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::device_create" title='HWContextType::device_create' data-ref="HWContextType::device_create">device_create</a>        = <a class="tu ref" href="#vdpau_device_create" title='vdpau_device_create' data-ref="vdpau_device_create">vdpau_device_create</a>,</td></tr>
<tr><th id="480">480</th><td><u>#<span data-ppcond="478">endif</span></u></td></tr>
<tr><th id="481">481</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::device_init" title='HWContextType::device_init' data-ref="HWContextType::device_init">device_init</a>          = <a class="tu ref" href="#vdpau_device_init" title='vdpau_device_init' data-ref="vdpau_device_init">vdpau_device_init</a>,</td></tr>
<tr><th id="482">482</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::device_uninit" title='HWContextType::device_uninit' data-ref="HWContextType::device_uninit">device_uninit</a>        = <a class="tu ref" href="#vdpau_device_uninit" title='vdpau_device_uninit' data-ref="vdpau_device_uninit">vdpau_device_uninit</a>,</td></tr>
<tr><th id="483">483</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::frames_init" title='HWContextType::frames_init' data-ref="HWContextType::frames_init">frames_init</a>          = <a class="tu ref" href="#vdpau_frames_init" title='vdpau_frames_init' data-ref="vdpau_frames_init">vdpau_frames_init</a>,</td></tr>
<tr><th id="484">484</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::frames_get_buffer" title='HWContextType::frames_get_buffer' data-ref="HWContextType::frames_get_buffer">frames_get_buffer</a>    = <a class="tu ref" href="#vdpau_get_buffer" title='vdpau_get_buffer' data-ref="vdpau_get_buffer">vdpau_get_buffer</a>,</td></tr>
<tr><th id="485">485</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::transfer_get_formats" title='HWContextType::transfer_get_formats' data-ref="HWContextType::transfer_get_formats">transfer_get_formats</a> = <a class="tu ref" href="#vdpau_transfer_get_formats" title='vdpau_transfer_get_formats' data-ref="vdpau_transfer_get_formats">vdpau_transfer_get_formats</a>,</td></tr>
<tr><th id="486">486</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::transfer_data_to" title='HWContextType::transfer_data_to' data-ref="HWContextType::transfer_data_to">transfer_data_to</a>     = <a class="tu ref" href="#vdpau_transfer_data_to" title='vdpau_transfer_data_to' data-ref="vdpau_transfer_data_to">vdpau_transfer_data_to</a>,</td></tr>
<tr><th id="487">487</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::transfer_data_from" title='HWContextType::transfer_data_from' data-ref="HWContextType::transfer_data_from">transfer_data_from</a>   = <a class="tu ref" href="#vdpau_transfer_data_from" title='vdpau_transfer_data_from' data-ref="vdpau_transfer_data_from">vdpau_transfer_data_from</a>,</td></tr>
<tr><th id="488">488</th><td></td></tr>
<tr><th id="489">489</th><td>    .<a class="ref" href="hwcontext_internal.h.html#HWContextType::pix_fmts" title='HWContextType::pix_fmts' data-ref="HWContextType::pix_fmts">pix_fmts</a> = (<em>const</em> <b>enum</b> <a class="type" href="pixfmt.h.html#AVPixelFormat" title='AVPixelFormat' data-ref="AVPixelFormat">AVPixelFormat</a>[]){ <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_VDPAU" title='AVPixelFormat::AV_PIX_FMT_VDPAU' data-ref="AVPixelFormat::AV_PIX_FMT_VDPAU">AV_PIX_FMT_VDPAU</a>, <a class="enum" href="pixfmt.h.html#AVPixelFormat::AV_PIX_FMT_NONE" title='AVPixelFormat::AV_PIX_FMT_NONE' data-ref="AVPixelFormat::AV_PIX_FMT_NONE">AV_PIX_FMT_NONE</a> },</td></tr>
<tr><th id="490">490</th><td>};</td></tr>
<tr><th id="491">491</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2016-Oct-25</em> from project ffmpeg revision <em>3.0.git</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.0.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
