<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>linux.c source code [vlc/modules/access/dtv/linux.c] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="dvb_device "/>
<link rel="stylesheet" href="../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'vlc/modules/access/dtv/linux.c'; var root_path = '../../../..'; var data_path = '../../../../../data';</script>
<script src='../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>vlc</a>/<a href='../..'>modules</a>/<a href='..'>access</a>/<a href='./'>dtv</a>/<a href='linux.c.html'>linux.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i class="doc">/**</i></td></tr>
<tr><th id="2">2</th><td><i class="doc"> *<span class="command"> @file</span> linux.c</i></td></tr>
<tr><th id="3">3</th><td><i class="doc"> * <span class="command">@brief</span> Linux DVB API version 5</i></td></tr>
<tr><th id="4">4</th><td><i class="doc"> */</i></td></tr>
<tr><th id="5">5</th><td><i>/*****************************************************************************</i></td></tr>
<tr><th id="6">6</th><td><i> * Copyright © 2011 Rémi Denis-Courmont</i></td></tr>
<tr><th id="7">7</th><td><i> *</i></td></tr>
<tr><th id="8">8</th><td><i> * This program is free software; you can redistribute it and/or modify it</i></td></tr>
<tr><th id="9">9</th><td><i> * under the terms of the GNU Lesser General Public License as published by</i></td></tr>
<tr><th id="10">10</th><td><i> * the Free Software Foundation; either version 2.1 of the License, or</i></td></tr>
<tr><th id="11">11</th><td><i> * (at your option) any later version.</i></td></tr>
<tr><th id="12">12</th><td><i> *</i></td></tr>
<tr><th id="13">13</th><td><i> * This program is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="14">14</th><td><i> * but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="15">15</th><td><i> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</i></td></tr>
<tr><th id="16">16</th><td><i> * GNU Lesser General Public License for more details.</i></td></tr>
<tr><th id="17">17</th><td><i> *</i></td></tr>
<tr><th id="18">18</th><td><i> * You should have received a copy of the GNU Lesser General Public License</i></td></tr>
<tr><th id="19">19</th><td><i> * along with this program; if not, write to the Free Software Foundation,</i></td></tr>
<tr><th id="20">20</th><td><i> * Inc., 51 Franklin Street, Fifth Floor, Boston MA 02110-1301, USA.</i></td></tr>
<tr><th id="21">21</th><td><i> *****************************************************************************/</i></td></tr>
<tr><th id="22">22</th><td></td></tr>
<tr><th id="23">23</th><td><u>#<span data-ppcond="23">ifdef</span> <span class="macro" data-ref="_M/HAVE_CONFIG_H">HAVE_CONFIG_H</span></u></td></tr>
<tr><th id="24">24</th><td><u># include <a href="../../../config.h.html">&lt;config.h&gt;</a></u></td></tr>
<tr><th id="25">25</th><td><u>#<span data-ppcond="23">endif</span></u></td></tr>
<tr><th id="26">26</th><td></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="../../../include/vlc_common.h.html">&lt;vlc_common.h&gt;</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../../../include/vlc_fs.h.html">&lt;vlc_fs.h&gt;</a></u></td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../../../../include/errno.h.html">&lt;errno.h&gt;</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../../../../include/assert.h.html">&lt;assert.h&gt;</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../../../../include/fcntl.h.html">&lt;fcntl.h&gt;</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../../../../include/poll.h.html">&lt;poll.h&gt;</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../../../../include/unistd.h.html">&lt;unistd.h&gt;</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html">&lt;sys/ioctl.h&gt;</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="../../../../include/linux/dvb/version.h.html">&lt;linux/dvb/version.h&gt;</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="../../../../include/linux/dvb/frontend.h.html">&lt;linux/dvb/frontend.h&gt;</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../../../../include/linux/dvb/dmx.h.html">&lt;linux/dvb/dmx.h&gt;</a></u></td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="dtv.h.html">"dtv/dtv.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#<span data-ppcond="41">ifdef</span> <span class="macro" data-ref="_M/HAVE_DVBPSI">HAVE_DVBPSI</span></u></td></tr>
<tr><th id="42">42</th><td><u># include <a href="en50221.h.html">"dtv/en50221.h"</a></u></td></tr>
<tr><th id="43">43</th><td><u>#<span data-ppcond="41">endif</span></u></td></tr>
<tr><th id="44">44</th><td></td></tr>
<tr><th id="45">45</th><td><u>#<span data-ppcond="45">ifndef</span> <span class="macro" data-ref="_M/O_SEARCH">O_SEARCH</span></u></td></tr>
<tr><th id="46">46</th><td><u># define <dfn class="macro" id="_M/O_SEARCH" data-ref="_M/O_SEARCH">O_SEARCH</dfn> O_RDONLY</u></td></tr>
<tr><th id="47">47</th><td><u>#<span data-ppcond="45">endif</span></u></td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><u>#define <dfn class="macro" id="_M/DVBv5" data-ref="_M/DVBv5">DVBv5</dfn>(minor) \</u></td></tr>
<tr><th id="50">50</th><td><u>        (DVB_API_VERSION &gt; 5 \</u></td></tr>
<tr><th id="51">51</th><td><u>     || (DVB_API_VERSION == 5 &amp;&amp; DVB_API_VERSION_MINOR &gt;= (minor)))</u></td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td><b>typedef</b> <b>struct</b></td></tr>
<tr><th id="54">54</th><td>{</td></tr>
<tr><th id="55">55</th><td>    <em>int</em> <dfn class="tu decl" id="{anonymous}::vlc" title='&lt;anonymous struct&gt;::vlc' data-type='int' data-ref="{anonymous}::vlc">vlc</dfn>;</td></tr>
<tr><th id="56">56</th><td>    <em>int</em> <dfn class="tu decl" id="{anonymous}::linux_" title='&lt;anonymous struct&gt;::linux_' data-type='int' data-ref="{anonymous}::linux_">linux_</dfn>;</td></tr>
<tr><th id="57">57</th><td>} <dfn class="typedef" id="dvb_int_map_t" title='dvb_int_map_t' data-type='struct dvb_int_map_t' data-ref="dvb_int_map_t">dvb_int_map_t</dfn>;</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="icmp" title='icmp' data-type='int icmp(const void * a, const void * b)' data-ref="icmp">icmp</dfn> (<em>const</em> <em>void</em> *<dfn class="local col1 decl" id="1a" title='a' data-type='const void *' data-ref="1a">a</dfn>, <em>const</em> <em>void</em> *<dfn class="local col2 decl" id="2b" title='b' data-type='const void *' data-ref="2b">b</dfn>)</td></tr>
<tr><th id="60">60</th><td>{</td></tr>
<tr><th id="61">61</th><td>    <em>int</em> <dfn class="local col3 decl" id="3key" title='key' data-type='int' data-ref="3key">key</dfn> = (<a class="typedef" href="../../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t">intptr_t</a>)<a class="local col1 ref" href="#1a" title='a' data-ref="1a">a</a>;</td></tr>
<tr><th id="62">62</th><td>    <em>const</em> <a class="typedef" href="#dvb_int_map_t" title='dvb_int_map_t' data-type='struct dvb_int_map_t' data-ref="dvb_int_map_t">dvb_int_map_t</a> *<dfn class="local col4 decl" id="4entry" title='entry' data-type='const dvb_int_map_t *' data-ref="4entry">entry</dfn> = <a class="local col2 ref" href="#2b" title='b' data-ref="2b">b</a>;</td></tr>
<tr><th id="63">63</th><td>    <b>return</b> <a class="local col3 ref" href="#3key" title='key' data-ref="3key">key</a> - <a class="local col4 ref" href="#4entry" title='entry' data-ref="4entry">entry</a>-&gt;<a class="tu ref" href="#{anonymous}::vlc" title='&lt;anonymous struct&gt;::vlc' data-use='r' data-ref="{anonymous}::vlc">vlc</a>;</td></tr>
<tr><th id="64">64</th><td>}</td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td><i class="doc" data-doc="dvb_parse_int">/** Maps a VLC config integer to a Linux DVB enum value */</i></td></tr>
<tr><th id="67">67</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_parse_int" title='dvb_parse_int' data-type='int dvb_parse_int(int i, const dvb_int_map_t * map, size_t n, int def)' data-ref="dvb_parse_int">dvb_parse_int</dfn> (<em>int</em> <dfn class="local col5 decl" id="5i" title='i' data-type='int' data-ref="5i">i</dfn>, <em>const</em> <a class="typedef" href="#dvb_int_map_t" title='dvb_int_map_t' data-type='struct dvb_int_map_t' data-ref="dvb_int_map_t">dvb_int_map_t</a> *<dfn class="local col6 decl" id="6map" title='map' data-type='const dvb_int_map_t *' data-ref="6map">map</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col7 decl" id="7n" title='n' data-type='size_t' data-ref="7n">n</dfn>, <em>int</em> <dfn class="local col8 decl" id="8def" title='def' data-type='int' data-ref="8def">def</dfn>)</td></tr>
<tr><th id="68">68</th><td>{</td></tr>
<tr><th id="69">69</th><td>    <em>const</em> <em>void</em> *<dfn class="local col9 decl" id="9k" title='k' data-type='const void *' data-ref="9k">k</dfn> = (<em>const</em> <em>void</em> *)(<a class="typedef" href="../../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t">intptr_t</a>)<a class="local col5 ref" href="#5i" title='i' data-ref="5i">i</a>;</td></tr>
<tr><th id="70">70</th><td>    <em>const</em> <a class="typedef" href="#dvb_int_map_t" title='dvb_int_map_t' data-type='struct dvb_int_map_t' data-ref="dvb_int_map_t">dvb_int_map_t</a> *<dfn class="local col0 decl" id="10p" title='p' data-type='const dvb_int_map_t *' data-ref="10p">p</dfn> = <a class="ref" href="../../../../include/stdlib.h.html#bsearch" title='bsearch' data-ref="bsearch">bsearch</a> (<a class="local col9 ref" href="#9k" title='k' data-ref="9k">k</a>, <a class="local col6 ref" href="#6map" title='map' data-ref="6map">map</a>, <a class="local col7 ref" href="#7n" title='n' data-ref="7n">n</a>, <b>sizeof</b> (*<a class="local col6 ref" href="#6map" title='map' data-ref="6map">map</a>), <a class="tu ref" href="#icmp" title='icmp' data-use='r' data-ref="icmp">icmp</a>);</td></tr>
<tr><th id="71">71</th><td>    <b>return</b> (<a class="local col0 ref" href="#10p" title='p' data-ref="10p">p</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>) ? <a class="local col0 ref" href="#10p" title='p' data-ref="10p">p</a>-&gt;<a class="tu ref" href="#{anonymous}::linux_" title='&lt;anonymous struct&gt;::linux_' data-use='r' data-ref="{anonymous}::linux_">linux_</a> : <a class="local col8 ref" href="#8def" title='def' data-ref="8def">def</a>;</td></tr>
<tr><th id="72">72</th><td>}</td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td><b>typedef</b> <em>const</em> <b>struct</b></td></tr>
<tr><th id="75">75</th><td>{</td></tr>
<tr><th id="76">76</th><td>    <em>char</em> <dfn class="local col1 decl" id="11vlc" title='vlc' data-type='char [8]' data-ref="11vlc">vlc</dfn>[<var>8</var>];</td></tr>
<tr><th id="77">77</th><td>    <em>int</em> <dfn class="local col2 decl" id="12linux_" title='linux_' data-type='int' data-ref="12linux_">linux_</dfn>;</td></tr>
<tr><th id="78">78</th><td>} <dfn class="typedef" id="dvb_str_map_t" title='dvb_str_map_t' data-type='const struct &lt;anonymous struct at /usr/local/google/home/robertshih/git/vlc/modules/access/dtv/linux.c:74:15&gt;' data-ref="dvb_str_map_t">dvb_str_map_t</dfn>;</td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="scmp" title='scmp' data-type='int scmp(const void * a, const void * b)' data-ref="scmp">scmp</dfn> (<em>const</em> <em>void</em> *<dfn class="local col3 decl" id="13a" title='a' data-type='const void *' data-ref="13a">a</dfn>, <em>const</em> <em>void</em> *<dfn class="local col4 decl" id="14b" title='b' data-type='const void *' data-ref="14b">b</dfn>)</td></tr>
<tr><th id="81">81</th><td>{</td></tr>
<tr><th id="82">82</th><td>    <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="15key" title='key' data-type='const char *' data-ref="15key">key</dfn> = <a class="local col3 ref" href="#13a" title='a' data-ref="13a">a</a>;</td></tr>
<tr><th id="83">83</th><td>    <a class="typedef" href="#dvb_str_map_t" title='dvb_str_map_t' data-type='const struct &lt;anonymous struct at /usr/local/google/home/robertshih/git/vlc/modules/access/dtv/linux.c:74:15&gt;' data-ref="dvb_str_map_t">dvb_str_map_t</a> *<dfn class="local col6 decl" id="16entry" title='entry' data-type='dvb_str_map_t *' data-ref="16entry">entry</dfn> = <a class="local col4 ref" href="#14b" title='b' data-ref="14b">b</a>;</td></tr>
<tr><th id="84">84</th><td>    <b>return</b> <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/string2.h.html#799" title="__extension__ ({ size_t __s1_len, __s2_len; (__builtin_constant_p (key) &amp;&amp; __builtin_constant_p (entry-&gt;vlc) &amp;&amp; (__s1_len = __builtin_strlen (key), __s2_len = __builtin_strlen (entry-&gt;vlc), (!((size_t)(const void *)((key) + 1) - (size_t)(const void *)(key) == 1) || __s1_len &gt;= 4) &amp;&amp; (!((size_t)(const void *)((entry-&gt;vlc) + 1) - (size_t)(const void *)(entry-&gt;vlc) == 1) || __s2_len &gt;= 4)) ? __builtin_strcmp (key, entry-&gt;vlc) : (__builtin_constant_p (key) &amp;&amp; ((size_t)(const void *)((key) + 1) - (size_t)(const void *)(key) == 1) &amp;&amp; (__s1_len = __builtin_strlen (key), __s1_len &lt; 4) ? (__builtin_constant_p (entry-&gt;vlc) &amp;&amp; ((size_t)(const void *)((entry-&gt;vlc) + 1) - (size_t)(const void *)(entry-&gt;vlc) == 1) ? __builtin_strcmp (key, entry-&gt;vlc) : (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (entry-&gt;vlc); int __result = (((const unsigned char *) (const char *) (key))[0] - __s2[0]); if (__s1_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (key))[1] - __s2[1]); if (__s1_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (key))[2] - __s2[2]); if (__s1_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (key))[3] - __s2[3]); } } __result; }))) : (__builtin_constant_p (entry-&gt;vlc) &amp;&amp; ((size_t)(const void *)((entry-&gt;vlc) + 1) - (size_t)(const void *)(entry-&gt;vlc) == 1) &amp;&amp; (__s2_len = __builtin_strlen (entry-&gt;vlc), __s2_len &lt; 4) ? (__builtin_constant_p (key) &amp;&amp; ((size_t)(const void *)((key) + 1) - (size_t)(const void *)(key) == 1) ? __builtin_strcmp (key, entry-&gt;vlc) : (- (__extension__ ({ const unsigned char *__s2 = (const unsigned char *) (const char *) (key); int __result = (((const unsigned char *) (const char *) (entry-&gt;vlc))[0] - __s2[0]); if (__s2_len &gt; 0 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (entry-&gt;vlc))[1] - __s2[1]); if (__s2_len &gt; 1 &amp;&amp; __result == 0) { __result = (((const unsigned char *) (const char *) (entry-&gt;vlc))[2] - __s2[2]); if (__s2_len &gt; 2 &amp;&amp; __result == 0) __result = (((const unsigned char *) (const char *) (entry-&gt;vlc))[3] - __s2[3]); } } __result; })))) : __builtin_strcmp (key, entry-&gt;vlc)))); })" data-ref="_M/strcmp">strcmp</a> (<a class="local col5 ref" href="#15key" title='key' data-ref="15key">key</a>, <a class="local col6 ref" href="#16entry" title='entry' data-ref="16entry">entry</a>-&gt;<a class="local col1 ref" href="#11vlc" title='vlc' data-ref="11vlc">vlc</a>);</td></tr>
<tr><th id="85">85</th><td>}</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><i class="doc" data-doc="dvb_parse_str">/** Maps a VLC config string to a Linux DVB enum value */</i></td></tr>
<tr><th id="88">88</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_parse_str" title='dvb_parse_str' data-type='int dvb_parse_str(const char * str, const dvb_str_map_t * map, size_t n, int def)' data-ref="dvb_parse_str">dvb_parse_str</dfn> (<em>const</em> <em>char</em> *<dfn class="local col7 decl" id="17str" title='str' data-type='const char *' data-ref="17str">str</dfn>, <em>const</em> <a class="typedef" href="#dvb_str_map_t" title='dvb_str_map_t' data-type='const struct &lt;anonymous struct at /usr/local/google/home/robertshih/git/vlc/modules/access/dtv/linux.c:74:15&gt;' data-ref="dvb_str_map_t">dvb_str_map_t</a> *<dfn class="local col8 decl" id="18map" title='map' data-type='const dvb_str_map_t *' data-ref="18map">map</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col9 decl" id="19n" title='n' data-type='size_t' data-ref="19n">n</dfn>,</td></tr>
<tr><th id="89">89</th><td>                          <em>int</em> <dfn class="local col0 decl" id="20def" title='def' data-type='int' data-ref="20def">def</dfn>)</td></tr>
<tr><th id="90">90</th><td>{</td></tr>
<tr><th id="91">91</th><td>    <b>if</b> (<a class="local col7 ref" href="#17str" title='str' data-ref="17str">str</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="92">92</th><td>    {</td></tr>
<tr><th id="93">93</th><td>        <em>const</em> <a class="typedef" href="#dvb_str_map_t" title='dvb_str_map_t' data-type='const struct &lt;anonymous struct at /usr/local/google/home/robertshih/git/vlc/modules/access/dtv/linux.c:74:15&gt;' data-ref="dvb_str_map_t">dvb_str_map_t</a> *<dfn class="local col1 decl" id="21p" title='p' data-type='const dvb_str_map_t *' data-ref="21p">p</dfn> = <a class="ref" href="../../../../include/stdlib.h.html#bsearch" title='bsearch' data-ref="bsearch">bsearch</a> (<a class="local col7 ref" href="#17str" title='str' data-ref="17str">str</a>, <a class="local col8 ref" href="#18map" title='map' data-ref="18map">map</a>, <a class="local col9 ref" href="#19n" title='n' data-ref="19n">n</a>, <b>sizeof</b> (*<a class="local col8 ref" href="#18map" title='map' data-ref="18map">map</a>), <a class="tu ref" href="#scmp" title='scmp' data-use='r' data-ref="scmp">scmp</a>);</td></tr>
<tr><th id="94">94</th><td>        <b>if</b> (<a class="local col1 ref" href="#21p" title='p' data-ref="21p">p</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="95">95</th><td>            <a class="local col0 ref" href="#20def" title='def' data-ref="20def">def</a> = <a class="local col1 ref" href="#21p" title='p' data-ref="21p">p</a>-&gt;<a class="local col2 ref" href="#12linux_" title='linux_' data-ref="12linux_">linux_</a>;</td></tr>
<tr><th id="96">96</th><td>    }</td></tr>
<tr><th id="97">97</th><td>    <b>return</b> <a class="local col0 ref" href="#20def" title='def' data-ref="20def">def</a>;</td></tr>
<tr><th id="98">98</th><td>}</td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td><i  data-doc="dvb_parse_modulation">/*** Modulations ***/</i></td></tr>
<tr><th id="101">101</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_parse_modulation" title='dvb_parse_modulation' data-type='int dvb_parse_modulation(const char * str, int def)' data-ref="dvb_parse_modulation">dvb_parse_modulation</dfn> (<em>const</em> <em>char</em> *<dfn class="local col2 decl" id="22str" title='str' data-type='const char *' data-ref="22str">str</dfn>, <em>int</em> <dfn class="local col3 decl" id="23def" title='def' data-type='int' data-ref="23def">def</dfn>)</td></tr>
<tr><th id="102">102</th><td>{</td></tr>
<tr><th id="103">103</th><td>    <em>static</em> <em>const</em> <a class="typedef" href="#dvb_str_map_t" title='dvb_str_map_t' data-type='const struct &lt;anonymous struct at /usr/local/google/home/robertshih/git/vlc/modules/access/dtv/linux.c:74:15&gt;' data-ref="dvb_str_map_t">dvb_str_map_t</a> <dfn class="local col4 decl" id="24mods" title='mods' data-type='const dvb_str_map_t [13]' data-ref="24mods">mods</dfn>[] =</td></tr>
<tr><th id="104">104</th><td>    {</td></tr>
<tr><th id="105">105</th><td>        { <q>"128QAM"</q>,  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_128" title='fe_modulation::QAM_128' data-ref="fe_modulation::QAM_128">QAM_128</a>  },</td></tr>
<tr><th id="106">106</th><td>        { <q>"16APSK"</q>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::APSK_16" title='fe_modulation::APSK_16' data-ref="fe_modulation::APSK_16">APSK_16</a>   },</td></tr>
<tr><th id="107">107</th><td>        { <q>"16QAM"</q>,   <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_16" title='fe_modulation::QAM_16' data-ref="fe_modulation::QAM_16">QAM_16</a>   },</td></tr>
<tr><th id="108">108</th><td>        { <q>"16VSB"</q>,   <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::VSB_16" title='fe_modulation::VSB_16' data-ref="fe_modulation::VSB_16">VSB_16</a>   },</td></tr>
<tr><th id="109">109</th><td>        { <q>"256QAM"</q>,  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_256" title='fe_modulation::QAM_256' data-ref="fe_modulation::QAM_256">QAM_256</a>  },</td></tr>
<tr><th id="110">110</th><td>        { <q>"32APSK"</q>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::APSK_32" title='fe_modulation::APSK_32' data-ref="fe_modulation::APSK_32">APSK_32</a>   },</td></tr>
<tr><th id="111">111</th><td>        { <q>"32QAM"</q>,   <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_32" title='fe_modulation::QAM_32' data-ref="fe_modulation::QAM_32">QAM_32</a>   },</td></tr>
<tr><th id="112">112</th><td>        { <q>"64QAM"</q>,   <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_64" title='fe_modulation::QAM_64' data-ref="fe_modulation::QAM_64">QAM_64</a>   },</td></tr>
<tr><th id="113">113</th><td>        { <q>"8PSK"</q>,    <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::PSK_8" title='fe_modulation::PSK_8' data-ref="fe_modulation::PSK_8">PSK_8</a>    },</td></tr>
<tr><th id="114">114</th><td>        { <q>"8VSB"</q>,    <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::VSB_8" title='fe_modulation::VSB_8' data-ref="fe_modulation::VSB_8">VSB_8</a>    },</td></tr>
<tr><th id="115">115</th><td>        { <q>"DQPSK"</q>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::DQPSK" title='fe_modulation::DQPSK' data-ref="fe_modulation::DQPSK">DQPSK</a>      },</td></tr>
<tr><th id="116">116</th><td>        { <q>"QAM"</q>,     <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_AUTO" title='fe_modulation::QAM_AUTO' data-ref="fe_modulation::QAM_AUTO">QAM_AUTO</a> },</td></tr>
<tr><th id="117">117</th><td>        { <q>"QPSK"</q>,   <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QPSK" title='fe_modulation::QPSK' data-ref="fe_modulation::QPSK">QPSK</a>      },</td></tr>
<tr><th id="118">118</th><td>    };</td></tr>
<tr><th id="119">119</th><td>    <b>return</b> <a class="tu ref" href="#dvb_parse_str" title='dvb_parse_str' data-use='c' data-ref="dvb_parse_str">dvb_parse_str</a> (<a class="local col2 ref" href="#22str" title='str' data-ref="22str">str</a>, <a class="local col4 ref" href="#24mods" title='mods' data-ref="24mods">mods</a>, <b>sizeof</b> (<a class="local col4 ref" href="#24mods" title='mods' data-ref="24mods">mods</a>) / <b>sizeof</b> (*<a class="local col4 ref" href="#24mods" title='mods' data-ref="24mods">mods</a>), <a class="local col3 ref" href="#23def" title='def' data-ref="23def">def</a>);</td></tr>
<tr><th id="120">120</th><td>}</td></tr>
<tr><th id="121">121</th><td></td></tr>
<tr><th id="122">122</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_parse_fec" title='dvb_parse_fec' data-type='int dvb_parse_fec(uint32_t fec)' data-ref="dvb_parse_fec">dvb_parse_fec</dfn> (<a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="25fec" title='fec' data-type='uint32_t' data-ref="25fec">fec</dfn>)</td></tr>
<tr><th id="123">123</th><td>{</td></tr>
<tr><th id="124">124</th><td>    <em>static</em> <em>const</em> <a class="typedef" href="#dvb_int_map_t" title='dvb_int_map_t' data-type='struct dvb_int_map_t' data-ref="dvb_int_map_t">dvb_int_map_t</a> <dfn class="local col6 decl" id="26rates" title='rates' data-type='const dvb_int_map_t [12]' data-ref="26rates">rates</dfn>[] =</td></tr>
<tr><th id="125">125</th><td>    {</td></tr>
<tr><th id="126">126</th><td>        { <var>0</var>,             <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_NONE" title='fe_code_rate::FEC_NONE' data-ref="fe_code_rate::FEC_NONE">FEC_NONE</a> },</td></tr>
<tr><th id="127">127</th><td>        { <a class="macro" href="dtv.h.html#66" title="(((1) &lt;&lt; 16u) | (2))" data-ref="_M/VLC_FEC">VLC_FEC</a>(<var>1</var>,<var>2</var>),  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_1_2" title='fe_code_rate::FEC_1_2' data-ref="fe_code_rate::FEC_1_2">FEC_1_2</a>  },</td></tr>
<tr><th id="128">128</th><td>        <i>// TODO: 1/3</i></td></tr>
<tr><th id="129">129</th><td><i>        // TODO: 1/4</i></td></tr>
<tr><th id="130">130</th><td>        { <a class="macro" href="dtv.h.html#66" title="(((2) &lt;&lt; 16u) | (3))" data-ref="_M/VLC_FEC">VLC_FEC</a>(<var>2</var>,<var>3</var>),  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_2_3" title='fe_code_rate::FEC_2_3' data-ref="fe_code_rate::FEC_2_3">FEC_2_3</a>  },</td></tr>
<tr><th id="131">131</th><td>        { <a class="macro" href="dtv.h.html#66" title="(((3) &lt;&lt; 16u) | (4))" data-ref="_M/VLC_FEC">VLC_FEC</a>(<var>3</var>,<var>4</var>),  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_3_4" title='fe_code_rate::FEC_3_4' data-ref="fe_code_rate::FEC_3_4">FEC_3_4</a>  },</td></tr>
<tr><th id="132">132</th><td>        { <a class="macro" href="dtv.h.html#66" title="(((3) &lt;&lt; 16u) | (5))" data-ref="_M/VLC_FEC">VLC_FEC</a>(<var>3</var>,<var>5</var>),  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_3_5" title='fe_code_rate::FEC_3_5' data-ref="fe_code_rate::FEC_3_5">FEC_3_5</a>  },</td></tr>
<tr><th id="133">133</th><td>        { <a class="macro" href="dtv.h.html#66" title="(((4) &lt;&lt; 16u) | (5))" data-ref="_M/VLC_FEC">VLC_FEC</a>(<var>4</var>,<var>5</var>),  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_4_5" title='fe_code_rate::FEC_4_5' data-ref="fe_code_rate::FEC_4_5">FEC_4_5</a>  },</td></tr>
<tr><th id="134">134</th><td>        { <a class="macro" href="dtv.h.html#66" title="(((5) &lt;&lt; 16u) | (6))" data-ref="_M/VLC_FEC">VLC_FEC</a>(<var>5</var>,<var>6</var>),  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_5_6" title='fe_code_rate::FEC_5_6' data-ref="fe_code_rate::FEC_5_6">FEC_5_6</a>  },</td></tr>
<tr><th id="135">135</th><td>        { <a class="macro" href="dtv.h.html#66" title="(((6) &lt;&lt; 16u) | (7))" data-ref="_M/VLC_FEC">VLC_FEC</a>(<var>6</var>,<var>7</var>),  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_6_7" title='fe_code_rate::FEC_6_7' data-ref="fe_code_rate::FEC_6_7">FEC_6_7</a>  },</td></tr>
<tr><th id="136">136</th><td>        { <a class="macro" href="dtv.h.html#66" title="(((7) &lt;&lt; 16u) | (8))" data-ref="_M/VLC_FEC">VLC_FEC</a>(<var>7</var>,<var>8</var>),  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_7_8" title='fe_code_rate::FEC_7_8' data-ref="fe_code_rate::FEC_7_8">FEC_7_8</a>  },</td></tr>
<tr><th id="137">137</th><td>        { <a class="macro" href="dtv.h.html#66" title="(((8) &lt;&lt; 16u) | (9))" data-ref="_M/VLC_FEC">VLC_FEC</a>(<var>8</var>,<var>9</var>),  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_8_9" title='fe_code_rate::FEC_8_9' data-ref="fe_code_rate::FEC_8_9">FEC_8_9</a>  },</td></tr>
<tr><th id="138">138</th><td>        { <a class="macro" href="dtv.h.html#66" title="(((9) &lt;&lt; 16u) | (10))" data-ref="_M/VLC_FEC">VLC_FEC</a>(<var>9</var>,<var>10</var>), <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_9_10" title='fe_code_rate::FEC_9_10' data-ref="fe_code_rate::FEC_9_10">FEC_9_10</a> },</td></tr>
<tr><th id="139">139</th><td>        { <a class="macro" href="dtv.h.html#67" title="0xFFFFFFFF" data-ref="_M/VLC_FEC_AUTO">VLC_FEC_AUTO</a>,  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_AUTO" title='fe_code_rate::FEC_AUTO' data-ref="fe_code_rate::FEC_AUTO">FEC_AUTO</a> },</td></tr>
<tr><th id="140">140</th><td>    };</td></tr>
<tr><th id="141">141</th><td>    <b>return</b> <a class="tu ref" href="#dvb_parse_int" title='dvb_parse_int' data-use='c' data-ref="dvb_parse_int">dvb_parse_int</a> (<a class="local col5 ref" href="#25fec" title='fec' data-ref="25fec">fec</a>, <a class="local col6 ref" href="#26rates" title='rates' data-ref="26rates">rates</a>, <b>sizeof</b> (<a class="local col6 ref" href="#26rates" title='rates' data-ref="26rates">rates</a>) / <b>sizeof</b> (*<a class="local col6 ref" href="#26rates" title='rates' data-ref="26rates">rates</a>),</td></tr>
<tr><th id="142">142</th><td>                          <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_code_rate::FEC_AUTO" title='fe_code_rate::FEC_AUTO' data-ref="fe_code_rate::FEC_AUTO">FEC_AUTO</a>);</td></tr>
<tr><th id="143">143</th><td>}</td></tr>
<tr><th id="144">144</th><td></td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td><b>struct</b> <dfn class="type def" id="dvb_device" title='dvb_device' data-ref="dvb_device">dvb_device</dfn></td></tr>
<tr><th id="147">147</th><td>{</td></tr>
<tr><th id="148">148</th><td>    <a class="typedef" href="../../../include/vlc_common.h.html#vlc_object_t" title='vlc_object_t' data-type='struct vlc_object_t' data-ref="vlc_object_t">vlc_object_t</a> *<dfn class="decl" id="dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</dfn>;</td></tr>
<tr><th id="149">149</th><td>    <em>int</em> <dfn class="decl" id="dvb_device::dir" title='dvb_device::dir' data-ref="dvb_device::dir">dir</dfn>;</td></tr>
<tr><th id="150">150</th><td>    <em>int</em> <dfn class="decl" id="dvb_device::demux" title='dvb_device::demux' data-ref="dvb_device::demux">demux</dfn>;</td></tr>
<tr><th id="151">151</th><td>    <em>int</em> <dfn class="decl" id="dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</dfn>;</td></tr>
<tr><th id="152">152</th><td><u>#<span data-ppcond="152">ifndef</span> <span class="macro" data-ref="_M/USE_DMX">USE_DMX</span></u></td></tr>
<tr><th id="153">153</th><td><u># define <dfn class="macro" id="_M/MAX_PIDS" data-ref="_M/MAX_PIDS">MAX_PIDS</dfn> 256</u></td></tr>
<tr><th id="154">154</th><td>    <b>struct</b></td></tr>
<tr><th id="155">155</th><td>    {</td></tr>
<tr><th id="156">156</th><td>        <em>int</em> <dfn class="tu decl" id="dvb_device::{anonymous}::fd" title='dvb_device::&lt;anonymous struct&gt;::fd' data-type='int' data-ref="dvb_device::{anonymous}::fd">fd</dfn>;</td></tr>
<tr><th id="157">157</th><td>        <a class="typedef" href="../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="tu decl" id="dvb_device::{anonymous}::pid" title='dvb_device::&lt;anonymous struct&gt;::pid' data-type='uint16_t' data-ref="dvb_device::{anonymous}::pid">pid</dfn>;</td></tr>
<tr><th id="158">158</th><td>    } <dfn class="decl" id="dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</dfn>[<a class="macro" href="#153" title="256" data-ref="_M/MAX_PIDS">MAX_PIDS</a>];</td></tr>
<tr><th id="159">159</th><td><u>#<span data-ppcond="152">endif</span></u></td></tr>
<tr><th id="160">160</th><td><u>#<span data-ppcond="160">ifdef</span> <span class="macro" data-ref="_M/HAVE_DVBPSI">HAVE_DVBPSI</span></u></td></tr>
<tr><th id="161">161</th><td>    <a class="typedef" href="en50221.h.html#cam_t" title='cam_t' data-type='struct cam' data-ref="cam_t">cam_t</a> *<dfn class="decl" id="dvb_device::cam" title='dvb_device::cam' data-ref="dvb_device::cam">cam</dfn>;</td></tr>
<tr><th id="162">162</th><td><u>#<span data-ppcond="160">endif</span></u></td></tr>
<tr><th id="163">163</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="decl" id="dvb_device::device" title='dvb_device::device' data-ref="dvb_device::device">device</dfn>;</td></tr>
<tr><th id="164">164</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="decl" id="dvb_device::budget" title='dvb_device::budget' data-ref="dvb_device::budget">budget</dfn>;</td></tr>
<tr><th id="165">165</th><td>    <i>//size_t buffer_size;</i></td></tr>
<tr><th id="166">166</th><td>};</td></tr>
<tr><th id="167">167</th><td></td></tr>
<tr><th id="168">168</th><td><i class="doc" data-doc="dvb_open_adapter">/** Opens the device directory for the specified DVB adapter */</i></td></tr>
<tr><th id="169">169</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_open_adapter" title='dvb_open_adapter' data-type='int dvb_open_adapter(uint8_t adapter)' data-ref="dvb_open_adapter">dvb_open_adapter</dfn> (<a class="typedef" href="../../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="local col7 decl" id="27adapter" title='adapter' data-type='uint8_t' data-ref="27adapter">adapter</dfn>)</td></tr>
<tr><th id="170">170</th><td>{</td></tr>
<tr><th id="171">171</th><td>    <em>char</em> <dfn class="local col8 decl" id="28dir" title='dir' data-type='char [20]' data-ref="28dir">dir</dfn>[<var>20</var>];</td></tr>
<tr><th id="172">172</th><td></td></tr>
<tr><th id="173">173</th><td>    <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/stdio2.h.html#68" title="__builtin___snprintf_chk (dir, sizeof (dir), 2 - 1, __builtin_object_size (dir, 2 &gt; 1), &quot;/dev/dvb/adapter%&quot;&quot;u&quot;, adapter)" data-ref="_M/snprintf">snprintf</a> (<a class="local col8 ref" href="#28dir" title='dir' data-ref="28dir">dir</a>, <b>sizeof</b> (<a class="local col8 ref" href="#28dir" title='dir' data-ref="28dir">dir</a>), <q>"/dev/dvb/adapter%"</q><a class="macro" href="../../../../include/inttypes.h.html#102" title="&quot;u&quot;" data-ref="_M/PRIu8">PRIu8</a>, <a class="local col7 ref" href="#27adapter" title='adapter' data-ref="27adapter">adapter</a>);</td></tr>
<tr><th id="174">174</th><td>    <b>return</b> <a class="ref" href="../../../include/vlc_fs.h.html#vlc_open" title='vlc_open' data-ref="vlc_open">vlc_open</a> (<a class="local col8 ref" href="#28dir" title='dir' data-ref="28dir">dir</a>, <a class="macro" href="#46" title="00" data-ref="_M/O_SEARCH">O_SEARCH</a>|<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/fcntl-linux.h.html#125" title="0200000" data-ref="_M/O_DIRECTORY">O_DIRECTORY</a>);</td></tr>
<tr><th id="175">175</th><td>}</td></tr>
<tr><th id="176">176</th><td></td></tr>
<tr><th id="177">177</th><td><i class="doc" data-doc="dvb_open_node">/** Opens the DVB device node of the specified type */</i></td></tr>
<tr><th id="178">178</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_open_node" title='dvb_open_node' data-type='int dvb_open_node(dvb_device_t * d, const char * type, int flags)' data-ref="dvb_open_node">dvb_open_node</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col9 decl" id="29d" title='d' data-type='dvb_device_t *' data-ref="29d">d</dfn>, <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="30type" title='type' data-type='const char *' data-ref="30type">type</dfn>, <em>int</em> <dfn class="local col1 decl" id="31flags" title='flags' data-type='int' data-ref="31flags">flags</dfn>)</td></tr>
<tr><th id="179">179</th><td>{</td></tr>
<tr><th id="180">180</th><td>    <em>int</em> <dfn class="local col2 decl" id="32fd" title='fd' data-type='int' data-ref="32fd">fd</dfn>;</td></tr>
<tr><th id="181">181</th><td>    <em>char</em> <dfn class="local col3 decl" id="33path" title='path' data-type='char [strlen(type) + 4]' data-ref="33path">path</dfn>[<a class="ref" href="../../../../include/string.h.html#strlen" title='strlen' data-ref="strlen">strlen</a> (<a class="local col0 ref" href="#30type" title='type' data-ref="30type">type</a>) + <var>4</var>];</td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td>    <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/stdio2.h.html#68" title="__builtin___snprintf_chk (path, sizeof (path), 2 - 1, __builtin_object_size (path, 2 &gt; 1), &quot;%s%u&quot;, type, d-&gt;device)" data-ref="_M/snprintf">snprintf</a> (<a class="local col3 ref" href="#33path" title='path' data-ref="33path">path</a>, <b>sizeof</b> (<a class="local col3 ref" href="#33path" title='path' data-ref="33path">path</a>), <q>"%s%u"</q>, <a class="local col0 ref" href="#30type" title='type' data-ref="30type">type</a>, <a class="local col9 ref" href="#29d" title='d' data-ref="29d">d</a>-&gt;<a class="ref" href="#dvb_device::device" title='dvb_device::device' data-ref="dvb_device::device">device</a>);</td></tr>
<tr><th id="184">184</th><td>    <a class="local col2 ref" href="#32fd" title='fd' data-ref="32fd">fd</a> = <a class="ref" href="../../../include/vlc_fs.h.html#vlc_openat" title='vlc_openat' data-ref="vlc_openat">vlc_openat</a> (<a class="local col9 ref" href="#29d" title='d' data-ref="29d">d</a>-&gt;<a class="ref" href="#dvb_device::dir" title='dvb_device::dir' data-ref="dvb_device::dir">dir</a>, <a class="local col3 ref" href="#33path" title='path' data-ref="33path">path</a>, <a class="local col1 ref" href="#31flags" title='flags' data-ref="31flags">flags</a>);</td></tr>
<tr><th id="185">185</th><td>    <b>if</b> (<a class="local col2 ref" href="#32fd" title='fd' data-ref="32fd">fd</a> != -<var>1</var>)</td></tr>
<tr><th id="186">186</th><td>        <a class="ref" href="../../../../include/fcntl.h.html#fcntl" title='fcntl' data-ref="fcntl">fcntl</a> (<a class="local col2 ref" href="#32fd" title='fd' data-ref="32fd">fd</a>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/fcntl-linux.h.html#154" title="4" data-ref="_M/F_SETFL">F_SETFL</a>, <a class="ref" href="../../../../include/fcntl.h.html#fcntl" title='fcntl' data-ref="fcntl">fcntl</a> (<a class="local col2 ref" href="#32fd" title='fd' data-ref="32fd">fd</a>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/fcntl-linux.h.html#153" title="3" data-ref="_M/F_GETFL">F_GETFL</a>) | <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/fcntl-linux.h.html#62" title="04000" data-ref="_M/O_NONBLOCK">O_NONBLOCK</a>);</td></tr>
<tr><th id="187">187</th><td>    <b>return</b> <a class="local col2 ref" href="#32fd" title='fd' data-ref="32fd">fd</a>;</td></tr>
<tr><th id="188">188</th><td>}</td></tr>
<tr><th id="189">189</th><td></td></tr>
<tr><th id="190">190</th><td><i class="doc">/**</i></td></tr>
<tr><th id="191">191</th><td><i class="doc"> * Opens the DVB tuner</i></td></tr>
<tr><th id="192">192</th><td><i class="doc"> */</i></td></tr>
<tr><th id="193">193</th><td><a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="decl def" id="dvb_open" title='dvb_open' data-ref="dvb_open">dvb_open</dfn> (<a class="typedef" href="../../../include/vlc_common.h.html#vlc_object_t" title='vlc_object_t' data-type='struct vlc_object_t' data-ref="vlc_object_t">vlc_object_t</a> *<dfn class="local col4 decl" id="34obj" title='obj' data-type='vlc_object_t *' data-ref="34obj">obj</dfn>)</td></tr>
<tr><th id="194">194</th><td>{</td></tr>
<tr><th id="195">195</th><td>    <a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col5 decl" id="35d" title='d' data-type='dvb_device_t *' data-ref="35d">d</dfn> = <a class="ref" href="../../../../include/stdlib.h.html#malloc" title='malloc' data-ref="malloc">malloc</a> (<b>sizeof</b> (*<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>));</td></tr>
<tr><th id="196">196</th><td>    <b>if</b> (<a class="macro" href="../../../include/vlc_common.h.html#116" title="__builtin_expect(!!(d == ((void*)0)), 0)" data-ref="_M/unlikely">unlikely</a>(<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>))</td></tr>
<tr><th id="197">197</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="198">198</th><td></td></tr>
<tr><th id="199">199</th><td>    <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a> = <a class="local col4 ref" href="#34obj" title='obj' data-ref="34obj">obj</a>;</td></tr>
<tr><th id="200">200</th><td></td></tr>
<tr><th id="201">201</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint8_t" title='uint8_t' data-type='unsigned char' data-ref="uint8_t">uint8_t</a> <dfn class="local col6 decl" id="36adapter" title='adapter' data-type='uint8_t' data-ref="36adapter">adapter</dfn> = <a class="macro" href="../../../include/vlc_variables.h.html#687" title="var_InheritInteger(__builtin_choose_expr( __builtin_offsetof(__typeof__(*(obj)), psz_object_type), (void)0 , (vlc_object_t *)(obj)), &quot;dvb-adapter&quot;)" data-ref="_M/var_InheritInteger">var_InheritInteger</a> (<a class="local col4 ref" href="#34obj" title='obj' data-ref="34obj">obj</a>, <q>"dvb-adapter"</q>);</td></tr>
<tr><th id="202">202</th><td>    <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::device" title='dvb_device::device' data-ref="dvb_device::device">device</a> = <a class="macro" href="../../../include/vlc_variables.h.html#687" title="var_InheritInteger(__builtin_choose_expr( __builtin_offsetof(__typeof__(*(obj)), psz_object_type), (void)0 , (vlc_object_t *)(obj)), &quot;dvb-device&quot;)" data-ref="_M/var_InheritInteger">var_InheritInteger</a> (<a class="local col4 ref" href="#34obj" title='obj' data-ref="34obj">obj</a>, <q>"dvb-device"</q>);</td></tr>
<tr><th id="203">203</th><td></td></tr>
<tr><th id="204">204</th><td>    <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::dir" title='dvb_device::dir' data-ref="dvb_device::dir">dir</a> = <a class="tu ref" href="#dvb_open_adapter" title='dvb_open_adapter' data-use='c' data-ref="dvb_open_adapter">dvb_open_adapter</a> (<a class="local col6 ref" href="#36adapter" title='adapter' data-ref="36adapter">adapter</a>);</td></tr>
<tr><th id="205">205</th><td>    <b>if</b> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::dir" title='dvb_device::dir' data-ref="dvb_device::dir">dir</a> == -<var>1</var>)</td></tr>
<tr><th id="206">206</th><td>    {</td></tr>
<tr><th id="207">207</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(obj)), psz_object_type), (void)0 , (vlc_object_t *)(obj)), VLC_MSG_ERR, dtv, &quot;cannot access adapter %&quot;&quot;u&quot;&quot;: %s&quot;, adapter, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col4 ref" href="#34obj" title='obj' data-ref="34obj">obj</a>, <q>"cannot access adapter %"</q><a class="macro" href="../../../../include/inttypes.h.html#102" title="&quot;u&quot;" data-ref="_M/PRIu8">PRIu8</a><q>": %s"</q>, <a class="local col6 ref" href="#36adapter" title='adapter' data-ref="36adapter">adapter</a>,</td></tr>
<tr><th id="208">208</th><td>                 <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="209">209</th><td>        <a class="ref" href="../../../../include/stdlib.h.html#free" title='free' data-ref="free">free</a> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>);</td></tr>
<tr><th id="210">210</th><td>        <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="211">211</th><td>    }</td></tr>
<tr><th id="212">212</th><td>    <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a> = -<var>1</var>;</td></tr>
<tr><th id="213">213</th><td><u>#<span data-ppcond="213">ifdef</span> <span class="macro" data-ref="_M/HAVE_DVBPSI">HAVE_DVBPSI</span></u></td></tr>
<tr><th id="214">214</th><td>    <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::cam" title='dvb_device::cam' data-ref="dvb_device::cam">cam</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="215">215</th><td><u>#<span data-ppcond="213">endif</span></u></td></tr>
<tr><th id="216">216</th><td>    <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::budget" title='dvb_device::budget' data-ref="dvb_device::budget">budget</a> = <a class="macro" href="../../../include/vlc_variables.h.html#676" title="var_InheritBool(__builtin_choose_expr( __builtin_offsetof(__typeof__(*(obj)), psz_object_type), (void)0 , (vlc_object_t *)(obj)), &quot;dvb-budget-mode&quot;)" data-ref="_M/var_InheritBool">var_InheritBool</a> (<a class="local col4 ref" href="#34obj" title='obj' data-ref="34obj">obj</a>, <q>"dvb-budget-mode"</q>);</td></tr>
<tr><th id="217">217</th><td></td></tr>
<tr><th id="218">218</th><td><u>#<span data-ppcond="218">ifndef</span> <span class="macro" data-ref="_M/USE_DMX">USE_DMX</span></u></td></tr>
<tr><th id="219">219</th><td>    <b>if</b> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::budget" title='dvb_device::budget' data-ref="dvb_device::budget">budget</a>)</td></tr>
<tr><th id="220">220</th><td><u>#<span data-ppcond="218">endif</span></u></td></tr>
<tr><th id="221">221</th><td>    {</td></tr>
<tr><th id="222">222</th><td>       <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::demux" title='dvb_device::demux' data-ref="dvb_device::demux">demux</a> = <a class="tu ref" href="#dvb_open_node" title='dvb_open_node' data-use='c' data-ref="dvb_open_node">dvb_open_node</a> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>, <q>"demux"</q>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/fcntl-linux.h.html#43" title="00" data-ref="_M/O_RDONLY">O_RDONLY</a>);</td></tr>
<tr><th id="223">223</th><td>       <b>if</b> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::demux" title='dvb_device::demux' data-ref="dvb_device::demux">demux</a> == -<var>1</var>)</td></tr>
<tr><th id="224">224</th><td>       {</td></tr>
<tr><th id="225">225</th><td>           <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(obj)), psz_object_type), (void)0 , (vlc_object_t *)(obj)), VLC_MSG_ERR, dtv, &quot;cannot access demultiplexer: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col4 ref" href="#34obj" title='obj' data-ref="34obj">obj</a>, <q>"cannot access demultiplexer: %s"</q>,</td></tr>
<tr><th id="226">226</th><td>                    <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="227">227</th><td>           <a class="ref" href="../../../../include/unistd.h.html#close" title='close' data-ref="close">close</a> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::dir" title='dvb_device::dir' data-ref="dvb_device::dir">dir</a>);</td></tr>
<tr><th id="228">228</th><td>           <a class="ref" href="../../../../include/stdlib.h.html#free" title='free' data-ref="free">free</a> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>);</td></tr>
<tr><th id="229">229</th><td>           <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="230">230</th><td>       }</td></tr>
<tr><th id="231">231</th><td></td></tr>
<tr><th id="232">232</th><td>       <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::demux" title='dvb_device::demux' data-ref="dvb_device::demux">demux</a>, <a class="macro" href="../../../../include/linux/dvb/dmx.h.html#145" title="(((0U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((45)) &lt;&lt; 0) | ((0) &lt;&lt; ((0+8)+8)))" data-ref="_M/DMX_SET_BUFFER_SIZE">DMX_SET_BUFFER_SIZE</a>, <var>1</var> &lt;&lt; <var>20</var>) &lt; <var>0</var>)</td></tr>
<tr><th id="233">233</th><td>           <a class="macro" href="../../../include/vlc_messages.h.html#75" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(obj)), psz_object_type), (void)0 , (vlc_object_t *)(obj)), VLC_MSG_WARN, dtv, &quot;cannot expand demultiplexing buffer: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Warn">msg_Warn</a> (<a class="local col4 ref" href="#34obj" title='obj' data-ref="34obj">obj</a>, <q>"cannot expand demultiplexing buffer: %s"</q>,</td></tr>
<tr><th id="234">234</th><td>                     <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="235">235</th><td></td></tr>
<tr><th id="236">236</th><td>       <i>/* We need to filter at least one PID. The tap for TS demultiplexing</i></td></tr>
<tr><th id="237">237</th><td><i>        * cannot be configured otherwise. So add the PAT. */</i></td></tr>
<tr><th id="238">238</th><td>        <b>struct</b> <a class="type" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params" title='dmx_pes_filter_params' data-ref="dmx_pes_filter_params">dmx_pes_filter_params</a> <dfn class="local col7 decl" id="37param" title='param' data-type='struct dmx_pes_filter_params' data-ref="37param">param</dfn>;</td></tr>
<tr><th id="239">239</th><td></td></tr>
<tr><th id="240">240</th><td>        <a class="local col7 ref" href="#37param" title='param' data-ref="37param">param</a>.<a class="ref" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params::pid" title='dmx_pes_filter_params::pid' data-ref="dmx_pes_filter_params::pid">pid</a> = <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::budget" title='dvb_device::budget' data-ref="dvb_device::budget">budget</a> ? <var>0x2000</var> : <var>0x000</var>;</td></tr>
<tr><th id="241">241</th><td>        <a class="local col7 ref" href="#37param" title='param' data-ref="37param">param</a>.<a class="ref" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params::input" title='dmx_pes_filter_params::input' data-ref="dmx_pes_filter_params::input">input</a> = <a class="enum" href="../../../../include/linux/dvb/dmx.h.html#::DMX_IN_FRONTEND" title='::DMX_IN_FRONTEND' data-ref="::DMX_IN_FRONTEND">DMX_IN_FRONTEND</a>;</td></tr>
<tr><th id="242">242</th><td>        <a class="local col7 ref" href="#37param" title='param' data-ref="37param">param</a>.<a class="ref" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params::output" title='dmx_pes_filter_params::output' data-ref="dmx_pes_filter_params::output">output</a> = <a class="enum" href="../../../../include/linux/dvb/dmx.h.html#::DMX_OUT_TSDEMUX_TAP" title='::DMX_OUT_TSDEMUX_TAP' data-ref="::DMX_OUT_TSDEMUX_TAP">DMX_OUT_TSDEMUX_TAP</a>;</td></tr>
<tr><th id="243">243</th><td>        <a class="local col7 ref" href="#37param" title='param' data-ref="37param">param</a>.<a class="ref" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params::pes_type" title='dmx_pes_filter_params::pes_type' data-ref="dmx_pes_filter_params::pes_type">pes_type</a> = <a class="enum" href="../../../../include/linux/dvb/dmx.h.html#dmx_ts_pes::DMX_PES_OTHER" title='dmx_ts_pes::DMX_PES_OTHER' data-ref="dmx_ts_pes::DMX_PES_OTHER">DMX_PES_OTHER</a>;</td></tr>
<tr><th id="244">244</th><td>        <a class="local col7 ref" href="#37param" title='param' data-ref="37param">param</a>.<a class="ref" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params::flags" title='dmx_pes_filter_params::flags' data-ref="dmx_pes_filter_params::flags">flags</a> = <a class="macro" href="../../../../include/linux/dvb/dmx.h.html#104" title="4" data-ref="_M/DMX_IMMEDIATE_START">DMX_IMMEDIATE_START</a>;</td></tr>
<tr><th id="245">245</th><td>        <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::demux" title='dvb_device::demux' data-ref="dvb_device::demux">demux</a>, <a class="macro" href="../../../../include/linux/dvb/dmx.h.html#144" title="(((1U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((44)) &lt;&lt; 0) | ((((sizeof(struct dmx_pes_filter_params)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/DMX_SET_PES_FILTER">DMX_SET_PES_FILTER</a>, &amp;<a class="local col7 ref" href="#37param" title='param' data-ref="37param">param</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="246">246</th><td>        {</td></tr>
<tr><th id="247">247</th><td>            <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(obj)), psz_object_type), (void)0 , (vlc_object_t *)(obj)), VLC_MSG_ERR, dtv, &quot;cannot setup TS demultiplexer: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col4 ref" href="#34obj" title='obj' data-ref="34obj">obj</a>, <q>"cannot setup TS demultiplexer: %s"</q>,</td></tr>
<tr><th id="248">248</th><td>                     <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="249">249</th><td>            <b>goto</b> <a class="lbl" href="#38error" data-ref="38error">error</a>;</td></tr>
<tr><th id="250">250</th><td>        }</td></tr>
<tr><th id="251">251</th><td><u>#<span data-ppcond="251">ifndef</span> <span class="macro" data-ref="_M/USE_DMX">USE_DMX</span></u></td></tr>
<tr><th id="252">252</th><td>    }</td></tr>
<tr><th id="253">253</th><td>    <b>else</b></td></tr>
<tr><th id="254">254</th><td>    {</td></tr>
<tr><th id="255">255</th><td>        <b>for</b> (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col9 decl" id="39i" title='i' data-type='size_t' data-ref="39i">i</dfn> = <var>0</var>; <a class="local col9 ref" href="#39i" title='i' data-ref="39i">i</a> &lt; <a class="macro" href="#153" title="256" data-ref="_M/MAX_PIDS">MAX_PIDS</a>; <a class="local col9 ref" href="#39i" title='i' data-ref="39i">i</a>++)</td></tr>
<tr><th id="256">256</th><td>            <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col9 ref" href="#39i" title='i' data-ref="39i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::pid" title='dvb_device::&lt;anonymous struct&gt;::pid' data-use='w' data-ref="dvb_device::{anonymous}::pid">pid</a> = <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col9 ref" href="#39i" title='i' data-ref="39i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::fd" title='dvb_device::&lt;anonymous struct&gt;::fd' data-use='w' data-ref="dvb_device::{anonymous}::fd">fd</a> = -<var>1</var>;</td></tr>
<tr><th id="257">257</th><td>        <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::demux" title='dvb_device::demux' data-ref="dvb_device::demux">demux</a> = <a class="tu ref" href="#dvb_open_node" title='dvb_open_node' data-use='c' data-ref="dvb_open_node">dvb_open_node</a> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>, <q>"dvr"</q>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/fcntl-linux.h.html#43" title="00" data-ref="_M/O_RDONLY">O_RDONLY</a>);</td></tr>
<tr><th id="258">258</th><td>        <b>if</b> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::demux" title='dvb_device::demux' data-ref="dvb_device::demux">demux</a> == -<var>1</var>)</td></tr>
<tr><th id="259">259</th><td>        {</td></tr>
<tr><th id="260">260</th><td>            <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(obj)), psz_object_type), (void)0 , (vlc_object_t *)(obj)), VLC_MSG_ERR, dtv, &quot;cannot access DVR: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col4 ref" href="#34obj" title='obj' data-ref="34obj">obj</a>, <q>"cannot access DVR: %s"</q>, <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="261">261</th><td>            <a class="ref" href="../../../../include/unistd.h.html#close" title='close' data-ref="close">close</a> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::dir" title='dvb_device::dir' data-ref="dvb_device::dir">dir</a>);</td></tr>
<tr><th id="262">262</th><td>            <a class="ref" href="../../../../include/stdlib.h.html#free" title='free' data-ref="free">free</a> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>);</td></tr>
<tr><th id="263">263</th><td>            <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="264">264</th><td>        }</td></tr>
<tr><th id="265">265</th><td><u>#<span data-ppcond="251">endif</span></u></td></tr>
<tr><th id="266">266</th><td>    }</td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td><u>#<span data-ppcond="268">ifdef</span> <span class="macro" data-ref="_M/HAVE_DVBPSI">HAVE_DVBPSI</span></u></td></tr>
<tr><th id="269">269</th><td>    <em>int</em> <dfn class="local col0 decl" id="40ca" title='ca' data-type='int' data-ref="40ca">ca</dfn> = <a class="tu ref" href="#dvb_open_node" title='dvb_open_node' data-use='c' data-ref="dvb_open_node">dvb_open_node</a> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>, <q>"ca"</q>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/fcntl-linux.h.html#45" title="02" data-ref="_M/O_RDWR">O_RDWR</a>);</td></tr>
<tr><th id="270">270</th><td>    <b>if</b> (<a class="local col0 ref" href="#40ca" title='ca' data-ref="40ca">ca</a> != -<var>1</var>)</td></tr>
<tr><th id="271">271</th><td>    {</td></tr>
<tr><th id="272">272</th><td>        <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::cam" title='dvb_device::cam' data-ref="dvb_device::cam">cam</a> = <a class="ref" href="en50221.h.html#en50221_Init" title='en50221_Init' data-ref="en50221_Init">en50221_Init</a> (<a class="local col4 ref" href="#34obj" title='obj' data-ref="34obj">obj</a>, <a class="local col0 ref" href="#40ca" title='ca' data-ref="40ca">ca</a>);</td></tr>
<tr><th id="273">273</th><td>        <b>if</b> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>-&gt;<a class="ref" href="#dvb_device::cam" title='dvb_device::cam' data-ref="dvb_device::cam">cam</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="274">274</th><td>            <a class="ref" href="../../../../include/unistd.h.html#close" title='close' data-ref="close">close</a> (<a class="local col0 ref" href="#40ca" title='ca' data-ref="40ca">ca</a>);</td></tr>
<tr><th id="275">275</th><td>    }</td></tr>
<tr><th id="276">276</th><td>    <b>else</b></td></tr>
<tr><th id="277">277</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(obj)), psz_object_type), (void)0 , (vlc_object_t *)(obj)), VLC_MSG_DBG, dtv, &quot;conditional access module not available: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col4 ref" href="#34obj" title='obj' data-ref="34obj">obj</a>, <q>"conditional access module not available: %s"</q>,</td></tr>
<tr><th id="278">278</th><td>                 <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="279">279</th><td><u>#<span data-ppcond="268">endif</span></u></td></tr>
<tr><th id="280">280</th><td>    <b>return</b> <a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>;</td></tr>
<tr><th id="281">281</th><td></td></tr>
<tr><th id="282">282</th><td><dfn class="lbl" id="38error" data-ref="38error">error</dfn>:</td></tr>
<tr><th id="283">283</th><td>    <a class="ref" href="#dvb_close" title='dvb_close' data-ref="dvb_close">dvb_close</a> (<a class="local col5 ref" href="#35d" title='d' data-ref="35d">d</a>);</td></tr>
<tr><th id="284">284</th><td>    <b>return</b> <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="285">285</th><td>}</td></tr>
<tr><th id="286">286</th><td></td></tr>
<tr><th id="287">287</th><td><em>void</em> <dfn class="decl def" id="dvb_close" title='dvb_close' data-ref="dvb_close">dvb_close</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col1 decl" id="41d" title='d' data-type='dvb_device_t *' data-ref="41d">d</dfn>)</td></tr>
<tr><th id="288">288</th><td>{</td></tr>
<tr><th id="289">289</th><td><u>#<span data-ppcond="289">ifndef</span> <span class="macro" data-ref="_M/USE_DMX">USE_DMX</span></u></td></tr>
<tr><th id="290">290</th><td>    <b>if</b> (!<a class="local col1 ref" href="#41d" title='d' data-ref="41d">d</a>-&gt;<a class="ref" href="#dvb_device::budget" title='dvb_device::budget' data-ref="dvb_device::budget">budget</a>)</td></tr>
<tr><th id="291">291</th><td>    {</td></tr>
<tr><th id="292">292</th><td>        <b>for</b> (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col2 decl" id="42i" title='i' data-type='size_t' data-ref="42i">i</dfn> = <var>0</var>; <a class="local col2 ref" href="#42i" title='i' data-ref="42i">i</a> &lt; <a class="macro" href="#153" title="256" data-ref="_M/MAX_PIDS">MAX_PIDS</a>; <a class="local col2 ref" href="#42i" title='i' data-ref="42i">i</a>++)</td></tr>
<tr><th id="293">293</th><td>            <b>if</b> (<a class="local col1 ref" href="#41d" title='d' data-ref="41d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col2 ref" href="#42i" title='i' data-ref="42i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::fd" title='dvb_device::&lt;anonymous struct&gt;::fd' data-use='r' data-ref="dvb_device::{anonymous}::fd">fd</a> != -<var>1</var>)</td></tr>
<tr><th id="294">294</th><td>                <a class="ref" href="../../../../include/unistd.h.html#close" title='close' data-ref="close">close</a> (<a class="local col1 ref" href="#41d" title='d' data-ref="41d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col2 ref" href="#42i" title='i' data-ref="42i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::fd" title='dvb_device::&lt;anonymous struct&gt;::fd' data-use='r' data-ref="dvb_device::{anonymous}::fd">fd</a>);</td></tr>
<tr><th id="295">295</th><td>    }</td></tr>
<tr><th id="296">296</th><td><u>#<span data-ppcond="289">endif</span></u></td></tr>
<tr><th id="297">297</th><td><u>#<span data-ppcond="297">ifdef</span> <span class="macro" data-ref="_M/HAVE_DVBPSI">HAVE_DVBPSI</span></u></td></tr>
<tr><th id="298">298</th><td>    <b>if</b> (<a class="local col1 ref" href="#41d" title='d' data-ref="41d">d</a>-&gt;<a class="ref" href="#dvb_device::cam" title='dvb_device::cam' data-ref="dvb_device::cam">cam</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="299">299</th><td>        <a class="ref" href="en50221.h.html#en50221_End" title='en50221_End' data-ref="en50221_End">en50221_End</a> (<a class="local col1 ref" href="#41d" title='d' data-ref="41d">d</a>-&gt;<a class="ref" href="#dvb_device::cam" title='dvb_device::cam' data-ref="dvb_device::cam">cam</a>);</td></tr>
<tr><th id="300">300</th><td><u>#<span data-ppcond="297">endif</span></u></td></tr>
<tr><th id="301">301</th><td>    <b>if</b> (<a class="local col1 ref" href="#41d" title='d' data-ref="41d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a> != -<var>1</var>)</td></tr>
<tr><th id="302">302</th><td>        <a class="ref" href="../../../../include/unistd.h.html#close" title='close' data-ref="close">close</a> (<a class="local col1 ref" href="#41d" title='d' data-ref="41d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>);</td></tr>
<tr><th id="303">303</th><td>    <a class="ref" href="../../../../include/unistd.h.html#close" title='close' data-ref="close">close</a> (<a class="local col1 ref" href="#41d" title='d' data-ref="41d">d</a>-&gt;<a class="ref" href="#dvb_device::demux" title='dvb_device::demux' data-ref="dvb_device::demux">demux</a>);</td></tr>
<tr><th id="304">304</th><td>    <a class="ref" href="../../../../include/unistd.h.html#close" title='close' data-ref="close">close</a> (<a class="local col1 ref" href="#41d" title='d' data-ref="41d">d</a>-&gt;<a class="ref" href="#dvb_device::dir" title='dvb_device::dir' data-ref="dvb_device::dir">dir</a>);</td></tr>
<tr><th id="305">305</th><td>    <a class="ref" href="../../../../include/stdlib.h.html#free" title='free' data-ref="free">free</a> (<a class="local col1 ref" href="#41d" title='d' data-ref="41d">d</a>);</td></tr>
<tr><th id="306">306</th><td>}</td></tr>
<tr><th id="307">307</th><td></td></tr>
<tr><th id="308">308</th><td><i class="doc">/**</i></td></tr>
<tr><th id="309">309</th><td><i class="doc"> * Reads TS data from the tuner.</i></td></tr>
<tr><th id="310">310</th><td><i class="doc"> * <span class="command">@return</span> number of bytes read, 0 on EOF, -1 if no data (yet).</i></td></tr>
<tr><th id="311">311</th><td><i class="doc"> */</i></td></tr>
<tr><th id="312">312</th><td><a class="typedef" href="../../../../include/x86_64-linux-gnu/sys/types.h.html#ssize_t" title='ssize_t' data-type='__ssize_t' data-ref="ssize_t">ssize_t</a> <dfn class="decl def" id="dvb_read" title='dvb_read' data-ref="dvb_read">dvb_read</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col3 decl" id="43d" title='d' data-type='dvb_device_t *' data-ref="43d">d</dfn>, <em>void</em> *<dfn class="local col4 decl" id="44buf" title='buf' data-type='void *' data-ref="44buf">buf</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col5 decl" id="45len" title='len' data-type='size_t' data-ref="45len">len</dfn>)</td></tr>
<tr><th id="313">313</th><td>{</td></tr>
<tr><th id="314">314</th><td>    <b>struct</b> <a class="type" href="../../../../include/x86_64-linux-gnu/sys/poll.h.html#pollfd" title='pollfd' data-ref="pollfd">pollfd</a> <dfn class="local col6 decl" id="46ufd" title='ufd' data-type='struct pollfd [2]' data-ref="46ufd">ufd</dfn>[<var>2</var>];</td></tr>
<tr><th id="315">315</th><td>    <em>int</em> <dfn class="local col7 decl" id="47n" title='n' data-type='int' data-ref="47n">n</dfn>;</td></tr>
<tr><th id="316">316</th><td></td></tr>
<tr><th id="317">317</th><td><u>#<span data-ppcond="317">ifdef</span> <span class="macro" data-ref="_M/HAVE_DVBPSI">HAVE_DVBPSI</span></u></td></tr>
<tr><th id="318">318</th><td>    <b>if</b> (<a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::cam" title='dvb_device::cam' data-ref="dvb_device::cam">cam</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="319">319</th><td>        <a class="ref" href="en50221.h.html#en50221_Poll" title='en50221_Poll' data-ref="en50221_Poll">en50221_Poll</a> (<a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::cam" title='dvb_device::cam' data-ref="dvb_device::cam">cam</a>);</td></tr>
<tr><th id="320">320</th><td><u>#<span data-ppcond="317">endif</span></u></td></tr>
<tr><th id="321">321</th><td></td></tr>
<tr><th id="322">322</th><td>    <a class="local col6 ref" href="#46ufd" title='ufd' data-ref="46ufd">ufd</a>[<var>0</var>].<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/poll.h.html#pollfd::fd" title='pollfd::fd' data-ref="pollfd::fd">fd</a> = <a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::demux" title='dvb_device::demux' data-ref="dvb_device::demux">demux</a>;</td></tr>
<tr><th id="323">323</th><td>    <a class="local col6 ref" href="#46ufd" title='ufd' data-ref="46ufd">ufd</a>[<var>0</var>].<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/poll.h.html#pollfd::events" title='pollfd::events' data-ref="pollfd::events">events</a> = <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/poll.h.html#25" title="0x001" data-ref="_M/POLLIN">POLLIN</a>;</td></tr>
<tr><th id="324">324</th><td>    <b>if</b> (<a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a> != -<var>1</var>)</td></tr>
<tr><th id="325">325</th><td>    {</td></tr>
<tr><th id="326">326</th><td>        <a class="local col6 ref" href="#46ufd" title='ufd' data-ref="46ufd">ufd</a>[<var>1</var>].<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/poll.h.html#pollfd::fd" title='pollfd::fd' data-ref="pollfd::fd">fd</a> = <a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>;</td></tr>
<tr><th id="327">327</th><td>        <a class="local col6 ref" href="#46ufd" title='ufd' data-ref="46ufd">ufd</a>[<var>1</var>].<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/poll.h.html#pollfd::events" title='pollfd::events' data-ref="pollfd::events">events</a> = <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/poll.h.html#25" title="0x001" data-ref="_M/POLLIN">POLLIN</a>;</td></tr>
<tr><th id="328">328</th><td>        <a class="local col7 ref" href="#47n" title='n' data-ref="47n">n</a> = <var>2</var>;</td></tr>
<tr><th id="329">329</th><td>    }</td></tr>
<tr><th id="330">330</th><td>    <b>else</b></td></tr>
<tr><th id="331">331</th><td>        <a class="local col7 ref" href="#47n" title='n' data-ref="47n">n</a> = <var>1</var>;</td></tr>
<tr><th id="332">332</th><td></td></tr>
<tr><th id="333">333</th><td>    <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/poll.h.html#poll" title='poll' data-ref="poll">poll</a> (<a class="local col6 ref" href="#46ufd" title='ufd' data-ref="46ufd">ufd</a>, <a class="local col7 ref" href="#47n" title='n' data-ref="47n">n</a>, <var>500</var> <i>/* FIXME */</i>) &lt; <var>0</var>)</td></tr>
<tr><th id="334">334</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="335">335</th><td></td></tr>
<tr><th id="336">336</th><td>    <b>if</b> (<a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a> != -<var>1</var> &amp;&amp; <a class="local col6 ref" href="#46ufd" title='ufd' data-ref="46ufd">ufd</a>[<var>1</var>].<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/poll.h.html#pollfd::revents" title='pollfd::revents' data-ref="pollfd::revents">revents</a>)</td></tr>
<tr><th id="337">337</th><td>    {</td></tr>
<tr><th id="338">338</th><td>        <b>struct</b> <a class="type" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_event" title='dvb_frontend_event' data-ref="dvb_frontend_event">dvb_frontend_event</a> <dfn class="local col8 decl" id="48ev" title='ev' data-type='struct dvb_frontend_event' data-ref="48ev">ev</dfn>;</td></tr>
<tr><th id="339">339</th><td></td></tr>
<tr><th id="340">340</th><td>        <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#585" title="(((2U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((78)) &lt;&lt; 0) | ((((sizeof(struct dvb_frontend_event)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_GET_EVENT">FE_GET_EVENT</a>, &amp;<a class="local col8 ref" href="#48ev" title='ev' data-ref="48ev">ev</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="341">341</th><td>        {</td></tr>
<tr><th id="342">342</th><td>            <b>if</b> (<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> == <a class="macro" href="../../../../include/asm-generic/errno.h.html#48" title="75" data-ref="_M/EOVERFLOW">EOVERFLOW</a>)</td></tr>
<tr><th id="343">343</th><td>            {</td></tr>
<tr><th id="344">344</th><td>                <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot dequeue events fast enough!&quot; )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot dequeue events fast enough!"</q>);</td></tr>
<tr><th id="345">345</th><td>                <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="346">346</th><td>            }</td></tr>
<tr><th id="347">347</th><td>            <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot dequeue frontend event: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot dequeue frontend event: %s"</q>,</td></tr>
<tr><th id="348">348</th><td>                     <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="349">349</th><td>            <b>return</b> <var>0</var>;</td></tr>
<tr><th id="350">350</th><td>        }</td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot;frontend status: 0x%02X&quot;, (unsigned)ev.status )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"frontend status: 0x%02X"</q>, (<em>unsigned</em>)<a class="local col8 ref" href="#48ev" title='ev' data-ref="48ev">ev</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_event::status" title='dvb_frontend_event::status' data-ref="dvb_frontend_event::status">status</a>);</td></tr>
<tr><th id="353">353</th><td>    }</td></tr>
<tr><th id="354">354</th><td></td></tr>
<tr><th id="355">355</th><td>    <b>if</b> (<a class="local col6 ref" href="#46ufd" title='ufd' data-ref="46ufd">ufd</a>[<var>0</var>].<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/poll.h.html#pollfd::revents" title='pollfd::revents' data-ref="pollfd::revents">revents</a>)</td></tr>
<tr><th id="356">356</th><td>    {</td></tr>
<tr><th id="357">357</th><td>        <a class="typedef" href="../../../../include/x86_64-linux-gnu/sys/types.h.html#ssize_t" title='ssize_t' data-type='__ssize_t' data-ref="ssize_t">ssize_t</a> <dfn class="local col9 decl" id="49val" title='val' data-type='ssize_t' data-ref="49val">val</dfn> = <a class="ref" href="../../../../include/unistd.h.html#read" title='read' data-ref="read">read</a> (<a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::demux" title='dvb_device::demux' data-ref="dvb_device::demux">demux</a>, <a class="local col4 ref" href="#44buf" title='buf' data-ref="44buf">buf</a>, <a class="local col5 ref" href="#45len" title='len' data-ref="45len">len</a>);</td></tr>
<tr><th id="358">358</th><td>        <b>if</b> (<a class="local col9 ref" href="#49val" title='val' data-ref="49val">val</a> == -<var>1</var> &amp;&amp; (<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> != <a class="macro" href="../../../../include/asm-generic/errno-base.h.html#14" title="11" data-ref="_M/EAGAIN">EAGAIN</a> &amp;&amp; <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> != <a class="macro" href="../../../../include/asm-generic/errno-base.h.html#7" title="4" data-ref="_M/EINTR">EINTR</a>))</td></tr>
<tr><th id="359">359</th><td>        {</td></tr>
<tr><th id="360">360</th><td>            <b>if</b> (<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> == <a class="macro" href="../../../../include/asm-generic/errno.h.html#48" title="75" data-ref="_M/EOVERFLOW">EOVERFLOW</a>)</td></tr>
<tr><th id="361">361</th><td>            {</td></tr>
<tr><th id="362">362</th><td>                <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot demux data fast enough!&quot; )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot demux data fast enough!"</q>);</td></tr>
<tr><th id="363">363</th><td>                <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="364">364</th><td>            }</td></tr>
<tr><th id="365">365</th><td>            <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot demux: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col3 ref" href="#43d" title='d' data-ref="43d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot demux: %s"</q>, <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="366">366</th><td>            <b>return</b> <var>0</var>;</td></tr>
<tr><th id="367">367</th><td>        }</td></tr>
<tr><th id="368">368</th><td>        <b>return</b> <a class="local col9 ref" href="#49val" title='val' data-ref="49val">val</a>;</td></tr>
<tr><th id="369">369</th><td>    }</td></tr>
<tr><th id="370">370</th><td></td></tr>
<tr><th id="371">371</th><td>    <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="372">372</th><td>}</td></tr>
<tr><th id="373">373</th><td></td></tr>
<tr><th id="374">374</th><td><em>int</em> <dfn class="decl def" id="dvb_add_pid" title='dvb_add_pid' data-ref="dvb_add_pid">dvb_add_pid</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col0 decl" id="50d" title='d' data-type='dvb_device_t *' data-ref="50d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col1 decl" id="51pid" title='pid' data-type='uint16_t' data-ref="51pid">pid</dfn>)</td></tr>
<tr><th id="375">375</th><td>{</td></tr>
<tr><th id="376">376</th><td>    <b>if</b> (<a class="local col0 ref" href="#50d" title='d' data-ref="50d">d</a>-&gt;<a class="ref" href="#dvb_device::budget" title='dvb_device::budget' data-ref="dvb_device::budget">budget</a>)</td></tr>
<tr><th id="377">377</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="378">378</th><td><u>#<span data-ppcond="378">ifdef</span> <span class="macro" data-ref="_M/USE_DMX">USE_DMX</span></u></td></tr>
<tr><th id="379">379</th><td>    <b>if</b> (pid == <var>0</var> || ioctl (d-&gt;demux, DMX_ADD_PID, &amp;pid) &gt;= <var>0</var>)</td></tr>
<tr><th id="380">380</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="381">381</th><td><u>#<span data-ppcond="378">else</span></u></td></tr>
<tr><th id="382">382</th><td>    <b>for</b> (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col2 decl" id="52i" title='i' data-type='size_t' data-ref="52i">i</dfn> = <var>0</var>; <a class="local col2 ref" href="#52i" title='i' data-ref="52i">i</a> &lt; <a class="macro" href="#153" title="256" data-ref="_M/MAX_PIDS">MAX_PIDS</a>; <a class="local col2 ref" href="#52i" title='i' data-ref="52i">i</a>++)</td></tr>
<tr><th id="383">383</th><td>    {</td></tr>
<tr><th id="384">384</th><td>        <b>if</b> (<a class="local col0 ref" href="#50d" title='d' data-ref="50d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col2 ref" href="#52i" title='i' data-ref="52i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::pid" title='dvb_device::&lt;anonymous struct&gt;::pid' data-use='r' data-ref="dvb_device::{anonymous}::pid">pid</a> == <a class="local col1 ref" href="#51pid" title='pid' data-ref="51pid">pid</a>)</td></tr>
<tr><th id="385">385</th><td>            <b>return</b> <var>0</var>;</td></tr>
<tr><th id="386">386</th><td>        <b>if</b> (<a class="local col0 ref" href="#50d" title='d' data-ref="50d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col2 ref" href="#52i" title='i' data-ref="52i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::fd" title='dvb_device::&lt;anonymous struct&gt;::fd' data-use='r' data-ref="dvb_device::{anonymous}::fd">fd</a> != -<var>1</var>)</td></tr>
<tr><th id="387">387</th><td>            <b>continue</b>;</td></tr>
<tr><th id="388">388</th><td></td></tr>
<tr><th id="389">389</th><td>        <em>int</em> <dfn class="local col3 decl" id="53fd" title='fd' data-type='int' data-ref="53fd">fd</dfn> = <a class="tu ref" href="#dvb_open_node" title='dvb_open_node' data-use='c' data-ref="dvb_open_node">dvb_open_node</a> (<a class="local col0 ref" href="#50d" title='d' data-ref="50d">d</a>, <q>"demux"</q>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/fcntl-linux.h.html#43" title="00" data-ref="_M/O_RDONLY">O_RDONLY</a>);</td></tr>
<tr><th id="390">390</th><td>        <b>if</b> (<a class="local col3 ref" href="#53fd" title='fd' data-ref="53fd">fd</a> == -<var>1</var>)</td></tr>
<tr><th id="391">391</th><td>            <b>goto</b> <a class="lbl" href="#54error" data-ref="54error">error</a>;</td></tr>
<tr><th id="392">392</th><td></td></tr>
<tr><th id="393">393</th><td>       <i>/* We need to filter at least one PID. The tap for TS demultiplexing</i></td></tr>
<tr><th id="394">394</th><td><i>        * cannot be configured otherwise. So add the PAT. */</i></td></tr>
<tr><th id="395">395</th><td>        <b>struct</b> <a class="type" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params" title='dmx_pes_filter_params' data-ref="dmx_pes_filter_params">dmx_pes_filter_params</a> <dfn class="local col5 decl" id="55param" title='param' data-type='struct dmx_pes_filter_params' data-ref="55param">param</dfn>;</td></tr>
<tr><th id="396">396</th><td></td></tr>
<tr><th id="397">397</th><td>        <a class="local col5 ref" href="#55param" title='param' data-ref="55param">param</a>.<a class="ref" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params::pid" title='dmx_pes_filter_params::pid' data-ref="dmx_pes_filter_params::pid">pid</a> = <a class="local col1 ref" href="#51pid" title='pid' data-ref="51pid">pid</a>;</td></tr>
<tr><th id="398">398</th><td>        <a class="local col5 ref" href="#55param" title='param' data-ref="55param">param</a>.<a class="ref" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params::input" title='dmx_pes_filter_params::input' data-ref="dmx_pes_filter_params::input">input</a> = <a class="enum" href="../../../../include/linux/dvb/dmx.h.html#::DMX_IN_FRONTEND" title='::DMX_IN_FRONTEND' data-ref="::DMX_IN_FRONTEND">DMX_IN_FRONTEND</a>;</td></tr>
<tr><th id="399">399</th><td>        <a class="local col5 ref" href="#55param" title='param' data-ref="55param">param</a>.<a class="ref" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params::output" title='dmx_pes_filter_params::output' data-ref="dmx_pes_filter_params::output">output</a> = <a class="enum" href="../../../../include/linux/dvb/dmx.h.html#::DMX_OUT_TS_TAP" title='::DMX_OUT_TS_TAP' data-ref="::DMX_OUT_TS_TAP">DMX_OUT_TS_TAP</a>;</td></tr>
<tr><th id="400">400</th><td>        <a class="local col5 ref" href="#55param" title='param' data-ref="55param">param</a>.<a class="ref" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params::pes_type" title='dmx_pes_filter_params::pes_type' data-ref="dmx_pes_filter_params::pes_type">pes_type</a> = <a class="enum" href="../../../../include/linux/dvb/dmx.h.html#dmx_ts_pes::DMX_PES_OTHER" title='dmx_ts_pes::DMX_PES_OTHER' data-ref="dmx_ts_pes::DMX_PES_OTHER">DMX_PES_OTHER</a>;</td></tr>
<tr><th id="401">401</th><td>        <a class="local col5 ref" href="#55param" title='param' data-ref="55param">param</a>.<a class="ref" href="../../../../include/linux/dvb/dmx.h.html#dmx_pes_filter_params::flags" title='dmx_pes_filter_params::flags' data-ref="dmx_pes_filter_params::flags">flags</a> = <a class="macro" href="../../../../include/linux/dvb/dmx.h.html#104" title="4" data-ref="_M/DMX_IMMEDIATE_START">DMX_IMMEDIATE_START</a>;</td></tr>
<tr><th id="402">402</th><td>        <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col3 ref" href="#53fd" title='fd' data-ref="53fd">fd</a>, <a class="macro" href="../../../../include/linux/dvb/dmx.h.html#144" title="(((1U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((44)) &lt;&lt; 0) | ((((sizeof(struct dmx_pes_filter_params)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/DMX_SET_PES_FILTER">DMX_SET_PES_FILTER</a>, &amp;<a class="local col5 ref" href="#55param" title='param' data-ref="55param">param</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="403">403</th><td>        {</td></tr>
<tr><th id="404">404</th><td>            <a class="ref" href="../../../../include/unistd.h.html#close" title='close' data-ref="close">close</a> (<a class="local col3 ref" href="#53fd" title='fd' data-ref="53fd">fd</a>);</td></tr>
<tr><th id="405">405</th><td>            <b>goto</b> <a class="lbl" href="#54error" data-ref="54error">error</a>;</td></tr>
<tr><th id="406">406</th><td>        }</td></tr>
<tr><th id="407">407</th><td>        <a class="local col0 ref" href="#50d" title='d' data-ref="50d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col2 ref" href="#52i" title='i' data-ref="52i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::fd" title='dvb_device::&lt;anonymous struct&gt;::fd' data-use='w' data-ref="dvb_device::{anonymous}::fd">fd</a> = <a class="local col3 ref" href="#53fd" title='fd' data-ref="53fd">fd</a>;</td></tr>
<tr><th id="408">408</th><td>        <a class="local col0 ref" href="#50d" title='d' data-ref="50d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col2 ref" href="#52i" title='i' data-ref="52i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::pid" title='dvb_device::&lt;anonymous struct&gt;::pid' data-use='w' data-ref="dvb_device::{anonymous}::pid">pid</a> = <a class="local col1 ref" href="#51pid" title='pid' data-ref="51pid">pid</a>;</td></tr>
<tr><th id="409">409</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="410">410</th><td>    }</td></tr>
<tr><th id="411">411</th><td>    <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a> = <a class="macro" href="../../../../include/asm-generic/errno-base.h.html#27" title="24" data-ref="_M/EMFILE">EMFILE</a>;</td></tr>
<tr><th id="412">412</th><td><dfn class="lbl" id="54error" data-ref="54error">error</dfn>:</td></tr>
<tr><th id="413">413</th><td><u>#<span data-ppcond="378">endif</span></u></td></tr>
<tr><th id="414">414</th><td>    <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot add PID 0x%04&quot;&quot;u&quot;&quot;: %s&quot;, pid, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col0 ref" href="#50d" title='d' data-ref="50d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot add PID 0x%04"</q><a class="macro" href="../../../../include/inttypes.h.html#103" title="&quot;u&quot;" data-ref="_M/PRIu16">PRIu16</a><q>": %s"</q>, <a class="local col1 ref" href="#51pid" title='pid' data-ref="51pid">pid</a>,</td></tr>
<tr><th id="415">415</th><td>             <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="416">416</th><td>    <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="417">417</th><td>}</td></tr>
<tr><th id="418">418</th><td></td></tr>
<tr><th id="419">419</th><td><em>void</em> <dfn class="decl def" id="dvb_remove_pid" title='dvb_remove_pid' data-ref="dvb_remove_pid">dvb_remove_pid</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col6 decl" id="56d" title='d' data-type='dvb_device_t *' data-ref="56d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col7 decl" id="57pid" title='pid' data-type='uint16_t' data-ref="57pid">pid</dfn>)</td></tr>
<tr><th id="420">420</th><td>{</td></tr>
<tr><th id="421">421</th><td>    <b>if</b> (<a class="local col6 ref" href="#56d" title='d' data-ref="56d">d</a>-&gt;<a class="ref" href="#dvb_device::budget" title='dvb_device::budget' data-ref="dvb_device::budget">budget</a>)</td></tr>
<tr><th id="422">422</th><td>        <b>return</b>;</td></tr>
<tr><th id="423">423</th><td><u>#<span data-ppcond="423">ifdef</span> <span class="macro" data-ref="_M/USE_DMX">USE_DMX</span></u></td></tr>
<tr><th id="424">424</th><td>    <b>if</b> (pid != <var>0</var>)</td></tr>
<tr><th id="425">425</th><td>        ioctl (d-&gt;demux, DMX_REMOVE_PID, &amp;pid);</td></tr>
<tr><th id="426">426</th><td><u>#<span data-ppcond="423">else</span></u></td></tr>
<tr><th id="427">427</th><td>    <b>for</b> (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col8 decl" id="58i" title='i' data-type='size_t' data-ref="58i">i</dfn> = <var>0</var>; <a class="local col8 ref" href="#58i" title='i' data-ref="58i">i</a> &lt; <a class="macro" href="#153" title="256" data-ref="_M/MAX_PIDS">MAX_PIDS</a>; <a class="local col8 ref" href="#58i" title='i' data-ref="58i">i</a>++)</td></tr>
<tr><th id="428">428</th><td>    {</td></tr>
<tr><th id="429">429</th><td>        <b>if</b> (<a class="local col6 ref" href="#56d" title='d' data-ref="56d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col8 ref" href="#58i" title='i' data-ref="58i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::pid" title='dvb_device::&lt;anonymous struct&gt;::pid' data-use='r' data-ref="dvb_device::{anonymous}::pid">pid</a> == <a class="local col7 ref" href="#57pid" title='pid' data-ref="57pid">pid</a>)</td></tr>
<tr><th id="430">430</th><td>        {</td></tr>
<tr><th id="431">431</th><td>            <a class="ref" href="../../../../include/unistd.h.html#close" title='close' data-ref="close">close</a> (<a class="local col6 ref" href="#56d" title='d' data-ref="56d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col8 ref" href="#58i" title='i' data-ref="58i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::fd" title='dvb_device::&lt;anonymous struct&gt;::fd' data-use='r' data-ref="dvb_device::{anonymous}::fd">fd</a>);</td></tr>
<tr><th id="432">432</th><td>            <a class="local col6 ref" href="#56d" title='d' data-ref="56d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col8 ref" href="#58i" title='i' data-ref="58i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::pid" title='dvb_device::&lt;anonymous struct&gt;::pid' data-use='w' data-ref="dvb_device::{anonymous}::pid">pid</a> = <a class="local col6 ref" href="#56d" title='d' data-ref="56d">d</a>-&gt;<a class="ref" href="#dvb_device::pids" title='dvb_device::pids' data-ref="dvb_device::pids">pids</a>[<a class="local col8 ref" href="#58i" title='i' data-ref="58i">i</a>].<a class="tu ref" href="#dvb_device::{anonymous}::fd" title='dvb_device::&lt;anonymous struct&gt;::fd' data-use='w' data-ref="dvb_device::{anonymous}::fd">fd</a> = -<var>1</var>;</td></tr>
<tr><th id="433">433</th><td>            <b>return</b>;</td></tr>
<tr><th id="434">434</th><td>        }</td></tr>
<tr><th id="435">435</th><td>    }</td></tr>
<tr><th id="436">436</th><td><u>#<span data-ppcond="423">endif</span></u></td></tr>
<tr><th id="437">437</th><td>}</td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td><i class="doc" data-doc="dvb_open_frontend">/** Finds a frontend of the correct type */</i></td></tr>
<tr><th id="440">440</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_open_frontend" title='dvb_open_frontend' data-type='int dvb_open_frontend(dvb_device_t * d)' data-ref="dvb_open_frontend">dvb_open_frontend</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col9 decl" id="59d" title='d' data-type='dvb_device_t *' data-ref="59d">d</dfn>)</td></tr>
<tr><th id="441">441</th><td>{</td></tr>
<tr><th id="442">442</th><td>    <b>if</b> (<a class="local col9 ref" href="#59d" title='d' data-ref="59d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a> != -<var>1</var>)</td></tr>
<tr><th id="443">443</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="444">444</th><td>    <em>int</em> <dfn class="local col0 decl" id="60fd" title='fd' data-type='int' data-ref="60fd">fd</dfn> = <a class="tu ref" href="#dvb_open_node" title='dvb_open_node' data-use='c' data-ref="dvb_open_node">dvb_open_node</a> (<a class="local col9 ref" href="#59d" title='d' data-ref="59d">d</a>, <q>"frontend"</q>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/fcntl-linux.h.html#45" title="02" data-ref="_M/O_RDWR">O_RDWR</a>);</td></tr>
<tr><th id="445">445</th><td>    <b>if</b> (<a class="local col0 ref" href="#60fd" title='fd' data-ref="60fd">fd</a> == -<var>1</var>)</td></tr>
<tr><th id="446">446</th><td>    {</td></tr>
<tr><th id="447">447</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot access frontend: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col9 ref" href="#59d" title='d' data-ref="59d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot access frontend: %s"</q>, <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="448">448</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="449">449</th><td>    }</td></tr>
<tr><th id="450">450</th><td></td></tr>
<tr><th id="451">451</th><td>    <a class="local col9 ref" href="#59d" title='d' data-ref="59d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a> = <a class="local col0 ref" href="#60fd" title='fd' data-ref="60fd">fd</a>;</td></tr>
<tr><th id="452">452</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="453">453</th><td>}</td></tr>
<tr><th id="454">454</th><td><u>#define <dfn class="macro" id="_M/dvb_find_frontend" data-ref="_M/dvb_find_frontend">dvb_find_frontend</dfn>(d, sys) (<a class="tu ref" href="#dvb_open_frontend" title='dvb_open_frontend' data-use='c' data-ref="dvb_open_frontend">dvb_open_frontend</a>(d))</u></td></tr>
<tr><th id="455">455</th><td></td></tr>
<tr><th id="456">456</th><td><i class="doc">/**</i></td></tr>
<tr><th id="457">457</th><td><i class="doc"> * Detects supported delivery systems.</i></td></tr>
<tr><th id="458">458</th><td><i class="doc"> * <span class="command">@return</span> a bit mask of supported systems (zero on failure)</i></td></tr>
<tr><th id="459">459</th><td><i class="doc"> */</i></td></tr>
<tr><th id="460">460</th><td><em>unsigned</em> <dfn class="decl def" id="dvb_enum_systems" title='dvb_enum_systems' data-ref="dvb_enum_systems">dvb_enum_systems</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col1 decl" id="61d" title='d' data-type='dvb_device_t *' data-ref="61d">d</dfn>)</td></tr>
<tr><th id="461">461</th><td>{</td></tr>
<tr><th id="462">462</th><td>    <b>if</b> (<a class="tu ref" href="#dvb_open_frontend" title='dvb_open_frontend' data-use='c' data-ref="dvb_open_frontend">dvb_open_frontend</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>))</td></tr>
<tr><th id="463">463</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="464">464</th><td><u>#<span data-ppcond="464">if</span> <a class="macro" href="#49" title="(5 &gt; 5 || (5 == 5 &amp;&amp; 10 &gt;= (5)))" data-ref="_M/DVBv5">DVBv5</a>(5)</u></td></tr>
<tr><th id="465">465</th><td>    <b>struct</b> <a class="type" href="../../../../include/linux/dvb/frontend.h.html#dtv_property" title='dtv_property' data-ref="dtv_property">dtv_property</a> <dfn class="local col2 decl" id="62prop" title='prop' data-type='struct dtv_property [2]' data-ref="62prop">prop</dfn>[<var>2</var>] = {</td></tr>
<tr><th id="466">466</th><td>        { .<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::cmd" title='dtv_property::cmd' data-ref="dtv_property::cmd">cmd</a> = <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#328" title="35" data-ref="_M/DTV_API_VERSION">DTV_API_VERSION</a> },</td></tr>
<tr><th id="467">467</th><td>        { .<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::cmd" title='dtv_property::cmd' data-ref="dtv_property::cmd">cmd</a> = <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#342" title="44" data-ref="_M/DTV_ENUM_DELSYS">DTV_ENUM_DELSYS</a> },</td></tr>
<tr><th id="468">468</th><td>    };</td></tr>
<tr><th id="469">469</th><td>    <b>struct</b> <a class="type" href="../../../../include/linux/dvb/frontend.h.html#dtv_properties" title='dtv_properties' data-ref="dtv_properties">dtv_properties</a> <dfn class="local col3 decl" id="63props" title='props' data-type='struct dtv_properties' data-ref="63props">props</dfn> = {</td></tr>
<tr><th id="470">470</th><td>        .<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_properties::num" title='dtv_properties::num' data-ref="dtv_properties::num">num</a> = <var>2</var>,</td></tr>
<tr><th id="471">471</th><td>        .<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_properties::props" title='dtv_properties::props' data-ref="dtv_properties::props">props</a> = <a class="local col2 ref" href="#62prop" title='prop' data-ref="62prop">prop</a></td></tr>
<tr><th id="472">472</th><td>    };</td></tr>
<tr><th id="473">473</th><td></td></tr>
<tr><th id="474">474</th><td>    <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#552" title="(((2U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((83)) &lt;&lt; 0) | ((((sizeof(struct dtv_properties)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_GET_PROPERTY">FE_GET_PROPERTY</a>, &amp;<a class="local col3 ref" href="#63props" title='props' data-ref="63props">props</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="475">475</th><td>    {</td></tr>
<tr><th id="476">476</th><td>         <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot enumerate frontend systems: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot enumerate frontend systems: %s"</q>,</td></tr>
<tr><th id="477">477</th><td>                  <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="478">478</th><td>         <b>goto</b> <a class="lbl" href="#64legacy" data-ref="64legacy">legacy</a>;</td></tr>
<tr><th id="479">479</th><td>    }</td></tr>
<tr><th id="480">480</th><td></td></tr>
<tr><th id="481">481</th><td>    <em>static</em> <em>const</em> <em>unsigned</em> <dfn class="local col5 decl" id="65systab" title='systab' data-type='const unsigned int [19]' data-ref="65systab">systab</dfn>[] = {</td></tr>
<tr><th id="482">482</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_UNDEFINED" title='fe_delivery_system::SYS_UNDEFINED' data-ref="fe_delivery_system::SYS_UNDEFINED">SYS_UNDEFINED</a>]    = <var>0</var>,</td></tr>
<tr><th id="483">483</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBC_ANNEX_A" title='fe_delivery_system::SYS_DVBC_ANNEX_A' data-ref="fe_delivery_system::SYS_DVBC_ANNEX_A">SYS_DVBC_ANNEX_A</a>] = <a class="enum" href="dtv.h.html#::DVB_C" title='::DVB_C' data-ref="::DVB_C">DVB_C</a>,</td></tr>
<tr><th id="484">484</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBC_ANNEX_B" title='fe_delivery_system::SYS_DVBC_ANNEX_B' data-ref="fe_delivery_system::SYS_DVBC_ANNEX_B">SYS_DVBC_ANNEX_B</a>] = <a class="enum" href="dtv.h.html#::CQAM" title='::CQAM' data-ref="::CQAM">CQAM</a>,</td></tr>
<tr><th id="485">485</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBT" title='fe_delivery_system::SYS_DVBT' data-ref="fe_delivery_system::SYS_DVBT">SYS_DVBT</a>]         = <a class="enum" href="dtv.h.html#::DVB_T" title='::DVB_T' data-ref="::DVB_T">DVB_T</a>,</td></tr>
<tr><th id="486">486</th><td>        <i>//[SYS_DSS]</i></td></tr>
<tr><th id="487">487</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBS" title='fe_delivery_system::SYS_DVBS' data-ref="fe_delivery_system::SYS_DVBS">SYS_DVBS</a>]         = <a class="enum" href="dtv.h.html#::DVB_S" title='::DVB_S' data-ref="::DVB_S">DVB_S</a>,</td></tr>
<tr><th id="488">488</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBS2" title='fe_delivery_system::SYS_DVBS2' data-ref="fe_delivery_system::SYS_DVBS2">SYS_DVBS2</a>]        = <a class="enum" href="dtv.h.html#::DVB_S2" title='::DVB_S2' data-ref="::DVB_S2">DVB_S2</a>,</td></tr>
<tr><th id="489">489</th><td>        <i>//[SYS_DVBH]</i></td></tr>
<tr><th id="490">490</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_ISDBT" title='fe_delivery_system::SYS_ISDBT' data-ref="fe_delivery_system::SYS_ISDBT">SYS_ISDBT</a>]        = <a class="enum" href="dtv.h.html#::ISDB_T" title='::ISDB_T' data-ref="::ISDB_T">ISDB_T</a>,</td></tr>
<tr><th id="491">491</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_ISDBS" title='fe_delivery_system::SYS_ISDBS' data-ref="fe_delivery_system::SYS_ISDBS">SYS_ISDBS</a>]        = <a class="enum" href="dtv.h.html#::ISDB_S" title='::ISDB_S' data-ref="::ISDB_S">ISDB_S</a>,</td></tr>
<tr><th id="492">492</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_ISDBC" title='fe_delivery_system::SYS_ISDBC' data-ref="fe_delivery_system::SYS_ISDBC">SYS_ISDBC</a>]        = <a class="enum" href="dtv.h.html#::ISDB_C" title='::ISDB_C' data-ref="::ISDB_C">ISDB_C</a>, <i>// no drivers exist (as of 3.3-rc6)</i></td></tr>
<tr><th id="493">493</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_ATSC" title='fe_delivery_system::SYS_ATSC' data-ref="fe_delivery_system::SYS_ATSC">SYS_ATSC</a>]         = <a class="enum" href="dtv.h.html#::ATSC" title='::ATSC' data-ref="::ATSC">ATSC</a>,</td></tr>
<tr><th id="494">494</th><td>        <i>//[SYS_ATSCMH]</i></td></tr>
<tr><th id="495">495</th><td><i>        //[SYS_DMBTH]</i></td></tr>
<tr><th id="496">496</th><td><i>        //[SYS_CMMB]</i></td></tr>
<tr><th id="497">497</th><td><i>        //[SYS_DAB]</i></td></tr>
<tr><th id="498">498</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBT2" title='fe_delivery_system::SYS_DVBT2' data-ref="fe_delivery_system::SYS_DVBT2">SYS_DVBT2</a>]        = <a class="enum" href="dtv.h.html#::DVB_T2" title='::DVB_T2' data-ref="::DVB_T2">DVB_T2</a>,</td></tr>
<tr><th id="499">499</th><td>        <i>//[SYS_TURBO]</i></td></tr>
<tr><th id="500">500</th><td>        [<a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBC_ANNEX_C" title='fe_delivery_system::SYS_DVBC_ANNEX_C' data-ref="fe_delivery_system::SYS_DVBC_ANNEX_C">SYS_DVBC_ANNEX_C</a>] = <a class="enum" href="dtv.h.html#::ISDB_C" title='::ISDB_C' data-ref="::ISDB_C">ISDB_C</a>, <i>// another name for ISDB-C?</i></td></tr>
<tr><th id="501">501</th><td>    };</td></tr>
<tr><th id="502">502</th><td>    <em>unsigned</em> <dfn class="local col6 decl" id="66systems" title='systems' data-type='unsigned int' data-ref="66systems">systems</dfn> = <var>0</var>;</td></tr>
<tr><th id="503">503</th><td></td></tr>
<tr><th id="504">504</th><td>    <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot;probing frontend (kernel API v%u.%u, user API v%u.%u)&quot;, prop[0].u.data &gt;&gt; 8, prop[0].u.data &amp; 0xFF, 5, 10 )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"probing frontend (kernel API v%u.%u, user API v%u.%u)"</q>,</td></tr>
<tr><th id="505">505</th><td>             <a class="local col2 ref" href="#62prop" title='prop' data-ref="62prop">prop</a>[<var>0</var>].<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::u" title='dtv_property::u' data-ref="dtv_property::u">u</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::{anonymous}::data" title='dtv_property::&lt;anonymous union&gt;::data' data-ref="dtv_property::{anonymous}::data">data</a> &gt;&gt; <var>8</var>, <a class="local col2 ref" href="#62prop" title='prop' data-ref="62prop">prop</a>[<var>0</var>].<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::u" title='dtv_property::u' data-ref="dtv_property::u">u</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::{anonymous}::data" title='dtv_property::&lt;anonymous union&gt;::data' data-ref="dtv_property::{anonymous}::data">data</a> &amp; <var>0xFF</var>,</td></tr>
<tr><th id="506">506</th><td>             <a class="macro" href="../../../../include/linux/dvb/version.h.html#26" title="5" data-ref="_M/DVB_API_VERSION">DVB_API_VERSION</a>, <a class="macro" href="../../../../include/linux/dvb/version.h.html#27" title="10" data-ref="_M/DVB_API_VERSION_MINOR">DVB_API_VERSION_MINOR</a>);</td></tr>
<tr><th id="507">507</th><td></td></tr>
<tr><th id="508">508</th><td>    <b>for</b> (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col7 decl" id="67i" title='i' data-type='size_t' data-ref="67i">i</dfn> = <var>0</var>; <a class="local col7 ref" href="#67i" title='i' data-ref="67i">i</a> &lt; <a class="local col2 ref" href="#62prop" title='prop' data-ref="62prop">prop</a>[<var>1</var>].<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::u" title='dtv_property::u' data-ref="dtv_property::u">u</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::{anonymous}::buffer" title='dtv_property::&lt;anonymous union&gt;::buffer' data-ref="dtv_property::{anonymous}::buffer">buffer</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::{anonymousunion}::{anonymous}::len" title='dtv_property::&lt;anonymous union&gt;::&lt;anonymous struct&gt;::len' data-ref="dtv_property::{anonymousunion}::{anonymous}::len">len</a>; <a class="local col7 ref" href="#67i" title='i' data-ref="67i">i</a>++)</td></tr>
<tr><th id="509">509</th><td>    {</td></tr>
<tr><th id="510">510</th><td>        <em>unsigned</em> <dfn class="local col8 decl" id="68sys" title='sys' data-type='unsigned int' data-ref="68sys">sys</dfn> = <a class="local col2 ref" href="#62prop" title='prop' data-ref="62prop">prop</a>[<var>1</var>].<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::u" title='dtv_property::u' data-ref="dtv_property::u">u</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::{anonymous}::buffer" title='dtv_property::&lt;anonymous union&gt;::buffer' data-ref="dtv_property::{anonymous}::buffer">buffer</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::{anonymousunion}::{anonymous}::data" title='dtv_property::&lt;anonymous union&gt;::&lt;anonymous struct&gt;::data' data-ref="dtv_property::{anonymousunion}::{anonymous}::data">data</a>[<a class="local col7 ref" href="#67i" title='i' data-ref="67i">i</a>];</td></tr>
<tr><th id="511">511</th><td></td></tr>
<tr><th id="512">512</th><td>        <b>if</b> (<a class="local col8 ref" href="#68sys" title='sys' data-ref="68sys">sys</a> &gt;= (<b>sizeof</b> (<a class="local col5 ref" href="#65systab" title='systab' data-ref="65systab">systab</a>) / <b>sizeof</b> (<a class="local col5 ref" href="#65systab" title='systab' data-ref="65systab">systab</a>[<var>0</var>])) || !<a class="local col5 ref" href="#65systab" title='systab' data-ref="65systab">systab</a>[<a class="local col8 ref" href="#68sys" title='sys' data-ref="68sys">sys</a>])</td></tr>
<tr><th id="513">513</th><td>        {</td></tr>
<tr><th id="514">514</th><td>            <a class="macro" href="../../../include/vlc_messages.h.html#75" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_WARN, dtv, &quot;unknown delivery system %u&quot;, sys )" data-ref="_M/msg_Warn">msg_Warn</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"unknown delivery system %u"</q>, <a class="local col8 ref" href="#68sys" title='sys' data-ref="68sys">sys</a>);</td></tr>
<tr><th id="515">515</th><td>            <b>continue</b>;</td></tr>
<tr><th id="516">516</th><td>        }</td></tr>
<tr><th id="517">517</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot; system %u&quot;, sys )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>" system %u"</q>, <a class="local col8 ref" href="#68sys" title='sys' data-ref="68sys">sys</a>);</td></tr>
<tr><th id="518">518</th><td>        <a class="local col6 ref" href="#66systems" title='systems' data-ref="66systems">systems</a> |= <a class="local col5 ref" href="#65systab" title='systab' data-ref="65systab">systab</a>[<a class="local col8 ref" href="#68sys" title='sys' data-ref="68sys">sys</a>];</td></tr>
<tr><th id="519">519</th><td>    }</td></tr>
<tr><th id="520">520</th><td></td></tr>
<tr><th id="521">521</th><td>    <b>return</b> <a class="local col6 ref" href="#66systems" title='systems' data-ref="66systems">systems</a>;</td></tr>
<tr><th id="522">522</th><td><dfn class="lbl" id="64legacy" data-ref="64legacy">legacy</dfn>:</td></tr>
<tr><th id="523">523</th><td>    <a class="local col3 ref" href="#63props" title='props' data-ref="63props">props</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_properties::num" title='dtv_properties::num' data-ref="dtv_properties::num">num</a> = <var>1</var>;</td></tr>
<tr><th id="524">524</th><td><u>#<span data-ppcond="464">else</span></u></td></tr>
<tr><th id="525">525</th><td>    <b>struct</b> dtv_property prop[<var>1</var>] = {</td></tr>
<tr><th id="526">526</th><td>        { .cmd = DTV_API_VERSION },</td></tr>
<tr><th id="527">527</th><td>    };</td></tr>
<tr><th id="528">528</th><td>    <b>struct</b> dtv_properties props = {</td></tr>
<tr><th id="529">529</th><td>        .num = <var>1</var>,</td></tr>
<tr><th id="530">530</th><td>        .props = prop</td></tr>
<tr><th id="531">531</th><td>    };</td></tr>
<tr><th id="532">532</th><td>    <em>unsigned</em> systems = <var>0</var>;</td></tr>
<tr><th id="533">533</th><td><u>#<span data-ppcond="464">endif</span></u></td></tr>
<tr><th id="534">534</th><td>    <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#552" title="(((2U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((83)) &lt;&lt; 0) | ((((sizeof(struct dtv_properties)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_GET_PROPERTY">FE_GET_PROPERTY</a>, &amp;<a class="local col3 ref" href="#63props" title='props' data-ref="63props">props</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="535">535</th><td>    {</td></tr>
<tr><th id="536">536</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;unsupported kernel DVB version 3 or older (%s)&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"unsupported kernel DVB version 3 or older (%s)"</q>,</td></tr>
<tr><th id="537">537</th><td>                 <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="538">538</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="539">539</th><td>    }</td></tr>
<tr><th id="540">540</th><td></td></tr>
<tr><th id="541">541</th><td>    <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot;probing frontend (kernel API v%u.%u, user API v%u.%u)&quot;, prop[0].u.data &gt;&gt; 8, prop[0].u.data &amp; 0xFF, 5, 10 )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"probing frontend (kernel API v%u.%u, user API v%u.%u)"</q>,</td></tr>
<tr><th id="542">542</th><td>             <a class="local col2 ref" href="#62prop" title='prop' data-ref="62prop">prop</a>[<var>0</var>].<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::u" title='dtv_property::u' data-ref="dtv_property::u">u</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::{anonymous}::data" title='dtv_property::&lt;anonymous union&gt;::data' data-ref="dtv_property::{anonymous}::data">data</a> &gt;&gt; <var>8</var>, <a class="local col2 ref" href="#62prop" title='prop' data-ref="62prop">prop</a>[<var>0</var>].<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::u" title='dtv_property::u' data-ref="dtv_property::u">u</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::{anonymous}::data" title='dtv_property::&lt;anonymous union&gt;::data' data-ref="dtv_property::{anonymous}::data">data</a> &amp; <var>0xFF</var>,</td></tr>
<tr><th id="543">543</th><td>             <a class="macro" href="../../../../include/linux/dvb/version.h.html#26" title="5" data-ref="_M/DVB_API_VERSION">DVB_API_VERSION</a>, <a class="macro" href="../../../../include/linux/dvb/version.h.html#27" title="10" data-ref="_M/DVB_API_VERSION_MINOR">DVB_API_VERSION_MINOR</a>);</td></tr>
<tr><th id="544">544</th><td><u>#<span data-ppcond="544">if</span> !<a class="macro" href="#49" title="(5 &gt; 5 || (5 == 5 &amp;&amp; 10 &gt;= (5)))" data-ref="_M/DVBv5">DVBv5</a>(5)</u></td></tr>
<tr><th id="545">545</th><td>    <i>/* Some delivery systems cannot be detected without the DVB API v5.5.</i></td></tr>
<tr><th id="546">546</th><td><i>     * To run correctly on recent kernels (Linux &gt;= 3.3),</i></td></tr>
<tr><th id="547">547</th><td><i>     * VLC needs to be compiled with up-to-date kernel headers. */</i></td></tr>
<tr><th id="548">548</th><td>    <b>if</b> ((prop[<var>0</var>].u.data &gt;&gt; <var>8</var>) &gt; <var>5</var></td></tr>
<tr><th id="549">549</th><td>     || ((prop[<var>0</var>].u.data &gt;&gt; <var>8</var>) == <var>5</var> &amp;&amp; (prop[<var>0</var>].u.data &amp; <var>0xFF</var>) &gt;= <var>5</var>))</td></tr>
<tr><th id="550">550</th><td>        msg_Err (d-&gt;obj, <q>"obsolete user API version running on a new kernel"</q>);</td></tr>
<tr><th id="551">551</th><td>        msg_Info (d-&gt;obj, <q>"please recompile "</q>PACKAGE_NAME<q>" "</q>PACKAGE_VERSION);</td></tr>
<tr><th id="552">552</th><td><u>#<span data-ppcond="544">endif</span></u></td></tr>
<tr><th id="553">553</th><td>    <b>struct</b> <a class="type" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info" title='dvb_frontend_info' data-ref="dvb_frontend_info">dvb_frontend_info</a> <dfn class="local col9 decl" id="69info" title='info' data-type='struct dvb_frontend_info' data-ref="69info">info</dfn>;</td></tr>
<tr><th id="554">554</th><td>    <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#565" title="(((2U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((61)) &lt;&lt; 0) | ((((sizeof(struct dvb_frontend_info)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_GET_INFO">FE_GET_INFO</a>, &amp;<a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="555">555</th><td>    {</td></tr>
<tr><th id="556">556</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot get frontend info: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot get frontend info: %s"</q>,</td></tr>
<tr><th id="557">557</th><td>                 <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="558">558</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="559">559</th><td>    }</td></tr>
<tr><th id="560">560</th><td>    <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot; name %s&quot;, info.name )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>" name %s"</q>, <a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::name" title='dvb_frontend_info::name' data-ref="dvb_frontend_info::name">name</a>);</td></tr>
<tr><th id="561">561</th><td>    <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot; type %u, capabilities 0x%08X&quot;, info.type, info.caps )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>" type %u, capabilities 0x%08X"</q>, <a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::type" title='dvb_frontend_info::type' data-ref="dvb_frontend_info::type">type</a>, <a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::caps" title='dvb_frontend_info::caps' data-ref="dvb_frontend_info::caps">caps</a>);</td></tr>
<tr><th id="562">562</th><td>    <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot; frequencies %10&quot;&quot;u&quot;&quot; to %10&quot;&quot;u&quot;, info.frequency_min, info.frequency_max )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>" frequencies %10"</q><a class="macro" href="../../../../include/inttypes.h.html#104" title="&quot;u&quot;" data-ref="_M/PRIu32">PRIu32</a><q>" to %10"</q><a class="macro" href="../../../../include/inttypes.h.html#104" title="&quot;u&quot;" data-ref="_M/PRIu32">PRIu32</a>,</td></tr>
<tr><th id="563">563</th><td>             <a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::frequency_min" title='dvb_frontend_info::frequency_min' data-ref="dvb_frontend_info::frequency_min">frequency_min</a>, <a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::frequency_max" title='dvb_frontend_info::frequency_max' data-ref="dvb_frontend_info::frequency_max">frequency_max</a>);</td></tr>
<tr><th id="564">564</th><td>    <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot; (%&quot;&quot;u&quot;&quot; tolerance, %&quot;&quot;u&quot;&quot; per step)&quot;, info.frequency_tolerance, info.frequency_stepsize )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>" (%"</q><a class="macro" href="../../../../include/inttypes.h.html#104" title="&quot;u&quot;" data-ref="_M/PRIu32">PRIu32</a><q>" tolerance, %"</q><a class="macro" href="../../../../include/inttypes.h.html#104" title="&quot;u&quot;" data-ref="_M/PRIu32">PRIu32</a><q>" per step)"</q>,</td></tr>
<tr><th id="565">565</th><td>             <a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::frequency_tolerance" title='dvb_frontend_info::frequency_tolerance' data-ref="dvb_frontend_info::frequency_tolerance">frequency_tolerance</a>, <a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::frequency_stepsize" title='dvb_frontend_info::frequency_stepsize' data-ref="dvb_frontend_info::frequency_stepsize">frequency_stepsize</a>);</td></tr>
<tr><th id="566">566</th><td>    <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot; bauds rates %10&quot;&quot;u&quot;&quot; to %10&quot;&quot;u&quot;, info.symbol_rate_min, info.symbol_rate_max )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>" bauds rates %10"</q><a class="macro" href="../../../../include/inttypes.h.html#104" title="&quot;u&quot;" data-ref="_M/PRIu32">PRIu32</a><q>" to %10"</q><a class="macro" href="../../../../include/inttypes.h.html#104" title="&quot;u&quot;" data-ref="_M/PRIu32">PRIu32</a>,</td></tr>
<tr><th id="567">567</th><td>             <a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::symbol_rate_min" title='dvb_frontend_info::symbol_rate_min' data-ref="dvb_frontend_info::symbol_rate_min">symbol_rate_min</a>, <a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::symbol_rate_max" title='dvb_frontend_info::symbol_rate_max' data-ref="dvb_frontend_info::symbol_rate_max">symbol_rate_max</a>);</td></tr>
<tr><th id="568">568</th><td>    <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot; (%&quot;&quot;u&quot;&quot; tolerance)&quot;, info.symbol_rate_tolerance )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>" (%"</q><a class="macro" href="../../../../include/inttypes.h.html#104" title="&quot;u&quot;" data-ref="_M/PRIu32">PRIu32</a><q>" tolerance)"</q>, <a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::symbol_rate_tolerance" title='dvb_frontend_info::symbol_rate_tolerance' data-ref="dvb_frontend_info::symbol_rate_tolerance">symbol_rate_tolerance</a>);</td></tr>
<tr><th id="569">569</th><td></td></tr>
<tr><th id="570">570</th><td>    <i>/* DVB first generation and ATSC */</i></td></tr>
<tr><th id="571">571</th><td>    <b>switch</b> (<a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::type" title='dvb_frontend_info::type' data-ref="dvb_frontend_info::type">type</a>)</td></tr>
<tr><th id="572">572</th><td>    {</td></tr>
<tr><th id="573">573</th><td>        <b>case</b> <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_type::FE_QPSK" title='fe_type::FE_QPSK' data-ref="fe_type::FE_QPSK">FE_QPSK</a>: <a class="local col6 ref" href="#66systems" title='systems' data-ref="66systems">systems</a> = <a class="enum" href="dtv.h.html#::DVB_S" title='::DVB_S' data-ref="::DVB_S">DVB_S</a>; <b>break</b>;</td></tr>
<tr><th id="574">574</th><td>        <b>case</b> <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_type::FE_QAM" title='fe_type::FE_QAM' data-ref="fe_type::FE_QAM">FE_QAM</a>:  <a class="local col6 ref" href="#66systems" title='systems' data-ref="66systems">systems</a> = <a class="enum" href="dtv.h.html#::DVB_C" title='::DVB_C' data-ref="::DVB_C">DVB_C</a>; <b>break</b>;</td></tr>
<tr><th id="575">575</th><td>        <b>case</b> <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_type::FE_OFDM" title='fe_type::FE_OFDM' data-ref="fe_type::FE_OFDM">FE_OFDM</a>: <a class="local col6 ref" href="#66systems" title='systems' data-ref="66systems">systems</a> = <a class="enum" href="dtv.h.html#::DVB_T" title='::DVB_T' data-ref="::DVB_T">DVB_T</a>; <b>break</b>;</td></tr>
<tr><th id="576">576</th><td>        <b>case</b> <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_type::FE_ATSC" title='fe_type::FE_ATSC' data-ref="fe_type::FE_ATSC">FE_ATSC</a>: <a class="local col6 ref" href="#66systems" title='systems' data-ref="66systems">systems</a> = <a class="enum" href="dtv.h.html#::ATSC" title='::ATSC' data-ref="::ATSC">ATSC</a> | <a class="enum" href="dtv.h.html#::CQAM" title='::CQAM' data-ref="::CQAM">CQAM</a>; <b>break</b>;</td></tr>
<tr><th id="577">577</th><td>        <b>default</b>:</td></tr>
<tr><th id="578">578</th><td>            <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;unknown frontend type %u&quot;, info.type )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col1 ref" href="#61d" title='d' data-ref="61d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"unknown frontend type %u"</q>, <a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::type" title='dvb_frontend_info::type' data-ref="dvb_frontend_info::type">type</a>);</td></tr>
<tr><th id="579">579</th><td>    }</td></tr>
<tr><th id="580">580</th><td></td></tr>
<tr><th id="581">581</th><td>    <i>/* DVB 2nd generation */</i></td></tr>
<tr><th id="582">582</th><td>    <b>switch</b> (<a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::type" title='dvb_frontend_info::type' data-ref="dvb_frontend_info::type">type</a>)</td></tr>
<tr><th id="583">583</th><td>    {</td></tr>
<tr><th id="584">584</th><td>        <b>case</b> <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_type::FE_QPSK" title='fe_type::FE_QPSK' data-ref="fe_type::FE_QPSK">FE_QPSK</a>:</td></tr>
<tr><th id="585">585</th><td>        <b>case</b> <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_type::FE_QAM" title='fe_type::FE_QAM' data-ref="fe_type::FE_QAM">FE_QAM</a>:</td></tr>
<tr><th id="586">586</th><td>        <b>case</b> <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_type::FE_OFDM" title='fe_type::FE_OFDM' data-ref="fe_type::FE_OFDM">FE_OFDM</a>:</td></tr>
<tr><th id="587">587</th><td>            <b>if</b> (<a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::caps" title='dvb_frontend_info::caps' data-ref="dvb_frontend_info::caps">caps</a> &amp; <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_caps::FE_CAN_2G_MODULATION" title='fe_caps::FE_CAN_2G_MODULATION' data-ref="fe_caps::FE_CAN_2G_MODULATION">FE_CAN_2G_MODULATION</a>)</td></tr>
<tr><th id="588">588</th><td>                <a class="local col6 ref" href="#66systems" title='systems' data-ref="66systems">systems</a> |= <a class="local col6 ref" href="#66systems" title='systems' data-ref="66systems">systems</a> &lt;&lt; <var>1</var>; <i>/* DVB_foo -&gt; DVB_foo|DVB_foo2 */</i></td></tr>
<tr><th id="589">589</th><td>        <b>default</b>:</td></tr>
<tr><th id="590">590</th><td>            <b>break</b>;</td></tr>
<tr><th id="591">591</th><td>    }</td></tr>
<tr><th id="592">592</th><td></td></tr>
<tr><th id="593">593</th><td>    <i>/* ISDB (only terrestrial before DVBv5.5)  */</i></td></tr>
<tr><th id="594">594</th><td>    <b>if</b> (<a class="local col9 ref" href="#69info" title='info' data-ref="69info">info</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_frontend_info::type" title='dvb_frontend_info::type' data-ref="dvb_frontend_info::type">type</a> == <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_type::FE_OFDM" title='fe_type::FE_OFDM' data-ref="fe_type::FE_OFDM">FE_OFDM</a>)</td></tr>
<tr><th id="595">595</th><td>        <a class="local col6 ref" href="#66systems" title='systems' data-ref="66systems">systems</a> |= <a class="enum" href="dtv.h.html#::ISDB_T" title='::ISDB_T' data-ref="::ISDB_T">ISDB_T</a>;</td></tr>
<tr><th id="596">596</th><td></td></tr>
<tr><th id="597">597</th><td>    <b>return</b> <a class="local col6 ref" href="#66systems" title='systems' data-ref="66systems">systems</a>;</td></tr>
<tr><th id="598">598</th><td>}</td></tr>
<tr><th id="599">599</th><td></td></tr>
<tr><th id="600">600</th><td><em>float</em> <dfn class="decl def" id="dvb_get_signal_strength" title='dvb_get_signal_strength' data-ref="dvb_get_signal_strength">dvb_get_signal_strength</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col0 decl" id="70d" title='d' data-type='dvb_device_t *' data-ref="70d">d</dfn>)</td></tr>
<tr><th id="601">601</th><td>{</td></tr>
<tr><th id="602">602</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col1 decl" id="71strength" title='strength' data-type='uint16_t' data-ref="71strength">strength</dfn>;</td></tr>
<tr><th id="603">603</th><td></td></tr>
<tr><th id="604">604</th><td>    <b>if</b> (<a class="local col0 ref" href="#70d" title='d' data-ref="70d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a> == -<var>1</var></td></tr>
<tr><th id="605">605</th><td>     || <a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col0 ref" href="#70d" title='d' data-ref="70d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#578" title="(((2U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((71)) &lt;&lt; 0) | ((((sizeof(__u16)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_READ_SIGNAL_STRENGTH">FE_READ_SIGNAL_STRENGTH</a>, &amp;<a class="local col1 ref" href="#71strength" title='strength' data-ref="71strength">strength</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="606">606</th><td>        <b>return</b> <var>0.</var>;</td></tr>
<tr><th id="607">607</th><td>    <b>return</b> <a class="local col1 ref" href="#71strength" title='strength' data-ref="71strength">strength</a> / <var>65535.</var>;</td></tr>
<tr><th id="608">608</th><td>}</td></tr>
<tr><th id="609">609</th><td></td></tr>
<tr><th id="610">610</th><td><em>float</em> <dfn class="decl def" id="dvb_get_snr" title='dvb_get_snr' data-ref="dvb_get_snr">dvb_get_snr</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col2 decl" id="72d" title='d' data-type='dvb_device_t *' data-ref="72d">d</dfn>)</td></tr>
<tr><th id="611">611</th><td>{</td></tr>
<tr><th id="612">612</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col3 decl" id="73snr" title='snr' data-type='uint16_t' data-ref="73snr">snr</dfn>;</td></tr>
<tr><th id="613">613</th><td></td></tr>
<tr><th id="614">614</th><td>    <b>if</b> (<a class="local col2 ref" href="#72d" title='d' data-ref="72d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a> == -<var>1</var> || <a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col2 ref" href="#72d" title='d' data-ref="72d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#579" title="(((2U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((72)) &lt;&lt; 0) | ((((sizeof(__u16)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_READ_SNR">FE_READ_SNR</a>, &amp;<a class="local col3 ref" href="#73snr" title='snr' data-ref="73snr">snr</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="615">615</th><td>        <b>return</b> <var>0.</var>;</td></tr>
<tr><th id="616">616</th><td>    <b>return</b> <a class="local col3 ref" href="#73snr" title='snr' data-ref="73snr">snr</a> / <var>65535.</var>;</td></tr>
<tr><th id="617">617</th><td>}</td></tr>
<tr><th id="618">618</th><td></td></tr>
<tr><th id="619">619</th><td><u>#<span data-ppcond="619">ifdef</span> <span class="macro" data-ref="_M/HAVE_DVBPSI">HAVE_DVBPSI</span></u></td></tr>
<tr><th id="620">620</th><td><em>void</em> <dfn class="decl def" id="dvb_set_ca_pmt" title='dvb_set_ca_pmt' data-ref="dvb_set_ca_pmt">dvb_set_ca_pmt</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col4 decl" id="74d" title='d' data-type='dvb_device_t *' data-ref="74d">d</dfn>, <b>struct</b> <a class="type" href="dtv.h.html#dvbpsi_pmt_s" title='dvbpsi_pmt_s' data-ref="dvbpsi_pmt_s">dvbpsi_pmt_s</a> *<dfn class="local col5 decl" id="75pmt" title='pmt' data-type='struct dvbpsi_pmt_s *' data-ref="75pmt">pmt</dfn>)</td></tr>
<tr><th id="621">621</th><td>{</td></tr>
<tr><th id="622">622</th><td>    <b>if</b> (<a class="local col4 ref" href="#74d" title='d' data-ref="74d">d</a>-&gt;<a class="ref" href="#dvb_device::cam" title='dvb_device::cam' data-ref="dvb_device::cam">cam</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="623">623</th><td>        <a class="ref" href="en50221.h.html#en50221_SetCAPMT" title='en50221_SetCAPMT' data-ref="en50221_SetCAPMT">en50221_SetCAPMT</a> (<a class="local col4 ref" href="#74d" title='d' data-ref="74d">d</a>-&gt;<a class="ref" href="#dvb_device::cam" title='dvb_device::cam' data-ref="dvb_device::cam">cam</a>, <a class="local col5 ref" href="#75pmt" title='pmt' data-ref="75pmt">pmt</a>);</td></tr>
<tr><th id="624">624</th><td>}</td></tr>
<tr><th id="625">625</th><td><u>#<span data-ppcond="619">endif</span></u></td></tr>
<tr><th id="626">626</th><td></td></tr>
<tr><th id="627">627</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_vset_props" title='dvb_vset_props' data-type='int dvb_vset_props(dvb_device_t * d, size_t n, __va_list_tag * ap)' data-ref="dvb_vset_props">dvb_vset_props</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col6 decl" id="76d" title='d' data-type='dvb_device_t *' data-ref="76d">d</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col7 decl" id="77n" title='n' data-type='size_t' data-ref="77n">n</dfn>, <span class='typedef' title='va_list' data-type='__gnuc_va_list' data-ref="va_list">va_list</span> <dfn class="local col8 decl" id="78ap" title='ap' data-type='__va_list_tag *' data-ref="78ap">ap</dfn>)</td></tr>
<tr><th id="628">628</th><td>{</td></tr>
<tr><th id="629">629</th><td>    <a class="macro" href="../../../../include/assert.h.html#88" title="((n &lt;= 64) ? (void) (0) : __assert_fail (&quot;n &lt;= 64&quot;, &quot;/usr/local/google/home/robertshih/git/vlc/modules/access/dtv/linux.c&quot;, 629, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a> (<a class="local col7 ref" href="#77n" title='n' data-ref="77n">n</a> &lt;= <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#544" title="64" data-ref="_M/DTV_IOCTL_MAX_MSGS">DTV_IOCTL_MAX_MSGS</a>);</td></tr>
<tr><th id="630">630</th><td></td></tr>
<tr><th id="631">631</th><td>    <b>struct</b> <a class="type" href="../../../../include/linux/dvb/frontend.h.html#dtv_property" title='dtv_property' data-ref="dtv_property">dtv_property</a> <dfn class="local col9 decl" id="79buf" title='buf' data-type='struct dtv_property [n]' data-ref="79buf">buf</dfn>[<a class="local col7 ref" href="#77n" title='n' data-ref="77n">n</a>], *<dfn class="local col0 decl" id="80prop" title='prop' data-type='struct dtv_property *' data-ref="80prop">prop</dfn> = <a class="local col9 ref" href="#79buf" title='buf' data-ref="79buf">buf</a>;</td></tr>
<tr><th id="632">632</th><td>    <b>struct</b> <a class="type" href="../../../../include/linux/dvb/frontend.h.html#dtv_properties" title='dtv_properties' data-ref="dtv_properties">dtv_properties</a> <dfn class="local col1 decl" id="81props" title='props' data-type='struct dtv_properties' data-ref="81props">props</dfn> = { .<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_properties::num" title='dtv_properties::num' data-ref="dtv_properties::num">num</a> = <a class="local col7 ref" href="#77n" title='n' data-ref="77n">n</a>, .<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_properties::props" title='dtv_properties::props' data-ref="dtv_properties::props">props</a> = <a class="local col9 ref" href="#79buf" title='buf' data-ref="79buf">buf</a> };</td></tr>
<tr><th id="633">633</th><td></td></tr>
<tr><th id="634">634</th><td>    <a class="ref" href="../../../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a> (<a class="local col9 ref" href="#79buf" title='buf' data-ref="79buf">buf</a>, <var>0</var>, <b>sizeof</b> (<a class="local col9 ref" href="#79buf" title='buf' data-ref="79buf">buf</a>));</td></tr>
<tr><th id="635">635</th><td></td></tr>
<tr><th id="636">636</th><td>    <b>while</b> (<a class="local col7 ref" href="#77n" title='n' data-ref="77n">n</a> &gt; <var>0</var>)</td></tr>
<tr><th id="637">637</th><td>    {</td></tr>
<tr><th id="638">638</th><td>        <a class="local col0 ref" href="#80prop" title='prop' data-ref="80prop">prop</a>-&gt;<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::cmd" title='dtv_property::cmd' data-ref="dtv_property::cmd">cmd</a> = <span class="macro" title="__builtin_va_arg(ap, uint32_t)" data-ref="_M/va_arg">va_arg</span> (<a class="local col8 ref" href="#78ap" title='ap' data-ref="78ap">ap</a>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a>);</td></tr>
<tr><th id="639">639</th><td>        <a class="local col0 ref" href="#80prop" title='prop' data-ref="80prop">prop</a>-&gt;<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::u" title='dtv_property::u' data-ref="dtv_property::u">u</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::{anonymous}::data" title='dtv_property::&lt;anonymous union&gt;::data' data-ref="dtv_property::{anonymous}::data">data</a> = <span class="macro" title="__builtin_va_arg(ap, uint32_t)" data-ref="_M/va_arg">va_arg</span> (<a class="local col8 ref" href="#78ap" title='ap' data-ref="78ap">ap</a>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a>);</td></tr>
<tr><th id="640">640</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot;setting property %2&quot;&quot;u&quot;&quot; to %&quot;&quot;u&quot;, prop-&gt;cmd, prop-&gt;u.data )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col6 ref" href="#76d" title='d' data-ref="76d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"setting property %2"</q><a class="macro" href="../../../../include/inttypes.h.html#104" title="&quot;u&quot;" data-ref="_M/PRIu32">PRIu32</a><q>" to %"</q><a class="macro" href="../../../../include/inttypes.h.html#104" title="&quot;u&quot;" data-ref="_M/PRIu32">PRIu32</a>,</td></tr>
<tr><th id="641">641</th><td>                 <a class="local col0 ref" href="#80prop" title='prop' data-ref="80prop">prop</a>-&gt;<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::cmd" title='dtv_property::cmd' data-ref="dtv_property::cmd">cmd</a>, <a class="local col0 ref" href="#80prop" title='prop' data-ref="80prop">prop</a>-&gt;<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::u" title='dtv_property::u' data-ref="dtv_property::u">u</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dtv_property::{anonymous}::data" title='dtv_property::&lt;anonymous union&gt;::data' data-ref="dtv_property::{anonymous}::data">data</a>);</td></tr>
<tr><th id="642">642</th><td>        <a class="local col0 ref" href="#80prop" title='prop' data-ref="80prop">prop</a>++;</td></tr>
<tr><th id="643">643</th><td>        <a class="local col7 ref" href="#77n" title='n' data-ref="77n">n</a>--;</td></tr>
<tr><th id="644">644</th><td>    }</td></tr>
<tr><th id="645">645</th><td></td></tr>
<tr><th id="646">646</th><td>    <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col6 ref" href="#76d" title='d' data-ref="76d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#551" title="(((1U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((82)) &lt;&lt; 0) | ((((sizeof(struct dtv_properties)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_SET_PROPERTY">FE_SET_PROPERTY</a>, &amp;<a class="local col1 ref" href="#81props" title='props' data-ref="81props">props</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="647">647</th><td>    {</td></tr>
<tr><th id="648">648</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot set frontend tuning parameters: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col6 ref" href="#76d" title='d' data-ref="76d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot set frontend tuning parameters: %s"</q>,</td></tr>
<tr><th id="649">649</th><td>                 <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="650">650</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="651">651</th><td>    }</td></tr>
<tr><th id="652">652</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="653">653</th><td>}</td></tr>
<tr><th id="654">654</th><td></td></tr>
<tr><th id="655">655</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_set_props" title='dvb_set_props' data-type='int dvb_set_props(dvb_device_t * d, size_t n)' data-ref="dvb_set_props">dvb_set_props</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col2 decl" id="82d" title='d' data-type='dvb_device_t *' data-ref="82d">d</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col3 decl" id="83n" title='n' data-type='size_t' data-ref="83n">n</dfn>, ...)</td></tr>
<tr><th id="656">656</th><td>{</td></tr>
<tr><th id="657">657</th><td>    <span class='typedef' title='va_list' data-type='__gnuc_va_list' data-ref="va_list">va_list</span> <dfn class="local col4 decl" id="84ap" title='ap' data-type='va_list' data-ref="84ap">ap</dfn>;</td></tr>
<tr><th id="658">658</th><td>    <em>int</em> <dfn class="local col5 decl" id="85ret" title='ret' data-type='int' data-ref="85ret">ret</dfn>;</td></tr>
<tr><th id="659">659</th><td></td></tr>
<tr><th id="660">660</th><td>    <span class="macro" title="__builtin_va_start(ap, n)" data-ref="_M/va_start">va_start</span> (<a class="local col4 ref" href="#84ap" title='ap' data-ref="84ap">ap</a>, <a class="local col3 ref" href="#83n" title='n' data-ref="83n">n</a>);</td></tr>
<tr><th id="661">661</th><td>    <a class="local col5 ref" href="#85ret" title='ret' data-ref="85ret">ret</a> = <a class="tu ref" href="#dvb_vset_props" title='dvb_vset_props' data-use='c' data-ref="dvb_vset_props">dvb_vset_props</a> (<a class="local col2 ref" href="#82d" title='d' data-ref="82d">d</a>, <a class="local col3 ref" href="#83n" title='n' data-ref="83n">n</a>, <a class="local col4 ref" href="#84ap" title='ap' data-ref="84ap">ap</a>);</td></tr>
<tr><th id="662">662</th><td>    <span class="macro" title="__builtin_va_end(ap)" data-ref="_M/va_end">va_end</span> (<a class="local col4 ref" href="#84ap" title='ap' data-ref="84ap">ap</a>);</td></tr>
<tr><th id="663">663</th><td>    <b>return</b> <a class="local col5 ref" href="#85ret" title='ret' data-ref="85ret">ret</a>;</td></tr>
<tr><th id="664">664</th><td>}</td></tr>
<tr><th id="665">665</th><td></td></tr>
<tr><th id="666">666</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_set_prop" title='dvb_set_prop' data-type='int dvb_set_prop(dvb_device_t * d, uint32_t prop, uint32_t val)' data-ref="dvb_set_prop">dvb_set_prop</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col6 decl" id="86d" title='d' data-type='dvb_device_t *' data-ref="86d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="87prop" title='prop' data-type='uint32_t' data-ref="87prop">prop</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="88val" title='val' data-type='uint32_t' data-ref="88val">val</dfn>)</td></tr>
<tr><th id="667">667</th><td>{</td></tr>
<tr><th id="668">668</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col6 ref" href="#86d" title='d' data-ref="86d">d</a>, <var>1</var>, <a class="local col7 ref" href="#87prop" title='prop' data-ref="87prop">prop</a>, <a class="local col8 ref" href="#88val" title='val' data-ref="88val">val</a>);</td></tr>
<tr><th id="669">669</th><td>}</td></tr>
<tr><th id="670">670</th><td></td></tr>
<tr><th id="671">671</th><td><em>int</em> <dfn class="decl def" id="dvb_set_inversion" title='dvb_set_inversion' data-ref="dvb_set_inversion">dvb_set_inversion</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col9 decl" id="89d" title='d' data-type='dvb_device_t *' data-ref="89d">d</dfn>, <em>int</em> <dfn class="local col0 decl" id="90v" title='v' data-type='int' data-ref="90v">v</dfn>)</td></tr>
<tr><th id="672">672</th><td>{</td></tr>
<tr><th id="673">673</th><td>    <b>switch</b> (<a class="local col0 ref" href="#90v" title='v' data-ref="90v">v</a>)</td></tr>
<tr><th id="674">674</th><td>    {</td></tr>
<tr><th id="675">675</th><td>        <b>case</b> <var>0</var>:  <a class="local col0 ref" href="#90v" title='v' data-ref="90v">v</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_spectral_inversion::INVERSION_OFF" title='fe_spectral_inversion::INVERSION_OFF' data-ref="fe_spectral_inversion::INVERSION_OFF">INVERSION_OFF</a>;  <b>break</b>;</td></tr>
<tr><th id="676">676</th><td>        <b>case</b> <var>1</var>:  <a class="local col0 ref" href="#90v" title='v' data-ref="90v">v</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_spectral_inversion::INVERSION_ON" title='fe_spectral_inversion::INVERSION_ON' data-ref="fe_spectral_inversion::INVERSION_ON">INVERSION_ON</a>;   <b>break</b>;</td></tr>
<tr><th id="677">677</th><td>        <b>default</b>: <a class="local col0 ref" href="#90v" title='v' data-ref="90v">v</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_spectral_inversion::INVERSION_AUTO" title='fe_spectral_inversion::INVERSION_AUTO' data-ref="fe_spectral_inversion::INVERSION_AUTO">INVERSION_AUTO</a>; <b>break</b>;</td></tr>
<tr><th id="678">678</th><td>    }</td></tr>
<tr><th id="679">679</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_prop" title='dvb_set_prop' data-use='c' data-ref="dvb_set_prop">dvb_set_prop</a> (<a class="local col9 ref" href="#89d" title='d' data-ref="89d">d</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#290" title="6" data-ref="_M/DTV_INVERSION">DTV_INVERSION</a>, <a class="local col0 ref" href="#90v" title='v' data-ref="90v">v</a>);</td></tr>
<tr><th id="680">680</th><td>}</td></tr>
<tr><th id="681">681</th><td></td></tr>
<tr><th id="682">682</th><td><em>int</em> <dfn class="decl def" id="dvb_tune" title='dvb_tune' data-ref="dvb_tune">dvb_tune</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col1 decl" id="91d" title='d' data-type='dvb_device_t *' data-ref="91d">d</dfn>)</td></tr>
<tr><th id="683">683</th><td>{</td></tr>
<tr><th id="684">684</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_prop" title='dvb_set_prop' data-use='c' data-ref="dvb_set_prop">dvb_set_prop</a> (<a class="local col1 ref" href="#91d" title='d' data-ref="91d">d</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#285" title="1" data-ref="_M/DTV_TUNE">DTV_TUNE</a>, <var>0</var> <i>/* dummy */</i>);</td></tr>
<tr><th id="685">685</th><td>}</td></tr>
<tr><th id="686">686</th><td></td></tr>
<tr><th id="687">687</th><td></td></tr>
<tr><th id="688">688</th><td><i>/*** DVB-C ***/</i></td></tr>
<tr><th id="689">689</th><td><em>int</em> <dfn class="decl def" id="dvb_set_dvbc" title='dvb_set_dvbc' data-ref="dvb_set_dvbc">dvb_set_dvbc</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col2 decl" id="92d" title='d' data-type='dvb_device_t *' data-ref="92d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="93freq" title='freq' data-type='uint32_t' data-ref="93freq">freq</dfn>, <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="94modstr" title='modstr' data-type='const char *' data-ref="94modstr">modstr</dfn>,</td></tr>
<tr><th id="690">690</th><td>                  <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="95srate" title='srate' data-type='uint32_t' data-ref="95srate">srate</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="96fec" title='fec' data-type='uint32_t' data-ref="96fec">fec</dfn>)</td></tr>
<tr><th id="691">691</th><td>{</td></tr>
<tr><th id="692">692</th><td>    <em>unsigned</em> <dfn class="local col7 decl" id="97mod" title='mod' data-type='unsigned int' data-ref="97mod">mod</dfn> = <a class="tu ref" href="#dvb_parse_modulation" title='dvb_parse_modulation' data-use='c' data-ref="dvb_parse_modulation">dvb_parse_modulation</a> (<a class="local col4 ref" href="#94modstr" title='modstr' data-ref="94modstr">modstr</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_AUTO" title='fe_modulation::QAM_AUTO' data-ref="fe_modulation::QAM_AUTO">QAM_AUTO</a>);</td></tr>
<tr><th id="693">693</th><td>    <a class="local col6 ref" href="#96fec" title='fec' data-ref="96fec">fec</a> = <a class="tu ref" href="#dvb_parse_fec" title='dvb_parse_fec' data-use='c' data-ref="dvb_parse_fec">dvb_parse_fec</a> (<a class="local col6 ref" href="#96fec" title='fec' data-ref="96fec">fec</a>);</td></tr>
<tr><th id="694">694</th><td></td></tr>
<tr><th id="695">695</th><td>    <b>if</b> (<a class="macro" href="#454" title="(dvb_open_frontend(d))" data-ref="_M/dvb_find_frontend">dvb_find_frontend</a> (<a class="local col2 ref" href="#92d" title='d' data-ref="92d">d</a>, DVB_C))</td></tr>
<tr><th id="696">696</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="697">697</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col2 ref" href="#92d" title='d' data-ref="92d">d</a>, <var>6</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#286" title="2" data-ref="_M/DTV_CLEAR">DTV_CLEAR</a>, <var>0</var>,</td></tr>
<tr><th id="698">698</th><td><u>#<span data-ppcond="698">if</span> <a class="macro" href="#49" title="(5 &gt; 5 || (5 == 5 &amp;&amp; 10 &gt;= (5)))" data-ref="_M/DVBv5">DVBv5</a>(5)</u></td></tr>
<tr><th id="699">699</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#303" title="17" data-ref="_M/DTV_DELIVERY_SYSTEM">DTV_DELIVERY_SYSTEM</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBC_ANNEX_A" title='fe_delivery_system::SYS_DVBC_ANNEX_A' data-ref="fe_delivery_system::SYS_DVBC_ANNEX_A">SYS_DVBC_ANNEX_A</a>,</td></tr>
<tr><th id="700">700</th><td><u>#<span data-ppcond="698">else</span></u></td></tr>
<tr><th id="701">701</th><td>                          DTV_DELIVERY_SYSTEM, SYS_DVBC_ANNEX_AC,</td></tr>
<tr><th id="702">702</th><td><u>#<span data-ppcond="698">endif</span></u></td></tr>
<tr><th id="703">703</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#287" title="3" data-ref="_M/DTV_FREQUENCY">DTV_FREQUENCY</a>, <a class="local col3 ref" href="#93freq" title='freq' data-ref="93freq">freq</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#288" title="4" data-ref="_M/DTV_MODULATION">DTV_MODULATION</a>, <a class="local col7 ref" href="#97mod" title='mod' data-ref="97mod">mod</a>,</td></tr>
<tr><th id="704">704</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#292" title="8" data-ref="_M/DTV_SYMBOL_RATE">DTV_SYMBOL_RATE</a>, <a class="local col5 ref" href="#95srate" title='srate' data-ref="95srate">srate</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#293" title="9" data-ref="_M/DTV_INNER_FEC">DTV_INNER_FEC</a>, <a class="local col6 ref" href="#96fec" title='fec' data-ref="96fec">fec</a>);</td></tr>
<tr><th id="705">705</th><td>}</td></tr>
<tr><th id="706">706</th><td></td></tr>
<tr><th id="707">707</th><td></td></tr>
<tr><th id="708">708</th><td><i  data-doc="dvb_parse_polarization">/*** DVB-S ***/</i></td></tr>
<tr><th id="709">709</th><td><em>static</em> <em>unsigned</em> <dfn class="tu decl def" id="dvb_parse_polarization" title='dvb_parse_polarization' data-type='unsigned int dvb_parse_polarization(char pol)' data-ref="dvb_parse_polarization">dvb_parse_polarization</dfn> (<em>char</em> <dfn class="local col8 decl" id="98pol" title='pol' data-type='char' data-ref="98pol">pol</dfn>)</td></tr>
<tr><th id="710">710</th><td>{</td></tr>
<tr><th id="711">711</th><td>    <em>static</em> <em>const</em> <a class="typedef" href="#dvb_int_map_t" title='dvb_int_map_t' data-type='struct dvb_int_map_t' data-ref="dvb_int_map_t">dvb_int_map_t</a> <dfn class="local col9 decl" id="99tab" title='tab' data-type='const dvb_int_map_t [5]' data-ref="99tab">tab</dfn>[<var>5</var>] = {</td></tr>
<tr><th id="712">712</th><td>        { <var>0</var>,   <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_voltage::SEC_VOLTAGE_OFF" title='fe_sec_voltage::SEC_VOLTAGE_OFF' data-ref="fe_sec_voltage::SEC_VOLTAGE_OFF">SEC_VOLTAGE_OFF</a> },</td></tr>
<tr><th id="713">713</th><td>        { <kbd>'H'</kbd>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_voltage::SEC_VOLTAGE_18" title='fe_sec_voltage::SEC_VOLTAGE_18' data-ref="fe_sec_voltage::SEC_VOLTAGE_18">SEC_VOLTAGE_18</a>  },</td></tr>
<tr><th id="714">714</th><td>        { <kbd>'L'</kbd>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_voltage::SEC_VOLTAGE_18" title='fe_sec_voltage::SEC_VOLTAGE_18' data-ref="fe_sec_voltage::SEC_VOLTAGE_18">SEC_VOLTAGE_18</a>  },</td></tr>
<tr><th id="715">715</th><td>        { <kbd>'R'</kbd>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_voltage::SEC_VOLTAGE_13" title='fe_sec_voltage::SEC_VOLTAGE_13' data-ref="fe_sec_voltage::SEC_VOLTAGE_13">SEC_VOLTAGE_13</a>  },</td></tr>
<tr><th id="716">716</th><td>        { <kbd>'V'</kbd>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_voltage::SEC_VOLTAGE_13" title='fe_sec_voltage::SEC_VOLTAGE_13' data-ref="fe_sec_voltage::SEC_VOLTAGE_13">SEC_VOLTAGE_13</a>  },</td></tr>
<tr><th id="717">717</th><td>    };</td></tr>
<tr><th id="718">718</th><td>    <b>return</b> <a class="tu ref" href="#dvb_parse_int" title='dvb_parse_int' data-use='c' data-ref="dvb_parse_int">dvb_parse_int</a> (<a class="local col8 ref" href="#98pol" title='pol' data-ref="98pol">pol</a>, <a class="local col9 ref" href="#99tab" title='tab' data-ref="99tab">tab</a>, <var>5</var>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_voltage::SEC_VOLTAGE_OFF" title='fe_sec_voltage::SEC_VOLTAGE_OFF' data-ref="fe_sec_voltage::SEC_VOLTAGE_OFF">SEC_VOLTAGE_OFF</a>);</td></tr>
<tr><th id="719">719</th><td>}</td></tr>
<tr><th id="720">720</th><td></td></tr>
<tr><th id="721">721</th><td><em>int</em> <dfn class="decl def" id="dvb_set_sec" title='dvb_set_sec' data-ref="dvb_set_sec">dvb_set_sec</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col0 decl" id="100d" title='d' data-type='dvb_device_t *' data-ref="100d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col1 decl" id="101freq_Hz" title='freq_Hz' data-type='uint64_t' data-ref="101freq_Hz">freq_Hz</dfn>, <em>char</em> <dfn class="local col2 decl" id="102pol" title='pol' data-type='char' data-ref="102pol">pol</dfn>,</td></tr>
<tr><th id="722">722</th><td>                 <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="103lowf" title='lowf' data-type='uint32_t' data-ref="103lowf">lowf</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col4 decl" id="104highf" title='highf' data-type='uint32_t' data-ref="104highf">highf</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="105switchf" title='switchf' data-type='uint32_t' data-ref="105switchf">switchf</dfn>)</td></tr>
<tr><th id="723">723</th><td>{</td></tr>
<tr><th id="724">724</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="106freq" title='freq' data-type='uint32_t' data-ref="106freq">freq</dfn> = <a class="local col1 ref" href="#101freq_Hz" title='freq_Hz' data-ref="101freq_Hz">freq_Hz</a> / <var>1000</var>;</td></tr>
<tr><th id="725">725</th><td></td></tr>
<tr><th id="726">726</th><td>    <i>/* Always try to configure high voltage, but only warn on enable failure */</i></td></tr>
<tr><th id="727">727</th><td>    <em>int</em> <dfn class="local col7 decl" id="107val" title='val' data-type='int' data-ref="107val">val</dfn> = <a class="macro" href="../../../include/vlc_variables.h.html#676" title="var_InheritBool(__builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), &quot;dvb-high-voltage&quot;)" data-ref="_M/var_InheritBool">var_InheritBool</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"dvb-high-voltage"</q>);</td></tr>
<tr><th id="728">728</th><td>    <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#574" title="(((0U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((68)) &lt;&lt; 0) | ((0) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_ENABLE_HIGH_LNB_VOLTAGE">FE_ENABLE_HIGH_LNB_VOLTAGE</a>, &amp;<a class="local col7 ref" href="#107val" title='val' data-ref="107val">val</a>) &lt; <var>0</var> &amp;&amp; <a class="local col7 ref" href="#107val" title='val' data-ref="107val">val</a>)</td></tr>
<tr><th id="729">729</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot enable high LNB voltage: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot enable high LNB voltage: %s"</q>,</td></tr>
<tr><th id="730">730</th><td>                 <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="731">731</th><td></td></tr>
<tr><th id="732">732</th><td>    <i>/* Windows BDA exposes a higher-level API covering LNB oscillators.</i></td></tr>
<tr><th id="733">733</th><td><i>     * So lets pretend this is platform-specific stuff and do it here. */</i></td></tr>
<tr><th id="734">734</th><td>    <b>if</b> (!<a class="local col3 ref" href="#103lowf" title='lowf' data-ref="103lowf">lowf</a>)</td></tr>
<tr><th id="735">735</th><td>    {   <i>/* Default oscillator frequencies */</i></td></tr>
<tr><th id="736">736</th><td>        <em>static</em> <em>const</em> <b>struct</b></td></tr>
<tr><th id="737">737</th><td>        {</td></tr>
<tr><th id="738">738</th><td>             <a class="typedef" href="../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col8 decl" id="108min" title='min' data-type='uint16_t' data-ref="108min">min</dfn>, <dfn class="local col9 decl" id="109max" title='max' data-type='uint16_t' data-ref="109max">max</dfn>, <dfn class="local col0 decl" id="110low" title='low' data-type='uint16_t' data-ref="110low">low</dfn>, <dfn class="local col1 decl" id="111high" title='high' data-type='uint16_t' data-ref="111high">high</dfn>;</td></tr>
<tr><th id="739">739</th><td>        } <dfn class="local col2 decl" id="112tab" title='tab' data-type='const struct &lt;anonymous struct at /usr/local/google/home/robertshih/git/vlc/modules/access/dtv/linux.c:736:22&gt; [5]' data-ref="112tab">tab</dfn>[] =</td></tr>
<tr><th id="740">740</th><td>        {    <i>/*  min    max    low   high */</i></td></tr>
<tr><th id="741">741</th><td>             { <var>10700</var>, <var>13250</var>,  <var>9750</var>, <var>10600</var> }, <i>/* Ku band */</i></td></tr>
<tr><th id="742">742</th><td>             {  <var>4500</var>,  <var>4800</var>,  <var>5950</var>,     <var>0</var> }, <i>/* C band (high) */</i></td></tr>
<tr><th id="743">743</th><td>             {  <var>3400</var>,  <var>4200</var>,  <var>5150</var>,     <var>0</var> }, <i>/* C band (low) */</i></td></tr>
<tr><th id="744">744</th><td>             {  <var>2500</var>,  <var>2700</var>,  <var>3650</var>,     <var>0</var> }, <i>/* S band */</i></td></tr>
<tr><th id="745">745</th><td>             {   <var>950</var>,  <var>2150</var>,     <var>0</var>,     <var>0</var> }, <i>/* adjusted IF (L band) */</i></td></tr>
<tr><th id="746">746</th><td>        };</td></tr>
<tr><th id="747">747</th><td>        <a class="typedef" href="../../../../include/stdint.h.html#uint_fast16_t" title='uint_fast16_t' data-type='unsigned long' data-ref="uint_fast16_t">uint_fast16_t</a> <dfn class="local col3 decl" id="113mHz" title='mHz' data-type='uint_fast16_t' data-ref="113mHz">mHz</dfn> = <a class="local col6 ref" href="#106freq" title='freq' data-ref="106freq">freq</a> / <var>1000</var>;</td></tr>
<tr><th id="748">748</th><td></td></tr>
<tr><th id="749">749</th><td>        <b>for</b> (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col4 decl" id="114i" title='i' data-type='size_t' data-ref="114i">i</dfn> = <var>0</var>; <a class="local col4 ref" href="#114i" title='i' data-ref="114i">i</a> &lt; <b>sizeof</b> (<a class="local col2 ref" href="#112tab" title='tab' data-ref="112tab">tab</a>) / <b>sizeof</b> (<a class="local col2 ref" href="#112tab" title='tab' data-ref="112tab">tab</a>[<var>0</var>]); <a class="local col4 ref" href="#114i" title='i' data-ref="114i">i</a>++)</td></tr>
<tr><th id="750">750</th><td>             <b>if</b> (<a class="local col3 ref" href="#113mHz" title='mHz' data-ref="113mHz">mHz</a> &gt;= <a class="local col2 ref" href="#112tab" title='tab' data-ref="112tab">tab</a>[<a class="local col4 ref" href="#114i" title='i' data-ref="114i">i</a>].<a class="local col8 ref" href="#108min" title='min' data-ref="108min">min</a> &amp;&amp; <a class="local col3 ref" href="#113mHz" title='mHz' data-ref="113mHz">mHz</a> &lt;= <a class="local col2 ref" href="#112tab" title='tab' data-ref="112tab">tab</a>[<a class="local col4 ref" href="#114i" title='i' data-ref="114i">i</a>].<a class="local col9 ref" href="#109max" title='max' data-ref="109max">max</a>)</td></tr>
<tr><th id="751">751</th><td>             {</td></tr>
<tr><th id="752">752</th><td>                 <a class="local col3 ref" href="#103lowf" title='lowf' data-ref="103lowf">lowf</a> = <a class="local col2 ref" href="#112tab" title='tab' data-ref="112tab">tab</a>[<a class="local col4 ref" href="#114i" title='i' data-ref="114i">i</a>].<a class="local col0 ref" href="#110low" title='low' data-ref="110low">low</a> * <var>1000</var>;</td></tr>
<tr><th id="753">753</th><td>                 <a class="local col4 ref" href="#104highf" title='highf' data-ref="104highf">highf</a> = <a class="local col2 ref" href="#112tab" title='tab' data-ref="112tab">tab</a>[<a class="local col4 ref" href="#114i" title='i' data-ref="114i">i</a>].<a class="local col1 ref" href="#111high" title='high' data-ref="111high">high</a> * <var>1000</var>;</td></tr>
<tr><th id="754">754</th><td>                 <b>goto</b> <a class="lbl" href="#115known" data-ref="115known">known</a>;</td></tr>
<tr><th id="755">755</th><td>             }</td></tr>
<tr><th id="756">756</th><td></td></tr>
<tr><th id="757">757</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;no known band for frequency %u kHz&quot;, freq )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"no known band for frequency %u kHz"</q>, <a class="local col6 ref" href="#106freq" title='freq' data-ref="106freq">freq</a>);</td></tr>
<tr><th id="758">758</th><td><dfn class="lbl" id="115known" data-ref="115known">known</dfn>:</td></tr>
<tr><th id="759">759</th><td>        <a class="macro" href="../../../include/vlc_messages.h.html#77" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_DBG, dtv, &quot;selected LNB low: %u kHz, LNB high: %u kHz&quot;, lowf, highf )" data-ref="_M/msg_Dbg">msg_Dbg</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"selected LNB low: %u kHz, LNB high: %u kHz"</q>,</td></tr>
<tr><th id="760">760</th><td>                 <a class="local col3 ref" href="#103lowf" title='lowf' data-ref="103lowf">lowf</a>, <a class="local col4 ref" href="#104highf" title='highf' data-ref="104highf">highf</a>);</td></tr>
<tr><th id="761">761</th><td>    }</td></tr>
<tr><th id="762">762</th><td></td></tr>
<tr><th id="763">763</th><td>    <i>/* Use high oscillator frequency? */</i></td></tr>
<tr><th id="764">764</th><td>    <span class="macro" title="_Bool" data-ref="_M/bool">bool</span> <dfn class="local col6 decl" id="116high" title='high' data-type='_Bool' data-ref="116high">high</dfn> = <a class="local col4 ref" href="#104highf" title='highf' data-ref="104highf">highf</a> != <var>0</var> &amp;&amp; <a class="local col6 ref" href="#106freq" title='freq' data-ref="106freq">freq</a> &gt; <a class="local col5 ref" href="#105switchf" title='switchf' data-ref="105switchf">switchf</a>;</td></tr>
<tr><th id="765">765</th><td></td></tr>
<tr><th id="766">766</th><td>    <a class="local col6 ref" href="#106freq" title='freq' data-ref="106freq">freq</a> -= <a class="local col6 ref" href="#116high" title='high' data-ref="116high">high</a> ? <a class="local col4 ref" href="#104highf" title='highf' data-ref="104highf">highf</a> : <a class="local col3 ref" href="#103lowf" title='lowf' data-ref="103lowf">lowf</a>;</td></tr>
<tr><th id="767">767</th><td>    <b>if</b> ((<a class="typedef" href="../../../../include/x86_64-linux-gnu/sys/types.h.html#196" title='int32_t' data-type='int' data-ref="int32_t">int32_t</a>)<a class="local col6 ref" href="#106freq" title='freq' data-ref="106freq">freq</a> &lt; <var>0</var>)</td></tr>
<tr><th id="768">768</th><td>        <a class="local col6 ref" href="#106freq" title='freq' data-ref="106freq">freq</a> *= -<var>1</var>;</td></tr>
<tr><th id="769">769</th><td>    <a class="macro" href="../../../../include/assert.h.html#88" title="((freq &lt; 0x7fffffff) ? (void) (0) : __assert_fail (&quot;freq &lt; 0x7fffffff&quot;, &quot;/usr/local/google/home/robertshih/git/vlc/modules/access/dtv/linux.c&quot;, 769, __PRETTY_FUNCTION__))" data-ref="_M/assert">assert</a> (<a class="local col6 ref" href="#106freq" title='freq' data-ref="106freq">freq</a> &lt; <var>0x7fffffff</var>);</td></tr>
<tr><th id="770">770</th><td></td></tr>
<tr><th id="771">771</th><td>    <em>int</em> <dfn class="local col7 decl" id="117tone" title='tone' data-type='int' data-ref="117tone">tone</dfn>;</td></tr>
<tr><th id="772">772</th><td>    <b>switch</b> (<a class="macro" href="../../../include/vlc_variables.h.html#687" title="var_InheritInteger(__builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), &quot;dvb-tone&quot;)" data-ref="_M/var_InheritInteger">var_InheritInteger</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"dvb-tone"</q>))</td></tr>
<tr><th id="773">773</th><td>    {</td></tr>
<tr><th id="774">774</th><td>        <b>case</b> <var>0</var>:  <a class="local col7 ref" href="#117tone" title='tone' data-ref="117tone">tone</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_tone_mode::SEC_TONE_OFF" title='fe_sec_tone_mode::SEC_TONE_OFF' data-ref="fe_sec_tone_mode::SEC_TONE_OFF">SEC_TONE_OFF</a>; <b>break</b>;</td></tr>
<tr><th id="775">775</th><td>        <b>case</b> <var>1</var>:  <a class="local col7 ref" href="#117tone" title='tone' data-ref="117tone">tone</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_tone_mode::SEC_TONE_ON" title='fe_sec_tone_mode::SEC_TONE_ON' data-ref="fe_sec_tone_mode::SEC_TONE_ON">SEC_TONE_ON</a>;  <b>break</b>;</td></tr>
<tr><th id="776">776</th><td>        <b>default</b>: <a class="local col7 ref" href="#117tone" title='tone' data-ref="117tone">tone</a> = <a class="local col6 ref" href="#116high" title='high' data-ref="116high">high</a> ? <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_tone_mode::SEC_TONE_ON" title='fe_sec_tone_mode::SEC_TONE_ON' data-ref="fe_sec_tone_mode::SEC_TONE_ON">SEC_TONE_ON</a> : <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_tone_mode::SEC_TONE_OFF" title='fe_sec_tone_mode::SEC_TONE_OFF' data-ref="fe_sec_tone_mode::SEC_TONE_OFF">SEC_TONE_OFF</a>;</td></tr>
<tr><th id="777">777</th><td>    }</td></tr>
<tr><th id="778">778</th><td></td></tr>
<tr><th id="779">779</th><td>    <i>/*** LNB selection / DiSEqC ***/</i></td></tr>
<tr><th id="780">780</th><td>    <em>unsigned</em> <dfn class="local col8 decl" id="118voltage" title='voltage' data-type='unsigned int' data-ref="118voltage">voltage</dfn> = <a class="tu ref" href="#dvb_parse_polarization" title='dvb_parse_polarization' data-use='c' data-ref="dvb_parse_polarization">dvb_parse_polarization</a> (<a class="local col2 ref" href="#102pol" title='pol' data-ref="102pol">pol</a>);</td></tr>
<tr><th id="781">781</th><td>    <b>if</b> (<a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>, <var>2</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#295" title="11" data-ref="_M/DTV_TONE">DTV_TONE</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_tone_mode::SEC_TONE_OFF" title='fe_sec_tone_mode::SEC_TONE_OFF' data-ref="fe_sec_tone_mode::SEC_TONE_OFF">SEC_TONE_OFF</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#294" title="10" data-ref="_M/DTV_VOLTAGE">DTV_VOLTAGE</a>, <a class="local col8 ref" href="#118voltage" title='voltage' data-ref="118voltage">voltage</a>))</td></tr>
<tr><th id="782">782</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="783">783</th><td></td></tr>
<tr><th id="784">784</th><td>    <em>unsigned</em> <dfn class="local col9 decl" id="119satno" title='satno' data-type='unsigned int' data-ref="119satno">satno</dfn> = <a class="macro" href="../../../include/vlc_variables.h.html#687" title="var_InheritInteger(__builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), &quot;dvb-satno&quot;)" data-ref="_M/var_InheritInteger">var_InheritInteger</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"dvb-satno"</q>);</td></tr>
<tr><th id="785">785</th><td>    <b>if</b> (<a class="local col9 ref" href="#119satno" title='satno' data-ref="119satno">satno</a> &gt; <var>0</var>)</td></tr>
<tr><th id="786">786</th><td>    {</td></tr>
<tr><th id="787">787</th><td><u>#undef <a class="macro" href="../../../include/vlc_threads.h.html#317" data-ref="_M/msleep">msleep</a> /* we know what we are doing! */</u></td></tr>
<tr><th id="788">788</th><td></td></tr>
<tr><th id="789">789</th><td>        <i>/* DiSEqC Bus Specification:</i></td></tr>
<tr><th id="790">790</th><td><i> <a href="http://www.eutelsat.com/satellites/pdf/Diseqc/Reference%20docs/bus_spec.pdf">http://www.eutelsat.com/satellites/pdf/Diseqc/Reference%20docs/bus_spec.pdf</a> */</i></td></tr>
<tr><th id="791">791</th><td></td></tr>
<tr><th id="792">792</th><td>        <i>/* DiSEqC 1.1 */</i></td></tr>
<tr><th id="793">793</th><td>        <b>struct</b> <a class="type" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd" title='dvb_diseqc_master_cmd' data-ref="dvb_diseqc_master_cmd">dvb_diseqc_master_cmd</a> <dfn class="local col0 decl" id="120uncmd" title='uncmd' data-type='struct dvb_diseqc_master_cmd' data-ref="120uncmd">uncmd</dfn>;</td></tr>
<tr><th id="794">794</th><td></td></tr>
<tr><th id="795">795</th><td>        <i>/* DiSEqC 1.0 */</i></td></tr>
<tr><th id="796">796</th><td>        <b>struct</b> <a class="type" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd" title='dvb_diseqc_master_cmd' data-ref="dvb_diseqc_master_cmd">dvb_diseqc_master_cmd</a> <dfn class="local col1 decl" id="121cmd" title='cmd' data-type='struct dvb_diseqc_master_cmd' data-ref="121cmd">cmd</dfn>;</td></tr>
<tr><th id="797">797</th><td></td></tr>
<tr><th id="798">798</th><td>        <a class="local col9 ref" href="#119satno" title='satno' data-ref="119satno">satno</a> = (<a class="local col9 ref" href="#119satno" title='satno' data-ref="119satno">satno</a> - <var>1</var>) &amp; <var>3</var>;</td></tr>
<tr><th id="799">799</th><td>        <a class="local col1 ref" href="#121cmd" title='cmd' data-ref="121cmd">cmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>0</var>] = <var>0xE0</var>; <i>/* framing: master, no reply, 1st TX */</i></td></tr>
<tr><th id="800">800</th><td>        <a class="local col1 ref" href="#121cmd" title='cmd' data-ref="121cmd">cmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>1</var>] = <var>0x10</var>; <i>/* address: all LNB/switch */</i></td></tr>
<tr><th id="801">801</th><td>        <a class="local col1 ref" href="#121cmd" title='cmd' data-ref="121cmd">cmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>2</var>] = <var>0x38</var>; <i>/* command: Write Port Group 0 (committed) */</i></td></tr>
<tr><th id="802">802</th><td>        <a class="local col1 ref" href="#121cmd" title='cmd' data-ref="121cmd">cmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>3</var>] = <var>0xF0</var>  <i>/* data[0]: clear all bits */</i></td></tr>
<tr><th id="803">803</th><td>                   | (<a class="local col9 ref" href="#119satno" title='satno' data-ref="119satno">satno</a> &lt;&lt; <var>2</var>) <i>/* LNB (A, B, C or D) */</i></td></tr>
<tr><th id="804">804</th><td>                   | ((<a class="local col8 ref" href="#118voltage" title='voltage' data-ref="118voltage">voltage</a> == <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_voltage::SEC_VOLTAGE_18" title='fe_sec_voltage::SEC_VOLTAGE_18' data-ref="fe_sec_voltage::SEC_VOLTAGE_18">SEC_VOLTAGE_18</a>) &lt;&lt; <var>1</var>) <i>/* polarization */</i></td></tr>
<tr><th id="805">805</th><td>                   | (<a class="local col7 ref" href="#117tone" title='tone' data-ref="117tone">tone</a> == <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_tone_mode::SEC_TONE_ON" title='fe_sec_tone_mode::SEC_TONE_ON' data-ref="fe_sec_tone_mode::SEC_TONE_ON">SEC_TONE_ON</a>); <i>/* option */</i></td></tr>
<tr><th id="806">806</th><td>        <a class="local col1 ref" href="#121cmd" title='cmd' data-ref="121cmd">cmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>4</var>] = <a class="local col1 ref" href="#121cmd" title='cmd' data-ref="121cmd">cmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>5</var>] = <var>0</var>; <i>/* unused */</i></td></tr>
<tr><th id="807">807</th><td>        <a class="local col1 ref" href="#121cmd" title='cmd' data-ref="121cmd">cmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg_len" title='dvb_diseqc_master_cmd::msg_len' data-ref="dvb_diseqc_master_cmd::msg_len">msg_len</a> = <var>4</var>; <i>/* length */</i></td></tr>
<tr><th id="808">808</th><td></td></tr>
<tr><th id="809">809</th><td>        <a class="ref" href="../../../include/vlc_threads.h.html#msleep" title='msleep' data-ref="msleep">msleep</a> (<var>15000</var>); <i>/* wait 15 ms before DiSEqC command */</i></td></tr>
<tr><th id="810">810</th><td>        <em>unsigned</em> <dfn class="local col2 decl" id="122uncommitted" title='uncommitted' data-type='unsigned int' data-ref="122uncommitted">uncommitted</dfn> = <a class="macro" href="../../../include/vlc_variables.h.html#687" title="var_InheritInteger(__builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), &quot;dvb-uncommitted&quot;)" data-ref="_M/var_InheritInteger">var_InheritInteger</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"dvb-uncommitted"</q>);</td></tr>
<tr><th id="811">811</th><td>        <b>if</b> (<a class="local col2 ref" href="#122uncommitted" title='uncommitted' data-ref="122uncommitted">uncommitted</a> &gt; <var>0</var>)</td></tr>
<tr><th id="812">812</th><td>        {</td></tr>
<tr><th id="813">813</th><td>          <a class="local col2 ref" href="#122uncommitted" title='uncommitted' data-ref="122uncommitted">uncommitted</a> = (<a class="local col2 ref" href="#122uncommitted" title='uncommitted' data-ref="122uncommitted">uncommitted</a> - <var>1</var>) &amp; <var>3</var>;</td></tr>
<tr><th id="814">814</th><td>          <a class="local col0 ref" href="#120uncmd" title='uncmd' data-ref="120uncmd">uncmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>0</var>] = <var>0xE0</var>; <i>/* framing: master, no reply, 1st TX */</i></td></tr>
<tr><th id="815">815</th><td>          <a class="local col0 ref" href="#120uncmd" title='uncmd' data-ref="120uncmd">uncmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>1</var>] = <var>0x10</var>; <i>/* address: all LNB/switch */</i></td></tr>
<tr><th id="816">816</th><td>          <a class="local col0 ref" href="#120uncmd" title='uncmd' data-ref="120uncmd">uncmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>2</var>] = <var>0x39</var>; <i>/* command: Write Port Group 1 (uncommitted) */</i></td></tr>
<tr><th id="817">817</th><td>          <a class="local col0 ref" href="#120uncmd" title='uncmd' data-ref="120uncmd">uncmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>3</var>] = <var>0xF0</var>  <i>/* data[0]: clear all bits */</i></td></tr>
<tr><th id="818">818</th><td>                       | (<a class="local col2 ref" href="#122uncommitted" title='uncommitted' data-ref="122uncommitted">uncommitted</a> &lt;&lt; <var>2</var>) <i>/* LNB (A, B, C or D) */</i></td></tr>
<tr><th id="819">819</th><td>                       | ((<a class="local col8 ref" href="#118voltage" title='voltage' data-ref="118voltage">voltage</a> == <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_voltage::SEC_VOLTAGE_18" title='fe_sec_voltage::SEC_VOLTAGE_18' data-ref="fe_sec_voltage::SEC_VOLTAGE_18">SEC_VOLTAGE_18</a>) &lt;&lt; <var>1</var>) <i>/* polarization */</i></td></tr>
<tr><th id="820">820</th><td>                       | (<a class="local col7 ref" href="#117tone" title='tone' data-ref="117tone">tone</a> == <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_tone_mode::SEC_TONE_ON" title='fe_sec_tone_mode::SEC_TONE_ON' data-ref="fe_sec_tone_mode::SEC_TONE_ON">SEC_TONE_ON</a>); <i>/* option */</i></td></tr>
<tr><th id="821">821</th><td>          <a class="local col0 ref" href="#120uncmd" title='uncmd' data-ref="120uncmd">uncmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>4</var>] = <a class="local col0 ref" href="#120uncmd" title='uncmd' data-ref="120uncmd">uncmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>5</var>] = <var>0</var>; <i>/* unused */</i></td></tr>
<tr><th id="822">822</th><td>          <a class="local col0 ref" href="#120uncmd" title='uncmd' data-ref="120uncmd">uncmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg_len" title='dvb_diseqc_master_cmd::msg_len' data-ref="dvb_diseqc_master_cmd::msg_len">msg_len</a> = <var>4</var>; <i>/* length */</i></td></tr>
<tr><th id="823">823</th><td>          <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#568" title="(((1U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((63)) &lt;&lt; 0) | ((((sizeof(struct dvb_diseqc_master_cmd)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_DISEQC_SEND_MASTER_CMD">FE_DISEQC_SEND_MASTER_CMD</a>, &amp;<a class="local col0 ref" href="#120uncmd" title='uncmd' data-ref="120uncmd">uncmd</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="824">824</th><td>          {</td></tr>
<tr><th id="825">825</th><td>              <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot send uncommitted DiSEqC command: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot send uncommitted DiSEqC command: %s"</q>,</td></tr>
<tr><th id="826">826</th><td>                       <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="827">827</th><td>              <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="828">828</th><td>          }</td></tr>
<tr><th id="829">829</th><td>          <i>/* Repeat uncommitted command */</i></td></tr>
<tr><th id="830">830</th><td>          <a class="local col0 ref" href="#120uncmd" title='uncmd' data-ref="120uncmd">uncmd</a>.<a class="ref" href="../../../../include/linux/dvb/frontend.h.html#dvb_diseqc_master_cmd::msg" title='dvb_diseqc_master_cmd::msg' data-ref="dvb_diseqc_master_cmd::msg">msg</a>[<var>0</var>] = <var>0xE1</var>; <i>/* framing: master, no reply, repeated TX */</i></td></tr>
<tr><th id="831">831</th><td>          <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#568" title="(((1U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((63)) &lt;&lt; 0) | ((((sizeof(struct dvb_diseqc_master_cmd)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_DISEQC_SEND_MASTER_CMD">FE_DISEQC_SEND_MASTER_CMD</a>, &amp;<a class="local col0 ref" href="#120uncmd" title='uncmd' data-ref="120uncmd">uncmd</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="832">832</th><td>          {</td></tr>
<tr><th id="833">833</th><td>              <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot send repeated uncommitted DiSEqC command: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>,</td></tr>
<tr><th id="834">834</th><td>                       <q>"cannot send repeated uncommitted DiSEqC command: %s"</q>,</td></tr>
<tr><th id="835">835</th><td>                       <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="836">836</th><td>              <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="837">837</th><td>          }</td></tr>
<tr><th id="838">838</th><td>          <a class="ref" href="../../../include/vlc_threads.h.html#msleep" title='msleep' data-ref="msleep">msleep</a>(<var>125000</var>); <i>/* wait 125 ms before committed DiSEqC command */</i></td></tr>
<tr><th id="839">839</th><td>        }</td></tr>
<tr><th id="840">840</th><td>        <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#568" title="(((1U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((63)) &lt;&lt; 0) | ((((sizeof(struct dvb_diseqc_master_cmd)))) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_DISEQC_SEND_MASTER_CMD">FE_DISEQC_SEND_MASTER_CMD</a>, &amp;<a class="local col1 ref" href="#121cmd" title='cmd' data-ref="121cmd">cmd</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="841">841</th><td>        {</td></tr>
<tr><th id="842">842</th><td>            <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot send committed DiSEqC command: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot send committed DiSEqC command: %s"</q>,</td></tr>
<tr><th id="843">843</th><td>                     <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="844">844</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="845">845</th><td>        }</td></tr>
<tr><th id="846">846</th><td>        <a class="ref" href="../../../include/vlc_threads.h.html#msleep" title='msleep' data-ref="msleep">msleep</a> (<var>54000</var> + <var>15000</var>);</td></tr>
<tr><th id="847">847</th><td></td></tr>
<tr><th id="848">848</th><td>        <i>/* Mini-DiSEqC */</i></td></tr>
<tr><th id="849">849</th><td>        <a class="local col9 ref" href="#119satno" title='satno' data-ref="119satno">satno</a> &amp;= <var>1</var>;</td></tr>
<tr><th id="850">850</th><td>        <b>if</b> (<a class="ref" href="../../../../include/x86_64-linux-gnu/sys/ioctl.h.html#ioctl" title='ioctl' data-ref="ioctl">ioctl</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::frontend" title='dvb_device::frontend' data-ref="dvb_device::frontend">frontend</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#570" title="(((0U) &lt;&lt; (((0+8)+8)+14)) | (((&apos;o&apos;)) &lt;&lt; (0+8)) | (((65)) &lt;&lt; 0) | ((0) &lt;&lt; ((0+8)+8)))" data-ref="_M/FE_DISEQC_SEND_BURST">FE_DISEQC_SEND_BURST</a>,</td></tr>
<tr><th id="851">851</th><td>                   <a class="local col9 ref" href="#119satno" title='satno' data-ref="119satno">satno</a> ? <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_mini_cmd::SEC_MINI_B" title='fe_sec_mini_cmd::SEC_MINI_B' data-ref="fe_sec_mini_cmd::SEC_MINI_B">SEC_MINI_B</a> : <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_sec_mini_cmd::SEC_MINI_A" title='fe_sec_mini_cmd::SEC_MINI_A' data-ref="fe_sec_mini_cmd::SEC_MINI_A">SEC_MINI_A</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="852">852</th><td>        {</td></tr>
<tr><th id="853">853</th><td>            <a class="macro" href="../../../include/vlc_messages.h.html#73" title="vlc_Log( __builtin_choose_expr( __builtin_offsetof(__typeof__(*(d-&gt;obj)), psz_object_type), (void)0 , (vlc_object_t *)(d-&gt;obj)), VLC_MSG_ERR, dtv, &quot;cannot send Mini-DiSEqC tone burst: %s&quot;, vlc_strerror_c((*__errno_location ())) )" data-ref="_M/msg_Err">msg_Err</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>-&gt;<a class="ref" href="#dvb_device::obj" title='dvb_device::obj' data-ref="dvb_device::obj">obj</a>, <q>"cannot send Mini-DiSEqC tone burst: %s"</q>,</td></tr>
<tr><th id="854">854</th><td>                     <a class="ref" href="../../../include/vlc_messages.h.html#vlc_strerror_c" title='vlc_strerror_c' data-ref="vlc_strerror_c">vlc_strerror_c</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/errno.h.html#54" title="(*__errno_location ())" data-ref="_M/errno">errno</a>));</td></tr>
<tr><th id="855">855</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="856">856</th><td>        }</td></tr>
<tr><th id="857">857</th><td>        <a class="ref" href="../../../include/vlc_threads.h.html#msleep" title='msleep' data-ref="msleep">msleep</a> (<var>15000</var>);</td></tr>
<tr><th id="858">858</th><td>    }</td></tr>
<tr><th id="859">859</th><td></td></tr>
<tr><th id="860">860</th><td>    <i>/* Continuous tone (to select high oscillator frequency) */</i></td></tr>
<tr><th id="861">861</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col0 ref" href="#100d" title='d' data-ref="100d">d</a>, <var>2</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#287" title="3" data-ref="_M/DTV_FREQUENCY">DTV_FREQUENCY</a>, <a class="local col6 ref" href="#106freq" title='freq' data-ref="106freq">freq</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#295" title="11" data-ref="_M/DTV_TONE">DTV_TONE</a>, <a class="local col7 ref" href="#117tone" title='tone' data-ref="117tone">tone</a>);</td></tr>
<tr><th id="862">862</th><td>}</td></tr>
<tr><th id="863">863</th><td></td></tr>
<tr><th id="864">864</th><td><em>int</em> <dfn class="decl def" id="dvb_set_dvbs" title='dvb_set_dvbs' data-ref="dvb_set_dvbs">dvb_set_dvbs</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col3 decl" id="123d" title='d' data-type='dvb_device_t *' data-ref="123d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col4 decl" id="124freq_Hz" title='freq_Hz' data-type='uint64_t' data-ref="124freq_Hz">freq_Hz</dfn>,</td></tr>
<tr><th id="865">865</th><td>                  <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="125srate" title='srate' data-type='uint32_t' data-ref="125srate">srate</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="126fec" title='fec' data-type='uint32_t' data-ref="126fec">fec</dfn>)</td></tr>
<tr><th id="866">866</th><td>{</td></tr>
<tr><th id="867">867</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="127freq" title='freq' data-type='uint32_t' data-ref="127freq">freq</dfn> = <a class="local col4 ref" href="#124freq_Hz" title='freq_Hz' data-ref="124freq_Hz">freq_Hz</a> / <var>1000</var>;</td></tr>
<tr><th id="868">868</th><td>    <a class="local col6 ref" href="#126fec" title='fec' data-ref="126fec">fec</a> = <a class="tu ref" href="#dvb_parse_fec" title='dvb_parse_fec' data-use='c' data-ref="dvb_parse_fec">dvb_parse_fec</a> (<a class="local col6 ref" href="#126fec" title='fec' data-ref="126fec">fec</a>);</td></tr>
<tr><th id="869">869</th><td></td></tr>
<tr><th id="870">870</th><td>    <b>if</b> (<a class="macro" href="#454" title="(dvb_open_frontend(d))" data-ref="_M/dvb_find_frontend">dvb_find_frontend</a> (<a class="local col3 ref" href="#123d" title='d' data-ref="123d">d</a>, DVB_S))</td></tr>
<tr><th id="871">871</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="872">872</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col3 ref" href="#123d" title='d' data-ref="123d">d</a>, <var>5</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#286" title="2" data-ref="_M/DTV_CLEAR">DTV_CLEAR</a>, <var>0</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#303" title="17" data-ref="_M/DTV_DELIVERY_SYSTEM">DTV_DELIVERY_SYSTEM</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBS" title='fe_delivery_system::SYS_DVBS' data-ref="fe_delivery_system::SYS_DVBS">SYS_DVBS</a>,</td></tr>
<tr><th id="873">873</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#287" title="3" data-ref="_M/DTV_FREQUENCY">DTV_FREQUENCY</a>, <a class="local col7 ref" href="#127freq" title='freq' data-ref="127freq">freq</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#292" title="8" data-ref="_M/DTV_SYMBOL_RATE">DTV_SYMBOL_RATE</a>, <a class="local col5 ref" href="#125srate" title='srate' data-ref="125srate">srate</a>,</td></tr>
<tr><th id="874">874</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#293" title="9" data-ref="_M/DTV_INNER_FEC">DTV_INNER_FEC</a>, <a class="local col6 ref" href="#126fec" title='fec' data-ref="126fec">fec</a>);</td></tr>
<tr><th id="875">875</th><td>}</td></tr>
<tr><th id="876">876</th><td></td></tr>
<tr><th id="877">877</th><td><em>int</em> <dfn class="decl def" id="dvb_set_dvbs2" title='dvb_set_dvbs2' data-ref="dvb_set_dvbs2">dvb_set_dvbs2</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col8 decl" id="128d" title='d' data-type='dvb_device_t *' data-ref="128d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col9 decl" id="129freq_Hz" title='freq_Hz' data-type='uint64_t' data-ref="129freq_Hz">freq_Hz</dfn>, <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="130modstr" title='modstr' data-type='const char *' data-ref="130modstr">modstr</dfn>,</td></tr>
<tr><th id="878">878</th><td>                   <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="131srate" title='srate' data-type='uint32_t' data-ref="131srate">srate</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="132fec" title='fec' data-type='uint32_t' data-ref="132fec">fec</dfn>, <em>int</em> <dfn class="local col3 decl" id="133pilot" title='pilot' data-type='int' data-ref="133pilot">pilot</dfn>, <em>int</em> <dfn class="local col4 decl" id="134rolloff" title='rolloff' data-type='int' data-ref="134rolloff">rolloff</dfn>)</td></tr>
<tr><th id="879">879</th><td>{</td></tr>
<tr><th id="880">880</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="135freq" title='freq' data-type='uint32_t' data-ref="135freq">freq</dfn> = <a class="local col9 ref" href="#129freq_Hz" title='freq_Hz' data-ref="129freq_Hz">freq_Hz</a> / <var>1000</var>;</td></tr>
<tr><th id="881">881</th><td>    <em>unsigned</em> <dfn class="local col6 decl" id="136mod" title='mod' data-type='unsigned int' data-ref="136mod">mod</dfn> = <a class="tu ref" href="#dvb_parse_modulation" title='dvb_parse_modulation' data-use='c' data-ref="dvb_parse_modulation">dvb_parse_modulation</a> (<a class="local col0 ref" href="#130modstr" title='modstr' data-ref="130modstr">modstr</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QPSK" title='fe_modulation::QPSK' data-ref="fe_modulation::QPSK">QPSK</a>);</td></tr>
<tr><th id="882">882</th><td>    <a class="local col2 ref" href="#132fec" title='fec' data-ref="132fec">fec</a> = <a class="tu ref" href="#dvb_parse_fec" title='dvb_parse_fec' data-use='c' data-ref="dvb_parse_fec">dvb_parse_fec</a> (<a class="local col2 ref" href="#132fec" title='fec' data-ref="132fec">fec</a>);</td></tr>
<tr><th id="883">883</th><td></td></tr>
<tr><th id="884">884</th><td>    <b>switch</b> (<a class="local col3 ref" href="#133pilot" title='pilot' data-ref="133pilot">pilot</a>)</td></tr>
<tr><th id="885">885</th><td>    {</td></tr>
<tr><th id="886">886</th><td>        <b>case</b> <var>0</var>:  <a class="local col3 ref" href="#133pilot" title='pilot' data-ref="133pilot">pilot</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_pilot::PILOT_OFF" title='fe_pilot::PILOT_OFF' data-ref="fe_pilot::PILOT_OFF">PILOT_OFF</a>;  <b>break</b>;</td></tr>
<tr><th id="887">887</th><td>        <b>case</b> <var>1</var>:  <a class="local col3 ref" href="#133pilot" title='pilot' data-ref="133pilot">pilot</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_pilot::PILOT_ON" title='fe_pilot::PILOT_ON' data-ref="fe_pilot::PILOT_ON">PILOT_ON</a>;   <b>break</b>;</td></tr>
<tr><th id="888">888</th><td>        <b>default</b>: <a class="local col3 ref" href="#133pilot" title='pilot' data-ref="133pilot">pilot</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_pilot::PILOT_AUTO" title='fe_pilot::PILOT_AUTO' data-ref="fe_pilot::PILOT_AUTO">PILOT_AUTO</a>; <b>break</b>;</td></tr>
<tr><th id="889">889</th><td>    }</td></tr>
<tr><th id="890">890</th><td></td></tr>
<tr><th id="891">891</th><td>    <b>switch</b> (<a class="local col4 ref" href="#134rolloff" title='rolloff' data-ref="134rolloff">rolloff</a>)</td></tr>
<tr><th id="892">892</th><td>    {</td></tr>
<tr><th id="893">893</th><td>        <b>case</b> <var>20</var>: <a class="local col4 ref" href="#134rolloff" title='rolloff' data-ref="134rolloff">rolloff</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_rolloff::ROLLOFF_20" title='fe_rolloff::ROLLOFF_20' data-ref="fe_rolloff::ROLLOFF_20">ROLLOFF_20</a>;  <b>break</b>;</td></tr>
<tr><th id="894">894</th><td>        <b>case</b> <var>25</var>: <a class="local col4 ref" href="#134rolloff" title='rolloff' data-ref="134rolloff">rolloff</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_rolloff::ROLLOFF_25" title='fe_rolloff::ROLLOFF_25' data-ref="fe_rolloff::ROLLOFF_25">ROLLOFF_25</a>;  <b>break</b>;</td></tr>
<tr><th id="895">895</th><td>        <b>case</b> <var>35</var>: <a class="local col4 ref" href="#134rolloff" title='rolloff' data-ref="134rolloff">rolloff</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_rolloff::ROLLOFF_35" title='fe_rolloff::ROLLOFF_35' data-ref="fe_rolloff::ROLLOFF_35">ROLLOFF_35</a>;  <b>break</b>;</td></tr>
<tr><th id="896">896</th><td>        <b>default</b>: <a class="local col4 ref" href="#134rolloff" title='rolloff' data-ref="134rolloff">rolloff</a> = <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_pilot::PILOT_AUTO" title='fe_pilot::PILOT_AUTO' data-ref="fe_pilot::PILOT_AUTO">PILOT_AUTO</a>; <b>break</b>;</td></tr>
<tr><th id="897">897</th><td>    }</td></tr>
<tr><th id="898">898</th><td></td></tr>
<tr><th id="899">899</th><td>    <b>if</b> (<a class="macro" href="#454" title="(dvb_open_frontend(d))" data-ref="_M/dvb_find_frontend">dvb_find_frontend</a> (<a class="local col8 ref" href="#128d" title='d' data-ref="128d">d</a>, DVB_S2))</td></tr>
<tr><th id="900">900</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="901">901</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col8 ref" href="#128d" title='d' data-ref="128d">d</a>, <var>8</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#286" title="2" data-ref="_M/DTV_CLEAR">DTV_CLEAR</a>, <var>0</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#303" title="17" data-ref="_M/DTV_DELIVERY_SYSTEM">DTV_DELIVERY_SYSTEM</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBS2" title='fe_delivery_system::SYS_DVBS2' data-ref="fe_delivery_system::SYS_DVBS2">SYS_DVBS2</a>,</td></tr>
<tr><th id="902">902</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#287" title="3" data-ref="_M/DTV_FREQUENCY">DTV_FREQUENCY</a>, <a class="local col5 ref" href="#135freq" title='freq' data-ref="135freq">freq</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#288" title="4" data-ref="_M/DTV_MODULATION">DTV_MODULATION</a>, <a class="local col6 ref" href="#136mod" title='mod' data-ref="136mod">mod</a>,</td></tr>
<tr><th id="903">903</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#292" title="8" data-ref="_M/DTV_SYMBOL_RATE">DTV_SYMBOL_RATE</a>, <a class="local col1 ref" href="#131srate" title='srate' data-ref="131srate">srate</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#293" title="9" data-ref="_M/DTV_INNER_FEC">DTV_INNER_FEC</a>, <a class="local col2 ref" href="#132fec" title='fec' data-ref="132fec">fec</a>,</td></tr>
<tr><th id="904">904</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#296" title="12" data-ref="_M/DTV_PILOT">DTV_PILOT</a>, <a class="local col3 ref" href="#133pilot" title='pilot' data-ref="133pilot">pilot</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#297" title="13" data-ref="_M/DTV_ROLLOFF">DTV_ROLLOFF</a>, <a class="local col4 ref" href="#134rolloff" title='rolloff' data-ref="134rolloff">rolloff</a>);</td></tr>
<tr><th id="905">905</th><td>}</td></tr>
<tr><th id="906">906</th><td></td></tr>
<tr><th id="907">907</th><td></td></tr>
<tr><th id="908">908</th><td><i  data-doc="dvb_parse_bandwidth">/*** DVB-T ***/</i></td></tr>
<tr><th id="909">909</th><td><em>static</em> <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="tu decl def" id="dvb_parse_bandwidth" title='dvb_parse_bandwidth' data-type='uint32_t dvb_parse_bandwidth(uint32_t i)' data-ref="dvb_parse_bandwidth">dvb_parse_bandwidth</dfn> (<a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="137i" title='i' data-type='uint32_t' data-ref="137i">i</dfn>)</td></tr>
<tr><th id="910">910</th><td>{</td></tr>
<tr><th id="911">911</th><td>    <b>switch</b> (<a class="local col7 ref" href="#137i" title='i' data-ref="137i">i</a>)</td></tr>
<tr><th id="912">912</th><td>    {</td></tr>
<tr><th id="913">913</th><td>      <i>//case  0: return 0;</i></td></tr>
<tr><th id="914">914</th><td>        <b>case</b>  <var>2</var>: <b>return</b> <var>1712000</var>;</td></tr>
<tr><th id="915">915</th><td>        <b>default</b>: <b>return</b> <a class="local col7 ref" href="#137i" title='i' data-ref="137i">i</a> * <var>1000000</var>;</td></tr>
<tr><th id="916">916</th><td>    }</td></tr>
<tr><th id="917">917</th><td>}</td></tr>
<tr><th id="918">918</th><td></td></tr>
<tr><th id="919">919</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_parse_transmit_mode" title='dvb_parse_transmit_mode' data-type='int dvb_parse_transmit_mode(int i)' data-ref="dvb_parse_transmit_mode">dvb_parse_transmit_mode</dfn> (<em>int</em> <dfn class="local col8 decl" id="138i" title='i' data-type='int' data-ref="138i">i</dfn>)</td></tr>
<tr><th id="920">920</th><td>{</td></tr>
<tr><th id="921">921</th><td>    <em>static</em> <em>const</em> <a class="typedef" href="#dvb_int_map_t" title='dvb_int_map_t' data-type='struct dvb_int_map_t' data-ref="dvb_int_map_t">dvb_int_map_t</a> <dfn class="local col9 decl" id="139tab" title='tab' data-type='const dvb_int_map_t [7]' data-ref="139tab">tab</dfn>[] = {</td></tr>
<tr><th id="922">922</th><td>        { -<var>1</var>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_transmit_mode::TRANSMISSION_MODE_AUTO" title='fe_transmit_mode::TRANSMISSION_MODE_AUTO' data-ref="fe_transmit_mode::TRANSMISSION_MODE_AUTO">TRANSMISSION_MODE_AUTO</a> },</td></tr>
<tr><th id="923">923</th><td><u>#<span data-ppcond="923">if</span> <a class="macro" href="#49" title="(5 &gt; 5 || (5 == 5 &amp;&amp; 10 &gt;= (3)))" data-ref="_M/DVBv5">DVBv5</a>(3)</u></td></tr>
<tr><th id="924">924</th><td>        {  <var>1</var>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_transmit_mode::TRANSMISSION_MODE_1K" title='fe_transmit_mode::TRANSMISSION_MODE_1K' data-ref="fe_transmit_mode::TRANSMISSION_MODE_1K">TRANSMISSION_MODE_1K</a>   },</td></tr>
<tr><th id="925">925</th><td><u>#<span data-ppcond="923">endif</span></u></td></tr>
<tr><th id="926">926</th><td>        {  <var>2</var>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_transmit_mode::TRANSMISSION_MODE_2K" title='fe_transmit_mode::TRANSMISSION_MODE_2K' data-ref="fe_transmit_mode::TRANSMISSION_MODE_2K">TRANSMISSION_MODE_2K</a>   },</td></tr>
<tr><th id="927">927</th><td>        {  <var>4</var>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_transmit_mode::TRANSMISSION_MODE_4K" title='fe_transmit_mode::TRANSMISSION_MODE_4K' data-ref="fe_transmit_mode::TRANSMISSION_MODE_4K">TRANSMISSION_MODE_4K</a>   },</td></tr>
<tr><th id="928">928</th><td>        {  <var>8</var>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_transmit_mode::TRANSMISSION_MODE_8K" title='fe_transmit_mode::TRANSMISSION_MODE_8K' data-ref="fe_transmit_mode::TRANSMISSION_MODE_8K">TRANSMISSION_MODE_8K</a>   },</td></tr>
<tr><th id="929">929</th><td><u>#<span data-ppcond="929">if</span> <a class="macro" href="#49" title="(5 &gt; 5 || (5 == 5 &amp;&amp; 10 &gt;= (3)))" data-ref="_M/DVBv5">DVBv5</a>(3)</u></td></tr>
<tr><th id="930">930</th><td>        { <var>16</var>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_transmit_mode::TRANSMISSION_MODE_16K" title='fe_transmit_mode::TRANSMISSION_MODE_16K' data-ref="fe_transmit_mode::TRANSMISSION_MODE_16K">TRANSMISSION_MODE_16K</a>  },</td></tr>
<tr><th id="931">931</th><td>        { <var>32</var>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_transmit_mode::TRANSMISSION_MODE_32K" title='fe_transmit_mode::TRANSMISSION_MODE_32K' data-ref="fe_transmit_mode::TRANSMISSION_MODE_32K">TRANSMISSION_MODE_32K</a>  },</td></tr>
<tr><th id="932">932</th><td><u>#<span data-ppcond="929">endif</span></u></td></tr>
<tr><th id="933">933</th><td>    };</td></tr>
<tr><th id="934">934</th><td>    <b>return</b> <a class="tu ref" href="#dvb_parse_int" title='dvb_parse_int' data-use='c' data-ref="dvb_parse_int">dvb_parse_int</a> (<a class="local col8 ref" href="#138i" title='i' data-ref="138i">i</a>, <a class="local col9 ref" href="#139tab" title='tab' data-ref="139tab">tab</a>, <b>sizeof</b> (<a class="local col9 ref" href="#139tab" title='tab' data-ref="139tab">tab</a>) / <b>sizeof</b> (*<a class="local col9 ref" href="#139tab" title='tab' data-ref="139tab">tab</a>),</td></tr>
<tr><th id="935">935</th><td>                          <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_transmit_mode::TRANSMISSION_MODE_AUTO" title='fe_transmit_mode::TRANSMISSION_MODE_AUTO' data-ref="fe_transmit_mode::TRANSMISSION_MODE_AUTO">TRANSMISSION_MODE_AUTO</a>);</td></tr>
<tr><th id="936">936</th><td>}</td></tr>
<tr><th id="937">937</th><td></td></tr>
<tr><th id="938">938</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_parse_guard" title='dvb_parse_guard' data-type='int dvb_parse_guard(uint32_t guard)' data-ref="dvb_parse_guard">dvb_parse_guard</dfn> (<a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="140guard" title='guard' data-type='uint32_t' data-ref="140guard">guard</dfn>)</td></tr>
<tr><th id="939">939</th><td>{</td></tr>
<tr><th id="940">940</th><td>    <em>static</em> <em>const</em> <a class="typedef" href="#dvb_int_map_t" title='dvb_int_map_t' data-type='struct dvb_int_map_t' data-ref="dvb_int_map_t">dvb_int_map_t</a> <dfn class="local col1 decl" id="141tab" title='tab' data-type='const dvb_int_map_t [8]' data-ref="141tab">tab</dfn>[] = {</td></tr>
<tr><th id="941">941</th><td>        { <a class="macro" href="dtv.h.html#68" title="(((1) &lt;&lt; 16u) | (4))" data-ref="_M/VLC_GUARD">VLC_GUARD</a>(<var>1</var>,<var>4</var>),    <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_guard_interval::GUARD_INTERVAL_1_4" title='fe_guard_interval::GUARD_INTERVAL_1_4' data-ref="fe_guard_interval::GUARD_INTERVAL_1_4">GUARD_INTERVAL_1_4</a> },</td></tr>
<tr><th id="942">942</th><td>        { <a class="macro" href="dtv.h.html#68" title="(((1) &lt;&lt; 16u) | (8))" data-ref="_M/VLC_GUARD">VLC_GUARD</a>(<var>1</var>,<var>8</var>),    <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_guard_interval::GUARD_INTERVAL_1_8" title='fe_guard_interval::GUARD_INTERVAL_1_8' data-ref="fe_guard_interval::GUARD_INTERVAL_1_8">GUARD_INTERVAL_1_8</a> },</td></tr>
<tr><th id="943">943</th><td>        { <a class="macro" href="dtv.h.html#68" title="(((1) &lt;&lt; 16u) | (16))" data-ref="_M/VLC_GUARD">VLC_GUARD</a>(<var>1</var>,<var>16</var>),   <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_guard_interval::GUARD_INTERVAL_1_16" title='fe_guard_interval::GUARD_INTERVAL_1_16' data-ref="fe_guard_interval::GUARD_INTERVAL_1_16">GUARD_INTERVAL_1_16</a> },</td></tr>
<tr><th id="944">944</th><td>        { <a class="macro" href="dtv.h.html#68" title="(((1) &lt;&lt; 16u) | (32))" data-ref="_M/VLC_GUARD">VLC_GUARD</a>(<var>1</var>,<var>32</var>),   <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_guard_interval::GUARD_INTERVAL_1_32" title='fe_guard_interval::GUARD_INTERVAL_1_32' data-ref="fe_guard_interval::GUARD_INTERVAL_1_32">GUARD_INTERVAL_1_32</a> },</td></tr>
<tr><th id="945">945</th><td><u>#<span data-ppcond="945">if</span> <a class="macro" href="#49" title="(5 &gt; 5 || (5 == 5 &amp;&amp; 10 &gt;= (3)))" data-ref="_M/DVBv5">DVBv5</a>(3)</u></td></tr>
<tr><th id="946">946</th><td>        { <a class="macro" href="dtv.h.html#68" title="(((1) &lt;&lt; 16u) | (128))" data-ref="_M/VLC_GUARD">VLC_GUARD</a>(<var>1</var>,<var>128</var>),  <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_guard_interval::GUARD_INTERVAL_1_128" title='fe_guard_interval::GUARD_INTERVAL_1_128' data-ref="fe_guard_interval::GUARD_INTERVAL_1_128">GUARD_INTERVAL_1_128</a> },</td></tr>
<tr><th id="947">947</th><td>        { <a class="macro" href="dtv.h.html#68" title="(((19) &lt;&lt; 16u) | (128))" data-ref="_M/VLC_GUARD">VLC_GUARD</a>(<var>19</var>,<var>128</var>), <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_guard_interval::GUARD_INTERVAL_19_128" title='fe_guard_interval::GUARD_INTERVAL_19_128' data-ref="fe_guard_interval::GUARD_INTERVAL_19_128">GUARD_INTERVAL_19_128</a> },</td></tr>
<tr><th id="948">948</th><td>        { <a class="macro" href="dtv.h.html#68" title="(((19) &lt;&lt; 16u) | (256))" data-ref="_M/VLC_GUARD">VLC_GUARD</a>(<var>19</var>,<var>256</var>), <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_guard_interval::GUARD_INTERVAL_19_256" title='fe_guard_interval::GUARD_INTERVAL_19_256' data-ref="fe_guard_interval::GUARD_INTERVAL_19_256">GUARD_INTERVAL_19_256</a> },</td></tr>
<tr><th id="949">949</th><td><u>#<span data-ppcond="945">endif</span></u></td></tr>
<tr><th id="950">950</th><td>        { <a class="macro" href="dtv.h.html#69" title="0xFFFFFFFF" data-ref="_M/VLC_GUARD_AUTO">VLC_GUARD_AUTO</a>,    <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_guard_interval::GUARD_INTERVAL_AUTO" title='fe_guard_interval::GUARD_INTERVAL_AUTO' data-ref="fe_guard_interval::GUARD_INTERVAL_AUTO">GUARD_INTERVAL_AUTO</a> },</td></tr>
<tr><th id="951">951</th><td>    };</td></tr>
<tr><th id="952">952</th><td>    <b>return</b> <a class="tu ref" href="#dvb_parse_int" title='dvb_parse_int' data-use='c' data-ref="dvb_parse_int">dvb_parse_int</a> (<a class="local col0 ref" href="#140guard" title='guard' data-ref="140guard">guard</a>, <a class="local col1 ref" href="#141tab" title='tab' data-ref="141tab">tab</a>, <b>sizeof</b> (<a class="local col1 ref" href="#141tab" title='tab' data-ref="141tab">tab</a>) / <b>sizeof</b> (*<a class="local col1 ref" href="#141tab" title='tab' data-ref="141tab">tab</a>),</td></tr>
<tr><th id="953">953</th><td>                          <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_guard_interval::GUARD_INTERVAL_AUTO" title='fe_guard_interval::GUARD_INTERVAL_AUTO' data-ref="fe_guard_interval::GUARD_INTERVAL_AUTO">GUARD_INTERVAL_AUTO</a>);</td></tr>
<tr><th id="954">954</th><td>}</td></tr>
<tr><th id="955">955</th><td></td></tr>
<tr><th id="956">956</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_parse_hierarchy" title='dvb_parse_hierarchy' data-type='int dvb_parse_hierarchy(int i)' data-ref="dvb_parse_hierarchy">dvb_parse_hierarchy</dfn> (<em>int</em> <dfn class="local col2 decl" id="142i" title='i' data-type='int' data-ref="142i">i</dfn>)</td></tr>
<tr><th id="957">957</th><td>{</td></tr>
<tr><th id="958">958</th><td>    <em>static</em> <em>const</em> <a class="typedef" href="#dvb_int_map_t" title='dvb_int_map_t' data-type='struct dvb_int_map_t' data-ref="dvb_int_map_t">dvb_int_map_t</a> <dfn class="local col3 decl" id="143tab" title='tab' data-type='const dvb_int_map_t [5]' data-ref="143tab">tab</dfn>[] = {</td></tr>
<tr><th id="959">959</th><td>        { <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_hierarchy::HIERARCHY_AUTO" title='fe_hierarchy::HIERARCHY_AUTO' data-ref="fe_hierarchy::HIERARCHY_AUTO">HIERARCHY_AUTO</a>, -<var>1</var> },</td></tr>
<tr><th id="960">960</th><td>        { <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_hierarchy::HIERARCHY_NONE" title='fe_hierarchy::HIERARCHY_NONE' data-ref="fe_hierarchy::HIERARCHY_NONE">HIERARCHY_NONE</a>,  <var>0</var> },</td></tr>
<tr><th id="961">961</th><td>        { <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_hierarchy::HIERARCHY_1" title='fe_hierarchy::HIERARCHY_1' data-ref="fe_hierarchy::HIERARCHY_1">HIERARCHY_1</a>,     <var>1</var> },</td></tr>
<tr><th id="962">962</th><td>        { <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_hierarchy::HIERARCHY_2" title='fe_hierarchy::HIERARCHY_2' data-ref="fe_hierarchy::HIERARCHY_2">HIERARCHY_2</a>,     <var>2</var> },</td></tr>
<tr><th id="963">963</th><td>        { <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_hierarchy::HIERARCHY_4" title='fe_hierarchy::HIERARCHY_4' data-ref="fe_hierarchy::HIERARCHY_4">HIERARCHY_4</a>,     <var>4</var> },</td></tr>
<tr><th id="964">964</th><td>    };</td></tr>
<tr><th id="965">965</th><td>    <b>return</b> <a class="tu ref" href="#dvb_parse_int" title='dvb_parse_int' data-use='c' data-ref="dvb_parse_int">dvb_parse_int</a> (<a class="local col2 ref" href="#142i" title='i' data-ref="142i">i</a>, <a class="local col3 ref" href="#143tab" title='tab' data-ref="143tab">tab</a>, <b>sizeof</b> (<a class="local col3 ref" href="#143tab" title='tab' data-ref="143tab">tab</a>) / <b>sizeof</b> (*<a class="local col3 ref" href="#143tab" title='tab' data-ref="143tab">tab</a>),</td></tr>
<tr><th id="966">966</th><td>                          <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_hierarchy::HIERARCHY_AUTO" title='fe_hierarchy::HIERARCHY_AUTO' data-ref="fe_hierarchy::HIERARCHY_AUTO">HIERARCHY_AUTO</a>);</td></tr>
<tr><th id="967">967</th><td>}</td></tr>
<tr><th id="968">968</th><td></td></tr>
<tr><th id="969">969</th><td><em>int</em> <dfn class="decl def" id="dvb_set_dvbt" title='dvb_set_dvbt' data-ref="dvb_set_dvbt">dvb_set_dvbt</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col4 decl" id="144d" title='d' data-type='dvb_device_t *' data-ref="144d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="145freq" title='freq' data-type='uint32_t' data-ref="145freq">freq</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="146modstr" title='modstr' data-type='const char *' data-ref="146modstr">modstr</dfn>,</td></tr>
<tr><th id="970">970</th><td>                  <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="147fec_hp" title='fec_hp' data-type='uint32_t' data-ref="147fec_hp">fec_hp</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="148fec_lp" title='fec_lp' data-type='uint32_t' data-ref="148fec_lp">fec_lp</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="149bandwidth" title='bandwidth' data-type='uint32_t' data-ref="149bandwidth">bandwidth</dfn>,</td></tr>
<tr><th id="971">971</th><td>                  <em>int</em> <dfn class="local col0 decl" id="150transmit_mode" title='transmit_mode' data-type='int' data-ref="150transmit_mode">transmit_mode</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="151guard" title='guard' data-type='uint32_t' data-ref="151guard">guard</dfn>, <em>int</em> <dfn class="local col2 decl" id="152hierarchy" title='hierarchy' data-type='int' data-ref="152hierarchy">hierarchy</dfn>)</td></tr>
<tr><th id="972">972</th><td>{</td></tr>
<tr><th id="973">973</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="153mod" title='mod' data-type='uint32_t' data-ref="153mod">mod</dfn> = <a class="tu ref" href="#dvb_parse_modulation" title='dvb_parse_modulation' data-use='c' data-ref="dvb_parse_modulation">dvb_parse_modulation</a> (<a class="local col6 ref" href="#146modstr" title='modstr' data-ref="146modstr">modstr</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_AUTO" title='fe_modulation::QAM_AUTO' data-ref="fe_modulation::QAM_AUTO">QAM_AUTO</a>);</td></tr>
<tr><th id="974">974</th><td>    <a class="local col7 ref" href="#147fec_hp" title='fec_hp' data-ref="147fec_hp">fec_hp</a> = <a class="tu ref" href="#dvb_parse_fec" title='dvb_parse_fec' data-use='c' data-ref="dvb_parse_fec">dvb_parse_fec</a> (<a class="local col7 ref" href="#147fec_hp" title='fec_hp' data-ref="147fec_hp">fec_hp</a>);</td></tr>
<tr><th id="975">975</th><td>    <a class="local col8 ref" href="#148fec_lp" title='fec_lp' data-ref="148fec_lp">fec_lp</a> = <a class="tu ref" href="#dvb_parse_fec" title='dvb_parse_fec' data-use='c' data-ref="dvb_parse_fec">dvb_parse_fec</a> (<a class="local col8 ref" href="#148fec_lp" title='fec_lp' data-ref="148fec_lp">fec_lp</a>);</td></tr>
<tr><th id="976">976</th><td>    <a class="local col9 ref" href="#149bandwidth" title='bandwidth' data-ref="149bandwidth">bandwidth</a> = <a class="tu ref" href="#dvb_parse_bandwidth" title='dvb_parse_bandwidth' data-use='c' data-ref="dvb_parse_bandwidth">dvb_parse_bandwidth</a> (<a class="local col9 ref" href="#149bandwidth" title='bandwidth' data-ref="149bandwidth">bandwidth</a>);</td></tr>
<tr><th id="977">977</th><td>    <a class="local col0 ref" href="#150transmit_mode" title='transmit_mode' data-ref="150transmit_mode">transmit_mode</a> = <a class="tu ref" href="#dvb_parse_transmit_mode" title='dvb_parse_transmit_mode' data-use='c' data-ref="dvb_parse_transmit_mode">dvb_parse_transmit_mode</a> (<a class="local col0 ref" href="#150transmit_mode" title='transmit_mode' data-ref="150transmit_mode">transmit_mode</a>);</td></tr>
<tr><th id="978">978</th><td>    <a class="local col1 ref" href="#151guard" title='guard' data-ref="151guard">guard</a> = <a class="tu ref" href="#dvb_parse_guard" title='dvb_parse_guard' data-use='c' data-ref="dvb_parse_guard">dvb_parse_guard</a> (<a class="local col1 ref" href="#151guard" title='guard' data-ref="151guard">guard</a>);</td></tr>
<tr><th id="979">979</th><td>    <a class="local col2 ref" href="#152hierarchy" title='hierarchy' data-ref="152hierarchy">hierarchy</a> = <a class="tu ref" href="#dvb_parse_hierarchy" title='dvb_parse_hierarchy' data-use='c' data-ref="dvb_parse_hierarchy">dvb_parse_hierarchy</a> (<a class="local col2 ref" href="#152hierarchy" title='hierarchy' data-ref="152hierarchy">hierarchy</a>);</td></tr>
<tr><th id="980">980</th><td></td></tr>
<tr><th id="981">981</th><td>    <b>if</b> (<a class="macro" href="#454" title="(dvb_open_frontend(d))" data-ref="_M/dvb_find_frontend">dvb_find_frontend</a> (<a class="local col4 ref" href="#144d" title='d' data-ref="144d">d</a>, DVB_T))</td></tr>
<tr><th id="982">982</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="983">983</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col4 ref" href="#144d" title='d' data-ref="144d">d</a>, <var>10</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#286" title="2" data-ref="_M/DTV_CLEAR">DTV_CLEAR</a>, <var>0</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#303" title="17" data-ref="_M/DTV_DELIVERY_SYSTEM">DTV_DELIVERY_SYSTEM</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBT" title='fe_delivery_system::SYS_DVBT' data-ref="fe_delivery_system::SYS_DVBT">SYS_DVBT</a>,</td></tr>
<tr><th id="984">984</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#287" title="3" data-ref="_M/DTV_FREQUENCY">DTV_FREQUENCY</a>, <a class="local col5 ref" href="#145freq" title='freq' data-ref="145freq">freq</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#288" title="4" data-ref="_M/DTV_MODULATION">DTV_MODULATION</a>, <a class="local col3 ref" href="#153mod" title='mod' data-ref="153mod">mod</a>,</td></tr>
<tr><th id="985">985</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#330" title="36" data-ref="_M/DTV_CODE_RATE_HP">DTV_CODE_RATE_HP</a>, <a class="local col7 ref" href="#147fec_hp" title='fec_hp' data-ref="147fec_hp">fec_hp</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#331" title="37" data-ref="_M/DTV_CODE_RATE_LP">DTV_CODE_RATE_LP</a>, <a class="local col8 ref" href="#148fec_lp" title='fec_lp' data-ref="148fec_lp">fec_lp</a>,</td></tr>
<tr><th id="986">986</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#289" title="5" data-ref="_M/DTV_BANDWIDTH_HZ">DTV_BANDWIDTH_HZ</a>, <a class="local col9 ref" href="#149bandwidth" title='bandwidth' data-ref="149bandwidth">bandwidth</a>,</td></tr>
<tr><th id="987">987</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#333" title="39" data-ref="_M/DTV_TRANSMISSION_MODE">DTV_TRANSMISSION_MODE</a>, <a class="local col0 ref" href="#150transmit_mode" title='transmit_mode' data-ref="150transmit_mode">transmit_mode</a>,</td></tr>
<tr><th id="988">988</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#332" title="38" data-ref="_M/DTV_GUARD_INTERVAL">DTV_GUARD_INTERVAL</a>, <a class="local col1 ref" href="#151guard" title='guard' data-ref="151guard">guard</a>,</td></tr>
<tr><th id="989">989</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#334" title="40" data-ref="_M/DTV_HIERARCHY">DTV_HIERARCHY</a>, <a class="local col2 ref" href="#152hierarchy" title='hierarchy' data-ref="152hierarchy">hierarchy</a>);</td></tr>
<tr><th id="990">990</th><td>}</td></tr>
<tr><th id="991">991</th><td></td></tr>
<tr><th id="992">992</th><td><em>int</em> <dfn class="decl def" id="dvb_set_dvbt2" title='dvb_set_dvbt2' data-ref="dvb_set_dvbt2">dvb_set_dvbt2</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col4 decl" id="154d" title='d' data-type='dvb_device_t *' data-ref="154d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="155freq" title='freq' data-type='uint32_t' data-ref="155freq">freq</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="156modstr" title='modstr' data-type='const char *' data-ref="156modstr">modstr</dfn>,</td></tr>
<tr><th id="993">993</th><td>                   <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="157fec" title='fec' data-type='uint32_t' data-ref="157fec">fec</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="158bandwidth" title='bandwidth' data-type='uint32_t' data-ref="158bandwidth">bandwidth</dfn>,</td></tr>
<tr><th id="994">994</th><td>                   <em>int</em> <dfn class="local col9 decl" id="159transmit_mode" title='transmit_mode' data-type='int' data-ref="159transmit_mode">transmit_mode</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="160guard" title='guard' data-type='uint32_t' data-ref="160guard">guard</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="161plp" title='plp' data-type='uint32_t' data-ref="161plp">plp</dfn>)</td></tr>
<tr><th id="995">995</th><td>{</td></tr>
<tr><th id="996">996</th><td><u>#<span data-ppcond="996">if</span> <a class="macro" href="#49" title="(5 &gt; 5 || (5 == 5 &amp;&amp; 10 &gt;= (3)))" data-ref="_M/DVBv5">DVBv5</a>(3)</u></td></tr>
<tr><th id="997">997</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="162mod" title='mod' data-type='uint32_t' data-ref="162mod">mod</dfn> = <a class="tu ref" href="#dvb_parse_modulation" title='dvb_parse_modulation' data-use='c' data-ref="dvb_parse_modulation">dvb_parse_modulation</a> (<a class="local col6 ref" href="#156modstr" title='modstr' data-ref="156modstr">modstr</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_AUTO" title='fe_modulation::QAM_AUTO' data-ref="fe_modulation::QAM_AUTO">QAM_AUTO</a>);</td></tr>
<tr><th id="998">998</th><td>    <a class="local col7 ref" href="#157fec" title='fec' data-ref="157fec">fec</a> = <a class="tu ref" href="#dvb_parse_fec" title='dvb_parse_fec' data-use='c' data-ref="dvb_parse_fec">dvb_parse_fec</a> (<a class="local col7 ref" href="#157fec" title='fec' data-ref="157fec">fec</a>);</td></tr>
<tr><th id="999">999</th><td>    <a class="local col8 ref" href="#158bandwidth" title='bandwidth' data-ref="158bandwidth">bandwidth</a> = <a class="tu ref" href="#dvb_parse_bandwidth" title='dvb_parse_bandwidth' data-use='c' data-ref="dvb_parse_bandwidth">dvb_parse_bandwidth</a> (<a class="local col8 ref" href="#158bandwidth" title='bandwidth' data-ref="158bandwidth">bandwidth</a>);</td></tr>
<tr><th id="1000">1000</th><td>    <a class="local col9 ref" href="#159transmit_mode" title='transmit_mode' data-ref="159transmit_mode">transmit_mode</a> = <a class="tu ref" href="#dvb_parse_transmit_mode" title='dvb_parse_transmit_mode' data-use='c' data-ref="dvb_parse_transmit_mode">dvb_parse_transmit_mode</a> (<a class="local col9 ref" href="#159transmit_mode" title='transmit_mode' data-ref="159transmit_mode">transmit_mode</a>);</td></tr>
<tr><th id="1001">1001</th><td>    <a class="local col0 ref" href="#160guard" title='guard' data-ref="160guard">guard</a> = <a class="tu ref" href="#dvb_parse_guard" title='dvb_parse_guard' data-use='c' data-ref="dvb_parse_guard">dvb_parse_guard</a> (<a class="local col0 ref" href="#160guard" title='guard' data-ref="160guard">guard</a>);</td></tr>
<tr><th id="1002">1002</th><td></td></tr>
<tr><th id="1003">1003</th><td>    <b>if</b> (<a class="macro" href="#454" title="(dvb_open_frontend(d))" data-ref="_M/dvb_find_frontend">dvb_find_frontend</a> (<a class="local col4 ref" href="#154d" title='d' data-ref="154d">d</a>, DVB_T2))</td></tr>
<tr><th id="1004">1004</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1005">1005</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col4 ref" href="#154d" title='d' data-ref="154d">d</a>, <var>9</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#286" title="2" data-ref="_M/DTV_CLEAR">DTV_CLEAR</a>, <var>0</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#303" title="17" data-ref="_M/DTV_DELIVERY_SYSTEM">DTV_DELIVERY_SYSTEM</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBT2" title='fe_delivery_system::SYS_DVBT2' data-ref="fe_delivery_system::SYS_DVBT2">SYS_DVBT2</a>,</td></tr>
<tr><th id="1006">1006</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#287" title="3" data-ref="_M/DTV_FREQUENCY">DTV_FREQUENCY</a>, <a class="local col5 ref" href="#155freq" title='freq' data-ref="155freq">freq</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#288" title="4" data-ref="_M/DTV_MODULATION">DTV_MODULATION</a>, <a class="local col2 ref" href="#162mod" title='mod' data-ref="162mod">mod</a>,</td></tr>
<tr><th id="1007">1007</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#293" title="9" data-ref="_M/DTV_INNER_FEC">DTV_INNER_FEC</a>, <a class="local col7 ref" href="#157fec" title='fec' data-ref="157fec">fec</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#289" title="5" data-ref="_M/DTV_BANDWIDTH_HZ">DTV_BANDWIDTH_HZ</a>, <a class="local col8 ref" href="#158bandwidth" title='bandwidth' data-ref="158bandwidth">bandwidth</a>,</td></tr>
<tr><th id="1008">1008</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#333" title="39" data-ref="_M/DTV_TRANSMISSION_MODE">DTV_TRANSMISSION_MODE</a>, <a class="local col9 ref" href="#159transmit_mode" title='transmit_mode' data-ref="159transmit_mode">transmit_mode</a>,</td></tr>
<tr><th id="1009">1009</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#332" title="38" data-ref="_M/DTV_GUARD_INTERVAL">DTV_GUARD_INTERVAL</a>, <a class="local col0 ref" href="#160guard" title='guard' data-ref="160guard">guard</a>,</td></tr>
<tr><th id="1010">1010</th><td><u># <span data-ppcond="1010">if</span> <a class="macro" href="#49" title="(5 &gt; 5 || (5 == 5 &amp;&amp; 10 &gt;= (8)))" data-ref="_M/DVBv5">DVBv5</a>(8)</u></td></tr>
<tr><th id="1011">1011</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#338" title="42" data-ref="_M/DTV_STREAM_ID">DTV_STREAM_ID</a>,</td></tr>
<tr><th id="1012">1012</th><td><u># <span data-ppcond="1010">else</span></u></td></tr>
<tr><th id="1013">1013</th><td>                          DTV_DVBT2_PLP_ID,</td></tr>
<tr><th id="1014">1014</th><td><u># <span data-ppcond="1010">endif</span></u></td></tr>
<tr><th id="1015">1015</th><td>                          <a class="local col1 ref" href="#161plp" title='plp' data-ref="161plp">plp</a>);</td></tr>
<tr><th id="1016">1016</th><td><u>#<span data-ppcond="996">else</span></u></td></tr>
<tr><th id="1017">1017</th><td><u># warning DVB-T2 needs Linux DVB version 5.3 or later.</u></td></tr>
<tr><th id="1018">1018</th><td>    msg_Err (d-&gt;obj, <q>"DVB-T2 support not compiled-in"</q>);</td></tr>
<tr><th id="1019">1019</th><td>    (<em>void</em>) freq; (<em>void</em>) modstr; (<em>void</em>) fec; (<em>void</em>) bandwidth;</td></tr>
<tr><th id="1020">1020</th><td>    (<em>void</em>) transmit_mode; (<em>void</em>) guard;</td></tr>
<tr><th id="1021">1021</th><td>    <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1022">1022</th><td><u>#<span data-ppcond="996">endif</span></u></td></tr>
<tr><th id="1023">1023</th><td>}</td></tr>
<tr><th id="1024">1024</th><td></td></tr>
<tr><th id="1025">1025</th><td></td></tr>
<tr><th id="1026">1026</th><td><i>/*** ISDB-C ***/</i></td></tr>
<tr><th id="1027">1027</th><td><em>int</em> <dfn class="decl def" id="dvb_set_isdbc" title='dvb_set_isdbc' data-ref="dvb_set_isdbc">dvb_set_isdbc</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col3 decl" id="163d" title='d' data-type='dvb_device_t *' data-ref="163d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col4 decl" id="164freq" title='freq' data-type='uint32_t' data-ref="164freq">freq</dfn>, <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="165modstr" title='modstr' data-type='const char *' data-ref="165modstr">modstr</dfn>,</td></tr>
<tr><th id="1028">1028</th><td>                   <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="166srate" title='srate' data-type='uint32_t' data-ref="166srate">srate</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="167fec" title='fec' data-type='uint32_t' data-ref="167fec">fec</dfn>)</td></tr>
<tr><th id="1029">1029</th><td>{</td></tr>
<tr><th id="1030">1030</th><td>    <em>unsigned</em> <dfn class="local col8 decl" id="168mod" title='mod' data-type='unsigned int' data-ref="168mod">mod</dfn> = <a class="tu ref" href="#dvb_parse_modulation" title='dvb_parse_modulation' data-use='c' data-ref="dvb_parse_modulation">dvb_parse_modulation</a> (<a class="local col5 ref" href="#165modstr" title='modstr' data-ref="165modstr">modstr</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_AUTO" title='fe_modulation::QAM_AUTO' data-ref="fe_modulation::QAM_AUTO">QAM_AUTO</a>);</td></tr>
<tr><th id="1031">1031</th><td>    <a class="local col7 ref" href="#167fec" title='fec' data-ref="167fec">fec</a> = <a class="tu ref" href="#dvb_parse_fec" title='dvb_parse_fec' data-use='c' data-ref="dvb_parse_fec">dvb_parse_fec</a> (<a class="local col7 ref" href="#167fec" title='fec' data-ref="167fec">fec</a>);</td></tr>
<tr><th id="1032">1032</th><td></td></tr>
<tr><th id="1033">1033</th><td>    <b>if</b> (<a class="macro" href="#454" title="(dvb_open_frontend(d))" data-ref="_M/dvb_find_frontend">dvb_find_frontend</a> (<a class="local col3 ref" href="#163d" title='d' data-ref="163d">d</a>, ISDB_C))</td></tr>
<tr><th id="1034">1034</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1035">1035</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col3 ref" href="#163d" title='d' data-ref="163d">d</a>, <var>6</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#286" title="2" data-ref="_M/DTV_CLEAR">DTV_CLEAR</a>, <var>0</var>,</td></tr>
<tr><th id="1036">1036</th><td><u>#<span data-ppcond="1036">if</span> <a class="macro" href="#49" title="(5 &gt; 5 || (5 == 5 &amp;&amp; 10 &gt;= (5)))" data-ref="_M/DVBv5">DVBv5</a>(5)</u></td></tr>
<tr><th id="1037">1037</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#303" title="17" data-ref="_M/DTV_DELIVERY_SYSTEM">DTV_DELIVERY_SYSTEM</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBC_ANNEX_C" title='fe_delivery_system::SYS_DVBC_ANNEX_C' data-ref="fe_delivery_system::SYS_DVBC_ANNEX_C">SYS_DVBC_ANNEX_C</a>,</td></tr>
<tr><th id="1038">1038</th><td><u>#<span data-ppcond="1036">else</span></u></td></tr>
<tr><th id="1039">1039</th><td><u># warning ISDB-C might need Linux DVB version 5.5 or later.</u></td></tr>
<tr><th id="1040">1040</th><td>                          DTV_DELIVERY_SYSTEM, SYS_DVBC_ANNEX_AC,</td></tr>
<tr><th id="1041">1041</th><td><u>#<span data-ppcond="1036">endif</span></u></td></tr>
<tr><th id="1042">1042</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#287" title="3" data-ref="_M/DTV_FREQUENCY">DTV_FREQUENCY</a>, <a class="local col4 ref" href="#164freq" title='freq' data-ref="164freq">freq</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#288" title="4" data-ref="_M/DTV_MODULATION">DTV_MODULATION</a>, <a class="local col8 ref" href="#168mod" title='mod' data-ref="168mod">mod</a>,</td></tr>
<tr><th id="1043">1043</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#292" title="8" data-ref="_M/DTV_SYMBOL_RATE">DTV_SYMBOL_RATE</a>, <a class="local col6 ref" href="#166srate" title='srate' data-ref="166srate">srate</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#293" title="9" data-ref="_M/DTV_INNER_FEC">DTV_INNER_FEC</a>, <a class="local col7 ref" href="#167fec" title='fec' data-ref="167fec">fec</a>);</td></tr>
<tr><th id="1044">1044</th><td>}</td></tr>
<tr><th id="1045">1045</th><td></td></tr>
<tr><th id="1046">1046</th><td></td></tr>
<tr><th id="1047">1047</th><td><i>/*** ISDB-S ***/</i></td></tr>
<tr><th id="1048">1048</th><td><em>int</em> <dfn class="decl def" id="dvb_set_isdbs" title='dvb_set_isdbs' data-ref="dvb_set_isdbs">dvb_set_isdbs</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col9 decl" id="169d" title='d' data-type='dvb_device_t *' data-ref="169d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint64_t" title='uint64_t' data-type='unsigned long' data-ref="uint64_t">uint64_t</a> <dfn class="local col0 decl" id="170freq_Hz" title='freq_Hz' data-type='uint64_t' data-ref="170freq_Hz">freq_Hz</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint16_t" title='uint16_t' data-type='unsigned short' data-ref="uint16_t">uint16_t</a> <dfn class="local col1 decl" id="171ts_id" title='ts_id' data-type='uint16_t' data-ref="171ts_id">ts_id</dfn>)</td></tr>
<tr><th id="1049">1049</th><td>{</td></tr>
<tr><th id="1050">1050</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="172freq" title='freq' data-type='uint32_t' data-ref="172freq">freq</dfn> = <a class="local col0 ref" href="#170freq_Hz" title='freq_Hz' data-ref="170freq_Hz">freq_Hz</a> / <var>1000</var>;</td></tr>
<tr><th id="1051">1051</th><td></td></tr>
<tr><th id="1052">1052</th><td>    <b>if</b> (<a class="macro" href="#454" title="(dvb_open_frontend(d))" data-ref="_M/dvb_find_frontend">dvb_find_frontend</a> (<a class="local col9 ref" href="#169d" title='d' data-ref="169d">d</a>, ISDB_S))</td></tr>
<tr><th id="1053">1053</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1054">1054</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col9 ref" href="#169d" title='d' data-ref="169d">d</a>, <var>4</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#286" title="2" data-ref="_M/DTV_CLEAR">DTV_CLEAR</a>, <var>0</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#303" title="17" data-ref="_M/DTV_DELIVERY_SYSTEM">DTV_DELIVERY_SYSTEM</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_ISDBS" title='fe_delivery_system::SYS_ISDBS' data-ref="fe_delivery_system::SYS_ISDBS">SYS_ISDBS</a>,</td></tr>
<tr><th id="1055">1055</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#287" title="3" data-ref="_M/DTV_FREQUENCY">DTV_FREQUENCY</a>, <a class="local col2 ref" href="#172freq" title='freq' data-ref="172freq">freq</a>,</td></tr>
<tr><th id="1056">1056</th><td><u>#<span data-ppcond="1056">if</span> <a class="macro" href="#49" title="(5 &gt; 5 || (5 == 5 &amp;&amp; 10 &gt;= (8)))" data-ref="_M/DVBv5">DVBv5</a>(8)</u></td></tr>
<tr><th id="1057">1057</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#338" title="42" data-ref="_M/DTV_STREAM_ID">DTV_STREAM_ID</a>,</td></tr>
<tr><th id="1058">1058</th><td><u>#<span data-ppcond="1056">else</span></u></td></tr>
<tr><th id="1059">1059</th><td>                          DTV_ISDBS_TS_ID,</td></tr>
<tr><th id="1060">1060</th><td><u>#<span data-ppcond="1056">endif</span></u></td></tr>
<tr><th id="1061">1061</th><td>                          (<a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a>)<a class="local col1 ref" href="#171ts_id" title='ts_id' data-ref="171ts_id">ts_id</a>);</td></tr>
<tr><th id="1062">1062</th><td>}</td></tr>
<tr><th id="1063">1063</th><td></td></tr>
<tr><th id="1064">1064</th><td></td></tr>
<tr><th id="1065">1065</th><td><i  data-doc="dvb_set_isdbt_layer">/*** ISDB-T ***/</i></td></tr>
<tr><th id="1066">1066</th><td><em>static</em> <em>int</em> <dfn class="tu decl def" id="dvb_set_isdbt_layer" title='dvb_set_isdbt_layer' data-type='int dvb_set_isdbt_layer(dvb_device_t * d, unsigned int num, const isdbt_layer_t * l)' data-ref="dvb_set_isdbt_layer">dvb_set_isdbt_layer</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col3 decl" id="173d" title='d' data-type='dvb_device_t *' data-ref="173d">d</dfn>, <em>unsigned</em> <dfn class="local col4 decl" id="174num" title='num' data-type='unsigned int' data-ref="174num">num</dfn>,</td></tr>
<tr><th id="1067">1067</th><td>                                <em>const</em> <a class="typedef" href="dtv.h.html#isdbt_layer_t" title='isdbt_layer_t' data-type='struct isdbt_layer' data-ref="isdbt_layer_t">isdbt_layer_t</a> *<dfn class="local col5 decl" id="175l" title='l' data-type='const isdbt_layer_t *' data-ref="175l">l</dfn>)</td></tr>
<tr><th id="1068">1068</th><td>{</td></tr>
<tr><th id="1069">1069</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="176mod" title='mod' data-type='uint32_t' data-ref="176mod">mod</dfn> = <a class="tu ref" href="#dvb_parse_modulation" title='dvb_parse_modulation' data-use='c' data-ref="dvb_parse_modulation">dvb_parse_modulation</a> (<a class="local col5 ref" href="#175l" title='l' data-ref="175l">l</a>-&gt;<a class="ref" href="dtv.h.html#isdbt_layer::modulation" title='isdbt_layer::modulation' data-ref="isdbt_layer::modulation">modulation</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_AUTO" title='fe_modulation::QAM_AUTO' data-ref="fe_modulation::QAM_AUTO">QAM_AUTO</a>);</td></tr>
<tr><th id="1070">1070</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="177fec" title='fec' data-type='uint32_t' data-ref="177fec">fec</dfn> = <a class="tu ref" href="#dvb_parse_fec" title='dvb_parse_fec' data-use='c' data-ref="dvb_parse_fec">dvb_parse_fec</a> (<a class="local col5 ref" href="#175l" title='l' data-ref="175l">l</a>-&gt;<a class="ref" href="dtv.h.html#isdbt_layer::code_rate" title='isdbt_layer::code_rate' data-ref="isdbt_layer::code_rate">code_rate</a>);</td></tr>
<tr><th id="1071">1071</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="178count" title='count' data-type='uint32_t' data-ref="178count">count</dfn> = <a class="local col5 ref" href="#175l" title='l' data-ref="175l">l</a>-&gt;<a class="ref" href="dtv.h.html#isdbt_layer::segment_count" title='isdbt_layer::segment_count' data-ref="isdbt_layer::segment_count">segment_count</a>;</td></tr>
<tr><th id="1072">1072</th><td>    <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="179ti" title='ti' data-type='uint32_t' data-ref="179ti">ti</dfn> = <a class="local col5 ref" href="#175l" title='l' data-ref="175l">l</a>-&gt;<a class="ref" href="dtv.h.html#isdbt_layer::time_interleaving" title='isdbt_layer::time_interleaving' data-ref="isdbt_layer::time_interleaving">time_interleaving</a>;</td></tr>
<tr><th id="1073">1073</th><td></td></tr>
<tr><th id="1074">1074</th><td>    <a class="local col4 ref" href="#174num" title='num' data-ref="174num">num</a> *= <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#318" title="27" data-ref="_M/DTV_ISDBT_LAYERB_FEC">DTV_ISDBT_LAYERB_FEC</a> - <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#313" title="23" data-ref="_M/DTV_ISDBT_LAYERA_FEC">DTV_ISDBT_LAYERA_FEC</a>;</td></tr>
<tr><th id="1075">1075</th><td></td></tr>
<tr><th id="1076">1076</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col3 ref" href="#173d" title='d' data-ref="173d">d</a>, <var>5</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#303" title="17" data-ref="_M/DTV_DELIVERY_SYSTEM">DTV_DELIVERY_SYSTEM</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_ISDBT" title='fe_delivery_system::SYS_ISDBT' data-ref="fe_delivery_system::SYS_ISDBT">SYS_ISDBT</a>,</td></tr>
<tr><th id="1077">1077</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#313" title="23" data-ref="_M/DTV_ISDBT_LAYERA_FEC">DTV_ISDBT_LAYERA_FEC</a> + <a class="local col4 ref" href="#174num" title='num' data-ref="174num">num</a>, <a class="local col7 ref" href="#177fec" title='fec' data-ref="177fec">fec</a>,</td></tr>
<tr><th id="1078">1078</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#314" title="24" data-ref="_M/DTV_ISDBT_LAYERA_MODULATION">DTV_ISDBT_LAYERA_MODULATION</a> + <a class="local col4 ref" href="#174num" title='num' data-ref="174num">num</a>, <a class="local col6 ref" href="#176mod" title='mod' data-ref="176mod">mod</a>,</td></tr>
<tr><th id="1079">1079</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#315" title="25" data-ref="_M/DTV_ISDBT_LAYERA_SEGMENT_COUNT">DTV_ISDBT_LAYERA_SEGMENT_COUNT</a> + <a class="local col4 ref" href="#174num" title='num' data-ref="174num">num</a>, <a class="local col8 ref" href="#178count" title='count' data-ref="178count">count</a>,</td></tr>
<tr><th id="1080">1080</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#316" title="26" data-ref="_M/DTV_ISDBT_LAYERA_TIME_INTERLEAVING">DTV_ISDBT_LAYERA_TIME_INTERLEAVING</a> + <a class="local col4 ref" href="#174num" title='num' data-ref="174num">num</a>, <a class="local col9 ref" href="#179ti" title='ti' data-ref="179ti">ti</a>);</td></tr>
<tr><th id="1081">1081</th><td>}</td></tr>
<tr><th id="1082">1082</th><td></td></tr>
<tr><th id="1083">1083</th><td><em>int</em> <dfn class="decl def" id="dvb_set_isdbt" title='dvb_set_isdbt' data-ref="dvb_set_isdbt">dvb_set_isdbt</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col0 decl" id="180d" title='d' data-type='dvb_device_t *' data-ref="180d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="181freq" title='freq' data-type='uint32_t' data-ref="181freq">freq</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="182bandwidth" title='bandwidth' data-type='uint32_t' data-ref="182bandwidth">bandwidth</dfn>,</td></tr>
<tr><th id="1084">1084</th><td>                   <em>int</em> <dfn class="local col3 decl" id="183transmit_mode" title='transmit_mode' data-type='int' data-ref="183transmit_mode">transmit_mode</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col4 decl" id="184guard" title='guard' data-type='uint32_t' data-ref="184guard">guard</dfn>,</td></tr>
<tr><th id="1085">1085</th><td>                   <em>const</em> <a class="typedef" href="dtv.h.html#isdbt_layer_t" title='isdbt_layer_t' data-type='struct isdbt_layer' data-ref="isdbt_layer_t">isdbt_layer_t</a> <dfn class="local col5 decl" id="185layers" title='layers' data-type='const isdbt_layer_t *' data-ref="185layers">layers</dfn>[<var>3</var>])</td></tr>
<tr><th id="1086">1086</th><td>{</td></tr>
<tr><th id="1087">1087</th><td>    <a class="local col2 ref" href="#182bandwidth" title='bandwidth' data-ref="182bandwidth">bandwidth</a> = <a class="tu ref" href="#dvb_parse_bandwidth" title='dvb_parse_bandwidth' data-use='c' data-ref="dvb_parse_bandwidth">dvb_parse_bandwidth</a> (<a class="local col2 ref" href="#182bandwidth" title='bandwidth' data-ref="182bandwidth">bandwidth</a>);</td></tr>
<tr><th id="1088">1088</th><td>    <a class="local col3 ref" href="#183transmit_mode" title='transmit_mode' data-ref="183transmit_mode">transmit_mode</a> = <a class="tu ref" href="#dvb_parse_transmit_mode" title='dvb_parse_transmit_mode' data-use='c' data-ref="dvb_parse_transmit_mode">dvb_parse_transmit_mode</a> (<a class="local col3 ref" href="#183transmit_mode" title='transmit_mode' data-ref="183transmit_mode">transmit_mode</a>);</td></tr>
<tr><th id="1089">1089</th><td>    <a class="local col4 ref" href="#184guard" title='guard' data-ref="184guard">guard</a> = <a class="tu ref" href="#dvb_parse_guard" title='dvb_parse_guard' data-use='c' data-ref="dvb_parse_guard">dvb_parse_guard</a> (<a class="local col4 ref" href="#184guard" title='guard' data-ref="184guard">guard</a>);</td></tr>
<tr><th id="1090">1090</th><td></td></tr>
<tr><th id="1091">1091</th><td>    <b>if</b> (<a class="macro" href="#454" title="(dvb_open_frontend(d))" data-ref="_M/dvb_find_frontend">dvb_find_frontend</a> (<a class="local col0 ref" href="#180d" title='d' data-ref="180d">d</a>, ISDB_T))</td></tr>
<tr><th id="1092">1092</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1093">1093</th><td>    <b>if</b> (<a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col0 ref" href="#180d" title='d' data-ref="180d">d</a>, <var>5</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#286" title="2" data-ref="_M/DTV_CLEAR">DTV_CLEAR</a>, <var>0</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#303" title="17" data-ref="_M/DTV_DELIVERY_SYSTEM">DTV_DELIVERY_SYSTEM</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_ISDBT" title='fe_delivery_system::SYS_ISDBT' data-ref="fe_delivery_system::SYS_ISDBT">SYS_ISDBT</a>,</td></tr>
<tr><th id="1094">1094</th><td>                       <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#287" title="3" data-ref="_M/DTV_FREQUENCY">DTV_FREQUENCY</a>, <a class="local col1 ref" href="#181freq" title='freq' data-ref="181freq">freq</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#289" title="5" data-ref="_M/DTV_BANDWIDTH_HZ">DTV_BANDWIDTH_HZ</a>, <a class="local col2 ref" href="#182bandwidth" title='bandwidth' data-ref="182bandwidth">bandwidth</a>,</td></tr>
<tr><th id="1095">1095</th><td>                       <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#332" title="38" data-ref="_M/DTV_GUARD_INTERVAL">DTV_GUARD_INTERVAL</a>, <a class="local col4 ref" href="#184guard" title='guard' data-ref="184guard">guard</a>))</td></tr>
<tr><th id="1096">1096</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1097">1097</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col6 decl" id="186i" title='i' data-type='unsigned int' data-ref="186i">i</dfn> = <var>0</var>; <a class="local col6 ref" href="#186i" title='i' data-ref="186i">i</a> &lt; <var>3</var>; <a class="local col6 ref" href="#186i" title='i' data-ref="186i">i</a>++)</td></tr>
<tr><th id="1098">1098</th><td>        <b>if</b> (<a class="tu ref" href="#dvb_set_isdbt_layer" title='dvb_set_isdbt_layer' data-use='c' data-ref="dvb_set_isdbt_layer">dvb_set_isdbt_layer</a> (<a class="local col0 ref" href="#180d" title='d' data-ref="180d">d</a>, <a class="local col6 ref" href="#186i" title='i' data-ref="186i">i</a>, <a class="local col5 ref" href="#185layers" title='layers' data-ref="185layers">layers</a> + <a class="local col6 ref" href="#186i" title='i' data-ref="186i">i</a>))</td></tr>
<tr><th id="1099">1099</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1100">1100</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="1101">1101</th><td>}</td></tr>
<tr><th id="1102">1102</th><td></td></tr>
<tr><th id="1103">1103</th><td></td></tr>
<tr><th id="1104">1104</th><td><i>/*** ATSC ***/</i></td></tr>
<tr><th id="1105">1105</th><td><em>int</em> <dfn class="decl def" id="dvb_set_atsc" title='dvb_set_atsc' data-ref="dvb_set_atsc">dvb_set_atsc</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col7 decl" id="187d" title='d' data-type='dvb_device_t *' data-ref="187d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="188freq" title='freq' data-type='uint32_t' data-ref="188freq">freq</dfn>, <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="189modstr" title='modstr' data-type='const char *' data-ref="189modstr">modstr</dfn>)</td></tr>
<tr><th id="1106">1106</th><td>{</td></tr>
<tr><th id="1107">1107</th><td>    <em>unsigned</em> <dfn class="local col0 decl" id="190mod" title='mod' data-type='unsigned int' data-ref="190mod">mod</dfn> = <a class="tu ref" href="#dvb_parse_modulation" title='dvb_parse_modulation' data-use='c' data-ref="dvb_parse_modulation">dvb_parse_modulation</a> (<a class="local col9 ref" href="#189modstr" title='modstr' data-ref="189modstr">modstr</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::VSB_8" title='fe_modulation::VSB_8' data-ref="fe_modulation::VSB_8">VSB_8</a>);</td></tr>
<tr><th id="1108">1108</th><td></td></tr>
<tr><th id="1109">1109</th><td>    <b>if</b> (<a class="macro" href="#454" title="(dvb_open_frontend(d))" data-ref="_M/dvb_find_frontend">dvb_find_frontend</a> (<a class="local col7 ref" href="#187d" title='d' data-ref="187d">d</a>, ATSC))</td></tr>
<tr><th id="1110">1110</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1111">1111</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col7 ref" href="#187d" title='d' data-ref="187d">d</a>, <var>4</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#286" title="2" data-ref="_M/DTV_CLEAR">DTV_CLEAR</a>, <var>0</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#303" title="17" data-ref="_M/DTV_DELIVERY_SYSTEM">DTV_DELIVERY_SYSTEM</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_ATSC" title='fe_delivery_system::SYS_ATSC' data-ref="fe_delivery_system::SYS_ATSC">SYS_ATSC</a>,</td></tr>
<tr><th id="1112">1112</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#287" title="3" data-ref="_M/DTV_FREQUENCY">DTV_FREQUENCY</a>, <a class="local col8 ref" href="#188freq" title='freq' data-ref="188freq">freq</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#288" title="4" data-ref="_M/DTV_MODULATION">DTV_MODULATION</a>, <a class="local col0 ref" href="#190mod" title='mod' data-ref="190mod">mod</a>);</td></tr>
<tr><th id="1113">1113</th><td>}</td></tr>
<tr><th id="1114">1114</th><td></td></tr>
<tr><th id="1115">1115</th><td><em>int</em> <dfn class="decl def" id="dvb_set_cqam" title='dvb_set_cqam' data-ref="dvb_set_cqam">dvb_set_cqam</dfn> (<a class="typedef" href="dtv.h.html#dvb_device_t" title='dvb_device_t' data-type='struct dvb_device' data-ref="dvb_device_t">dvb_device_t</a> *<dfn class="local col1 decl" id="191d" title='d' data-type='dvb_device_t *' data-ref="191d">d</dfn>, <a class="typedef" href="../../../../include/stdint.h.html#uint32_t" title='uint32_t' data-type='unsigned int' data-ref="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="192freq" title='freq' data-type='uint32_t' data-ref="192freq">freq</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="193modstr" title='modstr' data-type='const char *' data-ref="193modstr">modstr</dfn>)</td></tr>
<tr><th id="1116">1116</th><td>{</td></tr>
<tr><th id="1117">1117</th><td>    <em>unsigned</em> <dfn class="local col4 decl" id="194mod" title='mod' data-type='unsigned int' data-ref="194mod">mod</dfn> = <a class="tu ref" href="#dvb_parse_modulation" title='dvb_parse_modulation' data-use='c' data-ref="dvb_parse_modulation">dvb_parse_modulation</a> (<a class="local col3 ref" href="#193modstr" title='modstr' data-ref="193modstr">modstr</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_modulation::QAM_AUTO" title='fe_modulation::QAM_AUTO' data-ref="fe_modulation::QAM_AUTO">QAM_AUTO</a>);</td></tr>
<tr><th id="1118">1118</th><td></td></tr>
<tr><th id="1119">1119</th><td>    <b>if</b> (<a class="macro" href="#454" title="(dvb_open_frontend(d))" data-ref="_M/dvb_find_frontend">dvb_find_frontend</a> (<a class="local col1 ref" href="#191d" title='d' data-ref="191d">d</a>, CQAM))</td></tr>
<tr><th id="1120">1120</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="1121">1121</th><td>    <b>return</b> <a class="tu ref" href="#dvb_set_props" title='dvb_set_props' data-use='c' data-ref="dvb_set_props">dvb_set_props</a> (<a class="local col1 ref" href="#191d" title='d' data-ref="191d">d</a>, <var>4</var>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#286" title="2" data-ref="_M/DTV_CLEAR">DTV_CLEAR</a>, <var>0</var>,</td></tr>
<tr><th id="1122">1122</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#303" title="17" data-ref="_M/DTV_DELIVERY_SYSTEM">DTV_DELIVERY_SYSTEM</a>, <a class="enum" href="../../../../include/linux/dvb/frontend.h.html#fe_delivery_system::SYS_DVBC_ANNEX_B" title='fe_delivery_system::SYS_DVBC_ANNEX_B' data-ref="fe_delivery_system::SYS_DVBC_ANNEX_B">SYS_DVBC_ANNEX_B</a>,</td></tr>
<tr><th id="1123">1123</th><td>                          <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#287" title="3" data-ref="_M/DTV_FREQUENCY">DTV_FREQUENCY</a>, <a class="local col2 ref" href="#192freq" title='freq' data-ref="192freq">freq</a>, <a class="macro" href="../../../../include/linux/dvb/frontend.h.html#288" title="4" data-ref="_M/DTV_MODULATION">DTV_MODULATION</a>, <a class="local col4 ref" href="#194mod" title='mod' data-ref="194mod">mod</a>);</td></tr>
<tr><th id="1124">1124</th><td>}</td></tr>
<tr><th id="1125">1125</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2016-Oct-25</em> from project vlc revision <em>2.2.0-git</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.0.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
